'use strict';var ke=require('ansi-colors'),jg=require('color-support'),X=require('path'),Re=require('fs'),url=require('url'),b=require('typescript'),os$1=require('os'),jsonSchemaRefParser=require('@hey-api/json-schema-ref-parser'),c12=require('c12'),x=require('handlebars');var _documentCurrentScript=typeof document!=='undefined'?document.currentScript:null;function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var ke__default=/*#__PURE__*/_interopDefault(ke);var jg__default=/*#__PURE__*/_interopDefault(jg);var X__default=/*#__PURE__*/_interopDefault(X);var Re__default=/*#__PURE__*/_interopDefault(Re);var b__default=/*#__PURE__*/_interopDefault(b);var x__default=/*#__PURE__*/_interopDefault(x);var Rl=Object.create;var Ko=Object.defineProperty;var Sl=Object.getOwnPropertyDescriptor;var Cl=Object.getOwnPropertyNames;var Tl=Object.getPrototypeOf,Il=Object.prototype.hasOwnProperty;var Le=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ge=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Pl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Cl(t))!Il.call(e,s)&&s!==r&&Ko(e,s,{get:()=>t[s],enumerable:!(n=Sl(t,s))||n.enumerable});return e};var Al=(e,t,r)=>(r=e!=null?Rl(Tl(e)):{},Pl(Ko(r,"default",{value:e,enumerable:true}),e));var Pp=ge((iP,Ip)=>{Ip.exports=Tp;Tp.sync=td;var Sp=Le("fs");function ed(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return  true;for(var n=0;n<r.length;n++){var s=r[n].toLowerCase();if(s&&e.substr(-s.length).toLowerCase()===s)return  true}return  false}function Cp(e,t,r){return !e.isSymbolicLink()&&!e.isFile()?false:ed(t,r)}function Tp(e,t,r){Sp.stat(e,function(n,s){r(n,n?false:Cp(s,e,t));});}function td(e,t){return Cp(Sp.statSync(e),e,t)}});var kp=ge((aP,jp)=>{jp.exports=Ep;Ep.sync=rd;var Ap=Le("fs");function Ep(e,t,r){Ap.stat(e,function(n,s){r(n,n?false:vp(s,t));});}function rd(e,t){return vp(Ap.statSync(e),t)}function vp(e,t){return e.isFile()&&nd(e,t)}function nd(e,t){var r=e.mode,n=e.uid,s=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),i=parseInt("100",8),c=parseInt("010",8),m=parseInt("001",8),l=i|c,f=r&m||r&c&&s===a||r&i&&n===o||r&l&&o===0;return f}});var qp=ge((cP,Np)=>{Le("fs");var zn;process.platform==="win32"||global.TESTING_WINDOWS?zn=Pp():zn=kp();Np.exports=Ls;Ls.sync=sd;function Ls(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,s){Ls(e,t||{},function(o,a){o?s(o):n(a);});})}zn(e,t||{},function(n,s){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,s=false),r(n,s);});}function sd(e,t){try{return zn.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return  false;throw r}}});var _p=ge((mP,Bp)=>{var xr=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",wp=Le("path"),od=xr?";":":",$p=qp(),Dp=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Mp=(e,t)=>{let r=t.colon||od,n=e.match(/\//)||xr&&e.match(/\\/)?[""]:[...xr?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],s=xr?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=xr?s.split(r):[""];return xr&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:s}},Fp=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:s,pathExtExe:o}=Mp(e,t),a=[],i=m=>new Promise((l,f)=>{if(m===n.length)return t.all&&a.length?l(a):f(Dp(e));let u=n[m],d=/^".*"$/.test(u)?u.slice(1,-1):u,y=wp.join(d,e),g=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;l(c(g,m,0));}),c=(m,l,f)=>new Promise((u,d)=>{if(f===s.length)return u(i(l+1));let y=s[f];$p(m+y,{pathExt:o},(g,R)=>{if(!g&&R)if(t.all)a.push(m+y);else return u(m+y);return u(c(m,l,f+1))});});return r?i(0).then(m=>r(null,m),r):i(0)},id=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:s}=Mp(e,t),o=[];for(let a=0;a<r.length;a++){let i=r[a],c=/^".*"$/.test(i)?i.slice(1,-1):i,m=wp.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;for(let f=0;f<n.length;f++){let u=l+n[f];try{if($p.sync(u,{pathExt:s}))if(t.all)o.push(u);else return u}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Dp(e)};Bp.exports=Fp;Fp.sync=id;});var Hp=ge((lP,Hs)=>{var Lp=(e={})=>{let t=e.env||process.env;return (e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Hs.exports=Lp;Hs.exports.default=Lp;});var Up=ge((fP,Wp)=>{var Vp=Le("path"),ad=_p(),pd=Hp();function Kp(e,t){let r=e.options.env||process.env,n=process.cwd(),s=e.options.cwd!=null,o=s&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd);}catch{}let a;try{a=ad.sync(e.command,{path:r[pd({env:r})],pathExt:t?Vp.delimiter:void 0});}catch{}finally{o&&process.chdir(n);}return a&&(a=Vp.resolve(s?e.options.cwd:"",a)),a}function cd(e){return Kp(e)||Kp(e,true)}Wp.exports=cd;});var zp=ge((uP,Ks)=>{var Vs=/([()\][%!^"`<>&|;, *?])/g;function md(e){return e=e.replace(Vs,"^$1"),e}function ld(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(Vs,"^$1"),t&&(e=e.replace(Vs,"^$1")),e}Ks.exports.command=md;Ks.exports.argument=ld;});var Xp=ge((dP,Qp)=>{Qp.exports=/^#!(.*)/;});var Jp=ge((yP,Gp)=>{var fd=Xp();Gp.exports=(e="")=>{let t=e.match(fd);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?n:n?`${s} ${n}`:s};});var Yp=ge((gP,Zp)=>{var Ws=Le("fs"),ud=Jp();function dd(e){let r=Buffer.alloc(150),n;try{n=Ws.openSync(e,"r"),Ws.readSync(n,r,0,150,0),Ws.closeSync(n);}catch{}return ud(r.toString())}Zp.exports=dd;});var nc=ge((hP,rc)=>{var yd=Le("path"),ec=Up(),tc=zp(),gd=Yp(),hd=process.platform==="win32",xd=/\.(?:com|exe)$/i,bd=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Od(e){e.file=ec(e);let t=e.file&&gd(e.file);return t?(e.args.unshift(e.file),e.command=t,ec(e)):e.file}function Rd(e){if(!hd)return e;let t=Od(e),r=!xd.test(t);if(e.options.forceShell||r){let n=bd.test(t);e.command=yd.normalize(e.command),e.command=tc.command(e.command),e.args=e.args.map(o=>tc.argument(o,n));let s=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${s}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=true;}return e}function Sd(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Rd(n)}rc.exports=Sd;});var ic=ge((xP,oc)=>{var Us=process.platform==="win32";function zs(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Cd(e,t){if(!Us)return;let r=e.emit;e.emit=function(n,s){if(n==="exit"){let o=sc(s,t);if(o)return r.call(e,"error",o)}return r.apply(e,arguments)};}function sc(e,t){return Us&&e===1&&!t.file?zs(t.original,"spawn"):null}function Td(e,t){return Us&&e===1&&!t.file?zs(t.original,"spawnSync"):null}oc.exports={hookChildProcess:Cd,verifyENOENT:sc,verifyENOENTSync:Td,notFoundError:zs};});var cc=ge((bP,br)=>{var ac=Le("child_process"),Qs=nc(),Xs=ic();function pc(e,t,r){let n=Qs(e,t,r),s=ac.spawn(n.command,n.args,n.options);return Xs.hookChildProcess(s,n),s}function Id(e,t,r){let n=Qs(e,t,r),s=ac.spawnSync(n.command,n.args,n.options);return s.error=s.error||Xs.verifyENOENTSync(s.status,n),s}br.exports=pc;br.exports.spawn=pc;br.exports.sync=Id;br.exports._parse=Qs;br.exports._enoent=Xs;});var He="client",he=e=>{let t=A(e);return t.name==="@hey-api/client-axios"||t.name==="@hey-api/client-nuxt"?"baseURL":"baseUrl"},A=e=>{for(let t of e.pluginOrder){let r=e.plugins[t];if(r?._tags?.includes("client"))return r}return {name:""}};var Wo,S=()=>{let e=Wo,t=A(e);return e.client=t,e},Uo=e=>(Wo=e,S()),D=e=>A(e).name.startsWith("legacy/"),W=e=>{if(D(e))return e.name};var Jr=e=>{switch(e){case "legacy/angular":return "AngularHttpRequest";case "legacy/axios":return "AxiosHttpRequest";case "legacy/fetch":return "FetchHttpRequest";case "legacy/node":return "NodeHttpRequest";case "legacy/xhr":return "XHRHttpRequest";default:return ""}};function Xt(e,t){let r=e.toLocaleLowerCase(),n=t.toLocaleLowerCase();return r.localeCompare(n,"en")}var Ir=(e,t)=>Xt(e.name,t.name);function Pr(e){return e.sort(Ir)}var we=e=>{Re__default.default.existsSync(e)||Re__default.default.mkdirSync(e,{recursive:true});},Yr=e=>{Re__default.default.existsSync(e)&&Re__default.default.rmSync(e,{force:true,recursive:true});},Gt=({moduleOutput:e,sourceOutput:t})=>{let r=t.split("/");return `${Array.from({length:r.length}).fill("").join("../")||"./"}${e}`};var zo=async(e,t,r,n)=>{let s=S(),o=A(s),a=n.client({$config:s,...r,httpRequest:Jr(o.name),models:Pr(r.models),services:Pr(r.services)});W(s)&&(we(t),Re__default.default.writeFileSync(X__default.default.resolve(t,`${W(s)}.ts`),a));};var Nl=url.fileURLToPath((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('index.cjs', document.baseURI).href))),Qo=X__default.default.dirname(Nl),Go=e=>{let t=e.split(X__default.default.sep);return t.slice(0,t.length-1).join(X__default.default.sep)},te=({config:e,sourceOutput:t})=>{let r=A(e);if("bundle"in r&&r.bundle)return Gt({moduleOutput:"client",sourceOutput:t});if(X__default.default.isAbsolute(r.name)){let n=Go(r.name),s=X__default.default.resolve(e.output.path);return X__default.default.relative(s,n).replace(/\\/g,"/")}return r.name},U={Options:{asType:true,name:"Options"},OptionsLegacyParser:{asType:true,name:"OptionsLegacyParser"}},Xo=e=>{let t=Re__default.default.readFileSync(e,"utf8");t=t.replace(/from\s+['"](\.\.?\/[^'"]*?)['"]/g,(r,n)=>{let s=n.lastIndexOf("/");return (s>=0?n.slice(s+1):n).includes(".")?r:`from '${n}.js'`}),Re__default.default.writeFileSync(e,t,"utf8");},en=({outputPath:e,plugin:t,tsConfig:r})=>{if(t.name.startsWith("@hey-api/client-")){let f=r?.options.moduleResolution===b__default.default.ModuleResolutionKind.NodeNext,u=X__default.default.resolve(e,"core");we(u);let d=X__default.default.resolve(Qo,"clients","core");if(Re__default.default.cpSync(d,u,{recursive:true}),f){let O=Re__default.default.readdirSync(u);for(let j of O)Xo(X__default.default.resolve(u,j));}let y=X__default.default.resolve(e,"client");we(y);let g=t.name.slice(16),R=X__default.default.resolve(Qo,"clients",g);if(Re__default.default.cpSync(R,y,{recursive:true}),f){let O=Re__default.default.readdirSync(y);for(let j of O)Xo(X__default.default.resolve(y,j));}return}let s="";if(X__default.default.isAbsolute(t.name)&&(s=Go(t.name)),s){let f=X__default.default.resolve(e,"client");we(f),Re__default.default.cpSync(s,f,{recursive:true});return}let a=X__default.default.normalize(Le.resolve(t.name)).split(X__default.default.sep),i=a.slice(0,a.indexOf("dist")+1).join(X__default.default.sep),m=[a[a.length-1],"index.d.ts","index.d.cts"],l=X__default.default.resolve(e,"client");we(l);for(let f of m)Re__default.default.copyFileSync(X__default.default.resolve(i,f),X__default.default.resolve(l,f));};var Jo=async(e,t,r)=>{let n=S();if(n.exportCore){let s=A(n),o={httpRequest:Jr(s.name),server:n.base!==void 0?n.base:t.server,version:t.version};if(Re__default.default.rmSync(X__default.default.resolve(e),{force:true,recursive:true}),Re__default.default.mkdirSync(X__default.default.resolve(e),{recursive:true}),await Re__default.default.writeFileSync(X__default.default.resolve(e,"OpenAPI.ts"),r.core.settings({$config:n,...o})),await Re__default.default.writeFileSync(X__default.default.resolve(e,"ApiError.ts"),r.core.apiError({$config:n,...o})),await Re__default.default.writeFileSync(X__default.default.resolve(e,"ApiRequestOptions.ts"),r.core.apiRequestOptions({$config:n,...o})),await Re__default.default.writeFileSync(X__default.default.resolve(e,"ApiResult.ts"),r.core.apiResult({$config:n,...o})),s.name!=="legacy/angular"&&await Re__default.default.writeFileSync(X__default.default.resolve(e,"CancelablePromise.ts"),r.core.cancelablePromise({$config:n,...o})),await Re__default.default.writeFileSync(X__default.default.resolve(e,"request.ts"),r.core.request({$config:n,...o})),W(n)&&(await Re__default.default.writeFileSync(X__default.default.resolve(e,"BaseHttpRequest.ts"),r.core.baseHttpRequest({$config:n,...o})),await Re__default.default.writeFileSync(X__default.default.resolve(e,`${o.httpRequest}.ts`),r.core.httpRequest({$config:n,...o}))),n.request){let a=X__default.default.resolve(process.cwd(),n.request);if(!await Re__default.default.existsSync(a))throw new Error(`Custom request file "${a}" does not exists`);await Re__default.default.copyFileSync(a,X__default.default.resolve(e,"request.ts"));}}};var Jt=/^[^$_\p{ID_Start}]+/u,Ce=/^-?\d+(\.\d+)?$/,Zo=/^(document|history|location|navigator|window)$/g,Yo=/^(console|Array|Date|Error|Function|JSON|Map|Math|Object|Promise|RegExp|Set|WeakMap|WeakSet)$/g,fe=/^(arguments|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|eval|export|extends|false|finally|for|from|function|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)$/g,ei=/^(global|process|Buffer)$/g,ti=/^(any|as|bigint|boolean|namespace|never|null|number|string|symbol|type|undefined|unknown|void)$/g,$e=/^[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*$/u;var Te=e=>(e||e==="")&&($e.lastIndex=0,!$e.test(e))?`'${e}'`:e,Zt=e=>e&&e.startsWith("'")&&e.endsWith("'")?e.slice(1,e.length-1):e,H=e=>e.replace(/\*\//g,"*").replace(/\/\*/g,"*").replace(/\r?\n(.*)/g,(t,r)=>os$1.EOL+r.trim());var wl=b__default.default.createPrinter({newLine:b__default.default.NewLineKind.LineFeed,removeComments:false}),ri=e=>b__default.default.createSourceFile("",e,b__default.default.ScriptTarget.ESNext,false,b__default.default.ScriptKind.TS),$l=ri(""),Dl=e=>e.replace(/\\u([0-9a-fA-F]{4})/g,(t,r)=>String.fromCharCode(Number.parseInt(r,16)));function Ve({node:e,unescape:t=false}){let r=wl.printNode(b__default.default.EmitHint.Unspecified,e,$l);if(!t)return r;try{return Dl(r)}catch{return S().logs.level==="debug"&&console.warn("Could not decode value:",r),r}}function ni(e){return ri(e).statements[0]}var I=({text:e})=>b__default.default.factory.createIdentifier(e),si=()=>b__default.default.factory.createThis(),J=({keyword:e})=>{let t=us({keyword:e});return b__default.default.factory.createModifier(t)},oi=({initializer:e,modifier:t,name:r,type:n})=>b__default.default.factory.createPropertyDeclaration(t?[J({keyword:t})]:void 0,r,void 0,n,e),xe={boolean:e=>e?b__default.default.factory.createTrue():b__default.default.factory.createFalse(),export:({alias:e,asType:t=false,name:r})=>{let n=I({text:r});if(e){let s=I({text:e});return b__default.default.factory.createExportSpecifier(t,n,s)}return b__default.default.factory.createExportSpecifier(t,void 0,n)},import:({alias:e,asType:t=false,name:r})=>{let n=I({text:r});if(e){let s=I({text:e});return b__default.default.factory.createImportSpecifier(t,n,s)}return b__default.default.factory.createImportSpecifier(t,void 0,n)},number:e=>e<0?b__default.default.factory.createPrefixUnaryExpression(b__default.default.SyntaxKind.MinusToken,b__default.default.factory.createNumericLiteral(Math.abs(e))):b__default.default.factory.createNumericLiteral(e),string:(e,t=false)=>{let r=e;t&&(r=Zt(r));let n=r.includes("'")&&r.includes('"'),s=r.includes(`
`),o=r.startsWith("`"),a=r.startsWith("\\`")&&r.endsWith("\\`");return (s||n||o)&&!a&&(r=`\`${r.replace(/(?<!\\)`/g,"\\`").replace(/\${/g,"\\${")}\``),r.startsWith("`")?I({text:r}):Dt({text:r})}},$t=e=>e!==null&&typeof e=="object"&&typeof e.kind=="number"&&typeof e.flags=="number"&&typeof e.pos=="number"&&typeof e.end=="number",Ct=e=>e!==void 0,Ml=({commentObject:e,node:t})=>{let r=e.lines.filter(a=>!!a||a==="");if(!r.length)return;if(!e.jsdoc){for(let a of r)b__default.default.addSyntheticLeadingComment(t,b__default.default.SyntaxKind.SingleLineCommentTrivia,` ${a}`,true);return}let n=r.map((a,i)=>{let c=a;return i!==r.length&&(c=`${c}
`),b__default.default.factory.createJSDocText(c)}),s=b__default.default.factory.createJSDocComment(b__default.default.factory.createNodeArray(n),void 0),o=Ve({node:s,unescape:true}).replace("/*","").replace("*  */","");b__default.default.addSyntheticLeadingComment(t,b__default.default.SyntaxKind.MultiLineCommentTrivia,o,true);},oe=({comments:e=[],node:t})=>{let r=!!e.find(s=>typeof s=="object"&&s),n=e;r||(n=[{jsdoc:true,lines:e}]);for(let s of n)Ml({commentObject:s,node:t});};var ie=(e,t)=>b__default.default.isTypeNode(e)?e:typeof e=="number"?b__default.default.factory.createLiteralTypeNode(xe.number(e)):Ie({typeArguments:t?.map(r=>ie(r)),typeName:e}),ds=({expression:e,name:t})=>b__default.default.factory.createPropertyAccessChain(e,b__default.default.factory.createToken(b__default.default.SyntaxKind.QuestionDotToken),t),We=({expression:e,isOptional:t,name:r})=>{let n=typeof e=="string"?I({text:e}):e;if(t&&typeof r!="number")return ds({expression:n,name:r});if(typeof r=="string"){if($e.lastIndex=0,!$e.test(r)){!r.startsWith("'")&&!r.endsWith("'")&&(r=`'${r}'`);let o=I({text:r});return b__default.default.factory.createElementAccessExpression(n,o)}let s=I({text:r});return b__default.default.factory.createPropertyAccessExpression(n,s)}if(typeof r=="number"){let s=b__default.default.factory.createNumericLiteral(r);return b__default.default.factory.createElementAccessExpression(n,s)}return b__default.default.factory.createPropertyAccessExpression(n,r)},ys=()=>b__default.default.factory.createNull(),Ke=({identifiers:e=[],isValueAccess:t,shorthand:r,unescape:n,value:s})=>{if(s===null)return ys();if(Array.isArray(s))return gs({elements:s});if(typeof s=="object")return sn({identifiers:e,obj:s,shorthand:r});if(typeof s=="number")return xe.number(s);if(typeof s=="boolean")return xe.boolean(s);if(typeof s=="string"){if(t){let o=s.split(".");return We({expression:o[0],name:o[1]})}return xe.string(s,n)}},Ar=e=>e.map(t=>{if("destructure"in t)return Yt({name:b__default.default.factory.createObjectBindingPattern(t.destructure.map(n=>"destructure"in n?void 0:b__default.default.factory.createBindingElement(void 0,void 0,I({text:n.name}),void 0)).filter(Boolean)),type:t.type!==void 0?ie(t.type):void 0});let r=t.accessLevel?[J({keyword:t.accessLevel})]:[];return t.isReadOnly&&r.push(J({keyword:"readonly"})),Yt({initializer:t.default!==void 0?Ke({value:t.default}):void 0,modifiers:r,name:I({text:t.name}),required:t.isRequired!==false,type:t.type!==void 0?ie(t.type):void 0})}),us=({keyword:e})=>{switch(e){case "any":return b__default.default.SyntaxKind.AnyKeyword;case "async":return b__default.default.SyntaxKind.AsyncKeyword;case "boolean":return b__default.default.SyntaxKind.BooleanKeyword;case "export":return b__default.default.SyntaxKind.ExportKeyword;case "never":return b__default.default.SyntaxKind.NeverKeyword;case "number":return b__default.default.SyntaxKind.NumberKeyword;case "private":return b__default.default.SyntaxKind.PrivateKeyword;case "protected":return b__default.default.SyntaxKind.ProtectedKeyword;case "public":return b__default.default.SyntaxKind.PublicKeyword;case "readonly":return b__default.default.SyntaxKind.ReadonlyKeyword;case "static":return b__default.default.SyntaxKind.StaticKeyword;case "string":return b__default.default.SyntaxKind.StringKeyword;case "undefined":return b__default.default.SyntaxKind.UndefinedKeyword;case "unknown":return b__default.default.SyntaxKind.UnknownKeyword;case "void":return b__default.default.SyntaxKind.VoidKeyword;default:throw new Error(`unsupported syntax kind keyword "${e}"`)}},Mt=({keyword:e})=>{let t=us({keyword:e});return b__default.default.factory.createKeywordTypeNode(t)},Er=e=>e.map(t=>b__default.default.isTypeParameterDeclaration(t)?t:vr({constraint:t.extends?typeof t.extends=="string"?Mt({keyword:"boolean"}):t.extends:void 0,defaultType:t.default!==void 0?$t(t.default)?t.default:b__default.default.factory.createLiteralTypeNode(t.default?b__default.default.factory.createTrue():b__default.default.factory.createFalse()):void 0,name:t.name})),ii=({operator:e,type:t})=>{let r=e==="keyof"?b__default.default.SyntaxKind.KeyOfKeyword:e==="readonly"?b__default.default.SyntaxKind.ReadonlyKeyword:b__default.default.SyntaxKind.UniqueKeyword;return b__default.default.factory.createTypeOperatorNode(r,t)},vr=({constraint:e,defaultType:t,modifiers:r,name:n})=>b__default.default.factory.createTypeParameterDeclaration(r,n,e,t),rn=({members:e,nameType:t,questionToken:r,readonlyToken:n,type:s,typeParameter:o})=>b__default.default.factory.createMappedTypeNode(n,o,t,r,s,e),ai=({literal:e})=>b__default.default.factory.createLiteralTypeNode(e),nn=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:s,statements:o=[],types:a=[]})=>{let i=b__default.default.factory.createArrowFunction(e?[J({keyword:"async"})]:void 0,a?Er(a):void 0,Ar(n),s?ie(s):void 0,void 0,Array.isArray(o)?Pe({multiLine:r,statements:o}):o);return oe({comments:t,node:i}),i},pi=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:s,statements:o=[],types:a=[]})=>{let i=b__default.default.factory.createFunctionExpression(e?[J({keyword:"async"})]:void 0,void 0,void 0,a?Er(a):void 0,Ar(n),s?ie(s):void 0,Pe({multiLine:r,statements:o}));return oe({comments:t,node:i}),i},gs=({elements:e,multiLine:t=false})=>b__default.default.factory.createArrayLiteralExpression(e.map(n=>$t(n)?n:Ke({value:n})).filter(Ct),t||!Array.isArray(e[0])&&typeof e[0]=="object"),ci=({expression:e})=>b__default.default.factory.createAwaitExpression(e),mi=({parameters:e=[],returnType:t,typeParameters:r})=>b__default.default.factory.createFunctionTypeNode(r,e,t),sn=({comments:e,identifiers:t=[],multiLine:r=true,obj:n,shorthand:s,unescape:o=false})=>{let a=Array.isArray(n)?n.map(c=>{let m=false;if("key"in c){let{key:f}=c;m=f===c.value,(f.match(/^[0-9]/)&&f.match(/\D+/g)||f.match(/\W/g)||f==="")&&!f.startsWith("'")&&!f.endsWith("'")&&(c.key=`'${f}'`);}let l;if("spread"in c){let f=$t(c.spread)?c.spread:I({text:c.spread});l=b__default.default.factory.createSpreadAssignment(c.assertion?kr({expression:f,type:typeof c.assertion=="string"?Mt({keyword:c.assertion}):c.assertion}):f);}else if(c.shorthand||s&&m)l=b__default.default.factory.createShorthandPropertyAssignment(c.value);else {let f=$t(c.value)?c.value:Array.isArray(c.value)&&(!c.value.length||typeof c.value[0]=="object")?sn({multiLine:r,obj:c.value,shorthand:s,unescape:o}):Ke({identifiers:t.includes(c.key)?Object.keys(c.value):[],isValueAccess:c.isValueAccess,shorthand:s,unescape:o,value:c.value});if(!f)return;t.includes(c.key)&&!b__default.default.isObjectLiteralExpression(f)&&(f=I({text:c.value})),l=tn({initializer:f,name:c.key});}return oe({comments:c.comments,node:l}),l}).filter(Ct):Object.entries(n).map(([c,m])=>{let l=Ke({identifiers:t.includes(c)?Object.keys(m):[],shorthand:s,unescape:o,value:m});if(!l)return;t.includes(c)&&!b__default.default.isObjectLiteralExpression(l)&&(l=I({text:m}));let f=c===m;return c.match(/^[0-9]/)&&c.match(/\D+/g)&&!c.startsWith("'")&&!c.endsWith("'")&&(c=`'${c}'`),c.match(/\W/g)&&!c.startsWith("'")&&!c.endsWith("'")&&(c=`'${c}'`),s&&f?b__default.default.factory.createShorthandPropertyAssignment(m):tn({initializer:l,name:c})}).filter(Ct),i=b__default.default.factory.createObjectLiteralExpression(a,r);return oe({comments:e,node:i}),i},li=({comments:e={},leadingComment:t,name:r,obj:n})=>{let s=Array.isArray(n)?n.map(a=>{let i=Bl({initializer:Ke({value:a.value}),name:a.key});return oe({comments:a.comments,node:i}),i}):Object.entries(n).map(([a,i])=>{let c=b__default.default.factory.createEnumMember(a,Ke({unescape:true,value:i}));return oe({comments:e[a],node:c}),c}),o=b__default.default.factory.createEnumDeclaration([J({keyword:"export"})],I({text:r}),s);return oe({comments:t,node:o}),o},Bl=({initializer:e,name:t})=>{let r=t;return typeof r=="string"&&(r.includes("'")?r=Dt({isSingleQuote:false,text:r}):r=Te(r)),b__default.default.factory.createEnumMember(r,e)},fi=({name:e,statements:t})=>b__default.default.factory.createModuleDeclaration([J({keyword:"export"})],I({text:e}),b__default.default.factory.createModuleBlock(t),b__default.default.NodeFlags.Namespace),ui=({indexType:e,objectType:t})=>b__default.default.factory.createIndexedAccessTypeNode(t,e),Dt=({isSingleQuote:e,text:t})=>(e===void 0&&(e=!t.includes("'")),b__default.default.factory.createStringLiteral(t,e)),di=({condition:e,whenFalse:t,whenTrue:r})=>b__default.default.factory.createConditionalExpression(e,b__default.default.factory.createToken(b__default.default.SyntaxKind.QuestionToken),r,b__default.default.factory.createToken(b__default.default.SyntaxKind.ColonToken),t),yi=({text:e})=>b__default.default.factory.createTypeOfExpression(I({text:e})),gi=({comment:e,exportType:t,name:r,type:n,typeParameters:s=[]})=>{let o=b__default.default.factory.createTypeAliasDeclaration(t?[J({keyword:"export"})]:void 0,I({text:r}),Er(s),ie(n));return oe({comments:e,node:o}),o},Ie=({typeArguments:e,typeName:t})=>b__default.default.factory.createTypeReferenceNode(t,e),hi=({type:e})=>b__default.default.factory.createParenthesizedType(e),Yt=({initializer:e,modifiers:t,name:r,required:n=true,type:s})=>b__default.default.factory.createParameterDeclaration(t,void 0,r,n?void 0:b__default.default.factory.createToken(b__default.default.SyntaxKind.QuestionToken),s,e),jr=({argumentsArray:e,expression:t,typeArguments:r})=>b__default.default.factory.createNewExpression(t,r,e),xi=({awaitModifier:e,expression:t,initializer:r,statement:n})=>b__default.default.factory.createForOfStatement(e,r,t,n),bi=({left:e,right:t})=>b__default.default.factory.createAssignment(e,t),Pe=({multiLine:e=true,statements:t})=>b__default.default.factory.createBlock(t,e),tn=({initializer:e,name:t})=>b__default.default.factory.createPropertyAssignment(t,e),Oi=({flags:e=[],text:t})=>{let r=t.startsWith("/")&&t.endsWith("/")?t:`/${t}/`;return b__default.default.factory.createRegularExpressionLiteral(`${r}${e.join("")}`)},kr=({expression:e,type:t})=>b__default.default.factory.createAsExpression(e,t),Ri=({value:e})=>{let t=[],r="";for(let s of e.slice(0).reverse())if(typeof s=="string")r=`${s}${r}`;else {let o=t.length?b__default.default.factory.createTemplateMiddle(r):b__default.default.factory.createTemplateTail(r),a=b__default.default.factory.createTemplateLiteralTypeSpan(s,o);t.push(a),r="";}return b__default.default.factory.createTemplateLiteralType(b__default.default.factory.createTemplateHead(r),t.reverse())};var Si=({module:e})=>b__default.default.factory.createExportDeclaration(void 0,false,void 0,xe.string(e)),Ue=({functionName:e,parameters:t=[],types:r})=>{let n=typeof e=="string"?I({text:e}):e,s=t.filter(a=>a!==void 0).map(a=>typeof a=="string"?I({text:a}):a);return b__default.default.factory.createCallExpression(n,r,s)},Ci=({exports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(c=>typeof c!="object"||!c.asType),s=r.map(c=>{let m=typeof c=="string"?{name:c}:c;return xe.export({alias:m.alias,asType:n&&m.asType,name:m.name})}),o=b__default.default.factory.createNamedExports(s),a=xe.string(t);return b__default.default.factory.createExportDeclaration(void 0,!n,o,a)},Ti=({assertion:e,comment:t,destructure:r,exportConst:n,expression:s,name:o,typeName:a})=>{let i=e?kr({expression:s,type:typeof e=="string"?Ie({typeName:e}):e}):s,c=I({text:o}),m=b__default.default.factory.createVariableDeclaration(r?b__default.default.factory.createObjectBindingPattern([b__default.default.factory.createBindingElement(void 0,void 0,c,void 0)]):c,void 0,a?typeof a=="string"?Ie({typeName:a}):a:void 0,i),l=b__default.default.factory.createVariableStatement(n?[J({keyword:"export"})]:void 0,b__default.default.factory.createVariableDeclarationList([m],b__default.default.NodeFlags.Const));return oe({comments:t,node:l}),l},Ii=({imports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(l=>typeof l!="object"||!l.asType),s,o=[];r.forEach(l=>{let f=typeof l=="string"?{name:l}:l;f.name==="*"&&f.alias?s=f:o.push(xe.import({alias:f.alias,asType:n&&f.asType,name:f.name}));});let a=s?b__default.default.factory.createNamespaceImport(I({text:s.alias})):b__default.default.factory.createNamedImports(o),i=b__default.default.factory.createImportClause(!n,void 0,a),c=xe.string(t);return b__default.default.factory.createImportDeclaration(void 0,i,c)};var Pi=({accessLevel:e,comment:t,multiLine:r=true,parameters:n=[],statements:s=[]})=>{let o=e?[J({keyword:e})]:void 0,a=b__default.default.factory.createConstructorDeclaration(o,Ar(n),Pe({multiLine:r,statements:s}));return oe({comments:t,node:a}),a},Ai=({accessLevel:e,comment:t,isStatic:r=false,multiLine:n=true,name:s,parameters:o=[],returnType:a,statements:i=[],types:c=[]})=>{let m=e?[J({keyword:e})]:[];r&&m.push(J({keyword:"static"}));let l=b__default.default.factory.createMethodDeclaration(m,void 0,I({text:s}),void 0,c?Er(c):void 0,Ar(o),a?ie(a):void 0,Pe({multiLine:n,statements:i}));return oe({comments:t,node:l}),l},Ei=({decorator:e,exportClass:t,extendedClasses:r,name:n,nodes:s})=>{let o=[];t&&o.push(J({keyword:"export"})),e&&o.unshift(b__default.default.factory.createDecorator(Ue({functionName:e.name,parameters:e.args.map(i=>Ke({value:i})).filter(Ct)})));let a=[];if(r)for(let i of r)a.push(b__default.default.factory.createHeritageClause(b__default.default.SyntaxKind.ExtendsKeyword,[b__default.default.factory.createExpressionWithTypeArguments(I({text:i}),void 0)]));return b__default.default.factory.createClassDeclaration(o,I({text:n}),void 0,a,s)};var Bt=({expression:e})=>b__default.default.factory.createExpressionStatement(e);var on=({expression:e})=>b__default.default.factory.createReturnStatement(e),ji=({args:e=[],name:t,types:r=[]})=>{let n=r.map(i=>Ie({typeName:i})),s=e.map(i=>b__default.default.isExpression(i)?i:I({text:i})).filter(Ct),o=Ue({functionName:t,parameters:s,types:n});return on({expression:o})},ki=({expression:e})=>on({expression:typeof e=="string"?I({text:e}):e});var er=e=>e.slice(1).reduce((t,r)=>($e.lastIndex=0,$e.test(r)?ds({expression:t,name:r}):b__default.default.factory.createElementAccessChain(t,b__default.default.factory.createToken(b__default.default.SyntaxKind.QuestionDotToken),I({text:r}))),I({text:e[0]})),an=e=>e.slice(1).reduce((t,r)=>We({expression:t,name:r}),I({text:e[0]})),Ni=({expressions:e})=>e.reduce((r,n)=>We({expression:r,name:n})),pn=({left:e,operator:t="=",right:r})=>b__default.default.factory.createBinaryExpression(e,t==="="?b__default.default.SyntaxKind.EqualsToken:t==="==="?b__default.default.SyntaxKind.EqualsEqualsEqualsToken:t==="??"?b__default.default.SyntaxKind.QuestionQuestionToken:b__default.default.SyntaxKind.InKeyword,typeof r=="string"?I({text:r}):r),tr=({elseStatement:e,expression:t,thenStatement:r})=>b__default.default.factory.createIfStatement(t,r,e),qi=({path:e})=>{let t=er(e),r=an(e),n=Pe({statements:[Bt({expression:pn({left:r,right:jr({argumentsArray:[r],expression:I({text:"Date"})})})})]});return tr({expression:t,thenStatement:n})},wi=({path:e,transformerName:t})=>{let r=er(e),n=an(e),s=Pe({statements:[Bt({expression:Ue({functionName:t,parameters:[n]})})]});return [tr({expression:r,thenStatement:s})]},$i=({path:e,transformerName:t})=>{let r=er(e),n=an(e);return tr({expression:Ue({functionName:We({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:Pe({statements:[Bt({expression:b__default.default.factory.createCallChain(We({expression:n,name:"forEach"}),void 0,void 0,[I({text:t})])})]})})},Di=({parameterName:e})=>{let t=I({text:"Date"});return jr({argumentsArray:[I({text:e})],expression:t})},Mi=({path:e,transformExpression:t})=>{let r=er(e),n=an(e);return tr({expression:Ue({functionName:We({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:Pe({statements:[Bt({expression:pn({left:n,right:b__default.default.factory.createCallChain(We({expression:n,name:"map"}),void 0,void 0,[nn({parameters:[{name:"item"}],statements:t})])})})]})})};var zl=Ie({typeName:"null"}),rr=({isNullable:e,node:t})=>e?b__default.default.factory.createUnionTypeNode([t,zl]):t,hs=({indexKey:e,indexProperty:t,isNullable:r,properties:n,useLegacyResolution:s})=>{let a=n.map(m=>{let l=m.isReadOnly?[J({keyword:"readonly"})]:void 0,f=m.isRequired!==false?void 0:b__default.default.factory.createToken(b__default.default.SyntaxKind.QuestionToken),u=ie(m.type);let d=b__default.default.factory.createPropertySignature(l,s||typeof m.name=="string"&&m.name.match($e)||typeof m.name!="string"&&b__default.default.isPropertyName(m.name)?m.name:Dt({text:m.name}),f,u);return oe({comments:m.comment,node:d}),d}),i=false;if(t)if(!n.length&&e){let m=rn({questionToken:b__default.default.factory.createToken(b__default.default.SyntaxKind.QuestionToken),type:Mt({keyword:"string"}),typeParameter:vr({constraint:Ie({typeName:e}),name:I({text:String(t.name)})})});a.push(m),i=true;}else {let m=t.isReadOnly?[J({keyword:"readonly"})]:void 0,l=b__default.default.factory.createIndexSignature(m,[Yt({name:I({text:String(t.name)}),type:Mt({keyword:"string"})})],ie(t.type));a.push(l);}let c=i?a[0]:b__default.default.factory.createTypeLiteralNode(a);return rr({isNullable:r,node:c})},Nr=({isNullable:e,types:t})=>{let r=t.map(s=>ie(s)),n=b__default.default.factory.createUnionTypeNode(r);return rr({isNullable:e,node:n})},Fi=({isNullable:e,types:t})=>{let r=t.map(s=>ie(s)),n=b__default.default.factory.createIntersectionTypeNode(r);return rr({isNullable:e,node:n})},Bi=({isNullable:e=false,types:t})=>{let r=t.map(s=>ie(s)),n=b__default.default.factory.createTupleTypeNode(r);return rr({isNullable:e,node:n})},_i=(e,t,r=false,n=true)=>{let s=Nr({types:e}),o=Nr({types:t}),a=hs({properties:[{name:`[key: ${Ve({node:s,unescape:true})}]`,type:o}],useLegacyResolution:n});return rr({isNullable:r,node:a})},Li=(e,t=false)=>{let r=Ie({typeArguments:[Array.isArray(e)?Nr({types:e}):e],typeName:"Array"});return rr({isNullable:t,node:r})};var p={anonymousFunction:pi,arrayLiteralExpression:gs,arrowFunction:nn,asExpression:kr,assignment:bi,awaitExpression:ci,binaryExpression:pn,block:Pe,callExpression:Ue,classDeclaration:Ei,conditionalExpression:di,constVariable:Ti,constructorDeclaration:Pi,enumDeclaration:li,exportAllDeclaration:Si,exportNamedDeclaration:Ci,expressionToStatement:Bt,forOfStatement:xi,functionTypeNode:mi,identifier:I,ifStatement:tr,indexedAccessTypeNode:ui,isTsNode:$t,keywordTypeNode:Mt,literalTypeNode:ai,mappedTypeNode:rn,methodDeclaration:Ai,namedImportDeclarations:Ii,namespaceDeclaration:fi,newExpression:jr,nodeToString:Ve,null:ys,objectExpression:sn,ots:xe,parameterDeclaration:Yt,propertyAccessExpression:We,propertyAccessExpressions:Ni,propertyAssignment:tn,propertyDeclaration:oi,regularExpressionLiteral:Oi,returnFunctionCall:ji,returnStatement:on,returnVariable:ki,safeAccessExpression:er,stringLiteral:Dt,stringToTsNodes:ni,templateLiteralType:Ri,this:si,transformArrayMap:Mi,transformArrayMutation:$i,transformDateMutation:qi,transformFunctionMutation:wi,transformNewDate:Di,typeAliasDeclaration:gi,typeArrayNode:Li,typeInterfaceNode:hs,typeIntersectionNode:Fi,typeNode:ie,typeOfExpression:yi,typeOperatorNode:ii,typeParameterDeclaration:vr,typeParenthesizedNode:hi,typeRecordNode:_i,typeReferenceNode:Ie,typeTupleNode:Bi,typeUnionNode:Nr,valueToExpression:Ke};var Xl=[fe,ti,Yo,ei,Zo],cn=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");if(Jt.lastIndex=0,Jt.test(t))return `_${t}`;for(let r of Xl){if(t.startsWith("_"))return t;t=t.replace(r,"_$1");}return t};var Hi=/[\p{Lu}]/u,xs=/[\p{Ll}]/u,Ki=/([\p{Alpha}\p{N}_]|$)/u,nr=/[_.\- `\\[\]{}\\/]+/,Gl=new RegExp(`^${nr.source}`),bs=new RegExp(`${nr.source}${Ki.source}`,"gu"),Vi=new RegExp(`\\d+${Ki.source}`,"gu"),Jl=({case:e,string:t})=>{let r=false,n=false,s=false,o=false,a=e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?"_":"-";for(let i=0;i<t.length;i++){let c=t[i];o=i>2?t[i-3]===a:true;let m=i+1,l=t[m];for(nr.lastIndex=0;l&&nr.test(l);)m+=1,l=t[m];let f=m!==i+1;if(xs.lastIndex=0,Hi.lastIndex=0,Hi.test(c)&&(r||l&&!f&&l!=="s"&&xs.test(l)))t=`${t.slice(0,i)}${a}${t.slice(i)}`,i++,s=n,r=false,n=true;else if(n&&s&&xs.test(c)&&!o&&!(c==="s"&&(!l||l.toLocaleLowerCase()!==l)))t=`${t.slice(0,i-1)}${a}${t.slice(i-1)}`,s=n,r=true,n=false;else {let u=c.toLocaleLowerCase(),d=c.toLocaleUpperCase();s=n,r=u===c&&d!==c,n=d===c&&u!==c;}}return t},E=({case:e,stripLeadingSeparators:t=true,value:r})=>{let n=r.trim();return n.length?!e||e==="preserve"?n:n.length===1?(nr.lastIndex=0,nr.test(n)?"":e==="PascalCase"||e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase()):(n!==n.toLocaleLowerCase()&&(n=Jl({case:e,string:n})),(t||n[0]!==r[0])&&(n=n.replace(Gl,"")),n=e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase(),e==="PascalCase"&&(n=`${n.charAt(0).toLocaleUpperCase()}${n.slice(1)}`),e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?(n=n.replaceAll(bs,(o,a,i)=>i===0&&!t?o:`_${a}`),n[n.length-1]==="_"&&(n=n.slice(0,n.length-1))):(bs.lastIndex=0,Vi.lastIndex=0,n=n.replaceAll(Vi,(o,a,i)=>["_","-","."].includes(n.charAt(i+o.length))?o:o.toLocaleUpperCase()),n=n.replaceAll(bs,(o,a,i)=>i===0&&!t&&o[0]&&r.startsWith(o[0])?o:a.toLocaleUpperCase())),n):""};var de=class{_exportFromIndex;_headers=[];_id;_identifierCase;_imports=new Map;_items=[];_name;_path;identifiers={};constructor({dir:t,exportFromIndex:r=false,header:n=true,id:s,identifierCase:o,name:a}){this._exportFromIndex=r,this._id=s,this._identifierCase=o,this._name=this._setName(a),this._path=X__default.default.resolve(t,this._name),n&&this._headers.push("// This file is auto-generated by @hey-api/openapi-ts");}add(...t){this._items=this._items.concat(t);}blockIdentifier({$ref:t,namespace:r}){let{name:n,ref:s}=Ui(t),o=this.identifiers[n.toLocaleLowerCase()]?.[r]?.[s];if(!o)throw new Error(`Identifier for $ref ${t} in namespace ${r} not found`);return o.name=false,{created:false,name:o.name}}get exportFromIndex(){return this._exportFromIndex}get id(){return this._id}identifier(t){return Rs({case:this._identifierCase,identifiers:this.identifiers,...t})}import({module:t,...r}){let n=this._imports.get(t);n||(n=new Map,this._imports.set(t,n));let s=n.get(r.name);return s?{...s,name:s.alias||s.name}:(n.set(r.name,r),{...r,name:r.alias||r.name})}isEmpty(){return !this._items.length}nameWithoutExtension(){let{name:t}=Os(this._name);return t}relativePathToFile({context:t,id:r}){let n="";if(r.startsWith(".")){let m=[];if(t.config.configFile){let l=t.config.configFile.split("/");m=l.slice(0,l.length-1);}n=X__default.default.resolve(process.cwd(),...m,r);}else {let m=t.file({id:r});if(!m)throw new Error(`File with id ${r} does not exist`);n=m._path;}let s=this._path.split(X__default.default.sep),o=n.split(X__default.default.sep),a=-1,i="";for(let m of s)if(a+=1,o[a]!==m){let l=Array.from({length:s.length-a}).fill(""),f=o.slice(a),u=f.slice(0,f.length-1);u.length&&u.push(""),i=(l.join("../")||"./")+u.join("/");break}let c=o[o.length-1];return `${i}${Os(c).name}`}remove(t){Re__default.default.rmSync(this._path,t);}removeNode(){this._items=this._items.slice(0,this._items.length-1);}_setName(t){if(t.includes("index"))return t;let{extension:r,name:n}=Os(t);return [n,"gen",r].filter(Boolean).join(".")}_toString(t,r){let n=[];this._headers.length&&n.push(this._headers.join(`
`));let s=r?.options.moduleResolution===b__default.default.ModuleResolutionKind.NodeNext,o=[];for(let[a,i]of this._imports.entries()){let c=Array.from(i.values()),m=a;s&&(m.startsWith("./")||m.startsWith("../"))&&(m==="./client"?m="./client/index.js":m=`${m}.js`);let l=p.namedImportDeclarations({imports:c,module:m});o.push(Ve({node:l}));}return o.length&&n.push(o.join(`
`)),n=n.concat(this._items.map(a=>typeof a=="string"?a:Ve({node:a,unescape:true}))),n.join(t)}write(t=`
`,r=null){if(this.isEmpty()){this.remove({force:true});return}let n=this._path;if(typeof this._path=="string"){let s=this._path.split(X__default.default.sep);n=s.slice(0,s.length-1).join(X__default.default.sep);}we(n),Re__default.default.writeFileSync(this._path,this._toString(t,r));}},Ui=e=>{let t=e,r=[],n=t.split("/"),s=n[n.length-1]||"",o=n.indexOf("properties");if(o!==-1)for(t=n.slice(0,o).join("/"),s=n[o-1]||"";o+1<n.length;){let a=n[o+1];if(!a)throw new Error(`Invalid $ref: ${e}`);r.push(a),o+=2;}return {name:s,properties:r,ref:t}},Rs=({$ref:e,case:t,count:r=1,create:n=false,identifiers:s,nameTransformer:o,namespace:a})=>{let{name:i,properties:c,ref:m}=Ui(e);if(!i)return {created:false,name:""};let l=E({case:t,value:i});r>1&&(l=`${l}${r}`);let f=l.toLocaleLowerCase();s[f]||(s[f]={});let u=s[f];if(a==="enum"&&(u.type||u.value)||a!=="enum"&&u.enum)return Rs({$ref:m,case:t,count:r+1,create:n,identifiers:s,nameTransformer:o,namespace:a});u[a]||(u[a]={});let d=u[a],y=d[m];if(y){let O=y.name;return c.length&&(O+=c.map(j=>`['${j}']`).join("")),{created:false,name:O}}let g=E({case:t,value:o?.(i)??i});r>1&&(g=`${g}${r}`);let R=d[g];return R?R.$ref===m?{created:false,name:R.name}:Rs({$ref:m,case:t,count:r+1,create:n,identifiers:s,nameTransformer:o,namespace:a}):n?(R={$ref:m,name:cn(g)},d[g]=R,d[R.$ref]=R,{created:true,name:R.name}):(delete u[a],{created:false,name:""})},Os=e=>{let t=e.match(/\.[0-9a-z]+$/i),r=t?t[0].slice(1):"",n=e.slice(0,e.length-(r?r.length+1:0));return {extension:r,name:n}};var ef=url.fileURLToPath((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('index.cjs', document.baseURI).href))),Ss=X__default.default.dirname(ef),Cs=()=>{let e=Ss;for(;e!==X__default.default.dirname(e);){let r=Re__default.default.readdirSync(e).filter(n=>n==="package.json");if(r[0]){let n=X__default.default.join(e,r[0]);return JSON.parse(Re__default.default.readFileSync(n,{encoding:"utf8"}))}e=X__default.default.dirname(e);}},fn=e=>{if(e==="off")return null;if(e){let r=X__default.default.isAbsolute(e)?e:X__default.default.resolve(Ss,e);return Re__default.default.existsSync(r)?r:null}let t=Ss;for(;t!==X__default.default.dirname(t);){let n=Re__default.default.readdirSync(t).filter(s=>s.startsWith("tsconfig")&&s.endsWith(".json")).sort(s=>s==="tsconfig.json"?-1:1);if(n[0])return X__default.default.join(t,n[0]);t=X__default.default.dirname(t);}return null},un=e=>{if(!e)return null;let t=b__default.default.readConfigFile(e,b__default.default.sys.readFile);if(t.error)throw new Error(`Couldn't read tsconfig from path: ${e}`);return b__default.default.parseJsonConfigFileContent(t.config,b__default.default.sys,X__default.default.dirname(e))};var zi=({files:e})=>{let t=S();e.index=new de({dir:t.output.path,id:"index",name:"index.ts"}),W(t)&&e.index.add(p.exportNamedDeclaration({exports:W(t),module:`./${W(t)}`})),t.exportCore&&(e.index.add(p.exportNamedDeclaration({exports:"ApiError",module:"./core/ApiError"})),t.plugins["@hey-api/sdk"]?.response==="response"&&e.index.add(p.exportNamedDeclaration({exports:{asType:true,name:"ApiResult"},module:"./core/ApiResult"})),W(t)&&e.index.add(p.exportNamedDeclaration({exports:"BaseHttpRequest",module:"./core/BaseHttpRequest"})),A(t).name!=="legacy/angular"&&e.index.add(p.exportNamedDeclaration({exports:["CancelablePromise","CancelError"],module:"./core/CancelablePromise"})),e.index.add(p.exportNamedDeclaration({exports:["OpenAPI",{asType:true,name:"OpenAPIConfig"}],module:"./core/OpenAPI"}))),Object.keys(e).sort().forEach(r=>{let n=e[r];r==="index"||n.isEmpty()||n.exportFromIndex&&e.index.add(p.exportAllDeclaration({module:`./${n.nameWithoutExtension()}`}));});};var Qi=async({client:e,openApi:t,templates:r})=>{let n=S(),s=t;if(e){if(n.plugins["@hey-api/sdk"]?.include&&n.plugins["@hey-api/sdk"].asClass){let m=new RegExp(n.plugins["@hey-api/sdk"].include);e.services=e.services.filter(l=>m.test(l.name));}if(n.plugins["@hey-api/typescript"]?.include){let m=new RegExp(n.plugins["@hey-api/typescript"].include);e.models=e.models.filter(l=>m.test(l.name));}}let o=X__default.default.resolve(n.output.path);n.output.clean&&Yr(o);let a=un(fn(n.output.tsConfigPath)),i=A(n);!D(n)&&"bundle"in i&&i.bundle&&en({outputPath:o,plugin:i,tsConfig:a}),await zo(s,o,e,r),await Jo(X__default.default.resolve(n.output.path,"core"),e,r);let c={};for(let m of n.pluginOrder){let l=n.plugins[m],f=(l.output??"").split("/"),u=X__default.default.resolve(n.output.path,...f.slice(0,f.length-1));c[l.name]=new de({dir:u,id:`legacy-unused-${l.name}`,name:`${f[f.length-1]}.ts`}),l._handlerLegacy({client:e,files:c,openApi:s,plugin:l});}zi({files:c}),Object.entries(c).forEach(([m,l])=>{n.dryRun||(m==="index"?l.write(`
`,a):l.write(`

`,a));});};var Xi=async({context:e})=>{await e.broadcast("before");for(let t of e.ir.servers??[])await e.broadcast("server",{server:t});if(e.ir.components){for(let t in e.ir.components.schemas){let r=e.ir.components.schemas[t],n=`#/components/schemas/${t}`;await e.broadcast("schema",{$ref:n,name:t,schema:r});}for(let t in e.ir.components.parameters){let r=e.ir.components.parameters[t],n=`#/components/parameters/${t}`;await e.broadcast("parameter",{$ref:n,name:t,parameter:r});}for(let t in e.ir.components.requestBodies){let r=e.ir.components.requestBodies[t],n=`#/components/requestBodies/${t}`;await e.broadcast("requestBody",{$ref:n,name:t,requestBody:r});}}for(let t in e.ir.paths){let r=e.ir.paths[t];for(let n in r){let s=n,o=r[s];await e.broadcast("operation",{method:s,operation:o,path:t});}}await e.broadcast("after");};var Gi=async({context:e})=>{let t=X__default.default.resolve(e.config.output.path);e.config.output.clean&&Yr(t);let r=un(fn(e.config.output.tsConfigPath)),n=r?.options.moduleResolution===b__default.default.ModuleResolutionKind.NodeNext,s=A(e.config);"bundle"in s&&s.bundle&&en({outputPath:t,plugin:s,tsConfig:r});for(let o of e.config.pluginOrder){let a=e.config.plugins[o],i=e.subscribe.bind(e);e.subscribe=(c,m)=>{i(c,m,o);},a._handler({context:e,plugin:a}),e.subscribe=i;}if(await Xi({context:e}),!e.config.dryRun){let o=e.createFile({id:"_index",path:"index"});for(let a of Object.values(e.files))if(a.nameWithoutExtension()!==o.nameWithoutExtension()){if(!a.isEmpty()&&a.exportFromIndex&&e.config.output.indexFile){let c=o.relativePathToFile({context:e,id:a.id});n&&(c.startsWith("./")||c.startsWith("../"))&&(c==="./client"?c="./client/index.js":c=`${c}.js`),o.add(p.exportAllDeclaration({module:c}));}a.write(`

`,r);}e.config.output.indexFile&&o.write(`
`,r);}};var yn=(...e)=>{let t=new Headers;for(let r of e){if(!r||typeof r!="object")continue;let n=r instanceof Headers?r.entries():Object.entries(r);for(let[s,o]of n)if(o===null)t.delete(s);else if(Array.isArray(o))for(let a of o)t.append(s,a);else o!==void 0&&t.set(s,typeof o=="object"?JSON.stringify(o):o);}return t};var ea=async({fetchOptions:e,inputPath:t,timeout:r,watch:n})=>{let s=new jsonSchemaRefParser.$RefParser,o=jsonSchemaRefParser.getResolvedInput({pathOrUrlOrSchema:t}),a,i,c;if(o.type==="url"){if(n.lastValue&&n.isHeadMethodSupported!==false){try{let l=await jsonSchemaRefParser.sendRequest({fetchOptions:{method:"HEAD",...e,headers:yn(e?.headers,n.headers)},timeout:r,url:o.path});if(l.response.status>=300)return {error:"not-ok",response:l.response};c=l.response;}catch(l){return {error:"not-ok",response:new Response(l.message)}}if(!c.ok&&n.isHeadMethodSupported)return {error:"not-ok",response:c};if(n.isHeadMethodSupported===void 0&&(n.isHeadMethodSupported=c.ok),c.status===304)return {error:"not-modified",response:c};if(i===void 0){let l=c.headers.get("ETag");l&&(i=l!==n.headers.get("If-None-Match"),i&&n.headers.set("If-None-Match",l));}if(i===void 0){let l=c.headers.get("Last-Modified");l&&(i=l!==n.headers.get("If-Modified-Since"),i&&n.headers.set("If-Modified-Since",l));}if(i===false)return {error:"not-modified",response:c}}try{let l=await jsonSchemaRefParser.sendRequest({fetchOptions:{method:"GET",...e},timeout:r,url:o.path});if(l.response.status>=300)return {error:"not-ok",response:l.response};c=l.response;}catch(l){return {error:"not-ok",response:new Response(l.message)}}if(!c.ok)return {error:"not-ok",response:c};if(a=c.body?await c.arrayBuffer():new ArrayBuffer(0),i===void 0){let l=new TextDecoder().decode(a);i=l!==n.lastValue,n.lastValue=l;}}else n.lastValue?i=false:n.lastValue=o.type;return i===false?{error:"not-modified",response:c}:{data:await s.bundle({arrayBuffer:a,pathOrUrlOrSchema:void 0,resolvedInput:o})}};var df=process.stdin.isTTY&&process.stdout.isTTY,or=class extends Error{args;event;pluginName;constructor({args:t,error:r,event:n,name:s,pluginName:o}){let a=r instanceof Error?r.message:"Unknown error";super(a),this.args=t,this.cause=r.cause,this.event=n,this.name=s||r.name,this.pluginName=o,this.stack=r.stack;}},ra=(e,t)=>{let r=`openapi-ts-error-${Date.now()}.log`,n=X__default.default.resolve(process.cwd(),t);we(n);let s=X__default.default.resolve(n,r),o=`[${new Date().toISOString()}] `;e instanceof or&&(o+=`${e.name} during event "${e.event}"
`,e.pluginName&&(o+=`Plugin: ${e.pluginName}
`),o+=`Arguments: ${JSON.stringify(e.args,null,2)}

`);let a=e instanceof Error?e.message:String(e),i=e instanceof Error?e.stack:void 0;return o+=`Error: ${a}
`,i&&(o+=`Stack:
${i}
`),Re__default.default.writeFileSync(s,o),s},na=async e=>{let t="";e instanceof or&&(e.pluginName&&(t+=`**Plugin**: \`${e.pluginName}\`
`),t+=`**Event**: \`${e.event}\`
`,t+=`**Arguments**:
\`\`\`ts
${JSON.stringify(e.args,null,2)}
\`\`\`

`);let r=e instanceof Error?e.message:String(e),n=e instanceof Error?e.stack:void 0;t+=`**Error**: \`${r}\`
`,n&&(t+=`
**Stack Trace**:
\`\`\`
${n}
\`\`\``);let s=new URLSearchParams({body:t,labels:"bug \u{1F525}",title:"Crash Report"}),o=Cs(),a;if(o&&typeof o=="object"&&"bugs"in o&&o.bugs&&typeof o.bugs=="object"&&"url"in o.bugs&&typeof o.bugs.url=="string"&&(a=o.bugs.url,a&&!a.endsWith("/")&&(a+="/")),a){let i=`${a}new?${s.toString()}`,c=(await import('open')).default;await c(i);}},sa=({error:e,logPath:t})=>{let r=Cs(),n;r&&typeof r=="object"&&"name"in r&&typeof r.name=="string"&&(n=r.name),process.stderr.write(`
\u{1F6D1} ${ke__default.default.cyan(n||"")} ${ke__default.default.red("encountered an error.")}

${ke__default.default.red("\u2757\uFE0F Error:")} ${ke__default.default.white(typeof e=="string"?e:e instanceof Error?e.message:"Unknown error")}`+(t?`

${ke__default.default.cyan("\u{1F4C4} Crash log saved to:")} ${ke__default.default.gray(t)}`:""));},oa=async()=>df?new Promise(e=>{process.stdout.write(`${ke__default.default.yellow(`

\u{1F4E2} Open a GitHub issue with crash details?`)} ${ke__default.default.yellow("(y/N):")}`),process.stdin.setEncoding("utf8"),process.stdin.once("data",t=>{e(t.trim().toLowerCase()==="y");});}):false;var ir="#/ir/",gn=e=>{let t=Is(e);return t.length===3&&t[0]==="components"},re=e=>{let t=Is(e),r=t[t.length-1];return decodeURI(r)},Is=e=>e.replace(/^#\//,"").split("/"),Ps=({$ref:e,spec:t})=>{let r=Is(decodeURI(e)),n=t;for(let s of r){let o=s;if(n[o]===void 0)throw new Error(`Reference not found: ${e}`);n=n[o];}return n};var hn=class{config;files;ir;spec;listeners;constructor({config:t,spec:r}){this.config=t,this.files={},this.ir={},this.listeners={},this.spec=r;}async broadcast(t,...r){let n=this.listeners[t];if(n)for(let s of n)try{await s.callbackFn(...r);}catch(o){let a=o instanceof Error?o:new Error(String(o));throw new or({args:r,error:a,event:t,name:"BroadcastError",pluginName:s.pluginName})}}createFile(t){let r=t.path.split("/"),n=X__default.default.resolve(this.config.output.path,...r.slice(0,r.length-1)),s=new de({dir:n,exportFromIndex:t.exportFromIndex,id:t.id,identifierCase:t.identifierCase,name:`${r[r.length-1]}.ts`});return this.files[t.id]=s,s}dereference(t){let r=this.resolveRef(t.$ref),n={...t,...r};return delete n.$ref,n}file({id:t}){return this.files[t]}resolveIrRef(t){return Ps({$ref:t,spec:this.ir})}resolveRef(t){return Ps({$ref:t,spec:this.spec})}subscribe(t,r,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({callbackFn:r,pluginName:n??""});}};var xn=({context:e,parameter:t})=>{if(!t.pagination)return;if(t.pagination===true)return t.schema;let r=t.schema;return r.$ref&&(r=e.resolveIrRef(r.$ref)),r.properties[t.pagination]},It=e=>{for(let t in e)if(e[t].required)return  true;return  false},ia=e=>e?!!(It(e.cookie)||It(e.header)||It(e.path)||It(e.query)):false,As=({context:e,parameters:t})=>{if(t){for(let r in t.cookie){let n=t.cookie[r];if(n.pagination)return {in:n.location,name:n.pagination===true?r:`${r}.${n.pagination}`,schema:xn({context:e,parameter:n})}}for(let r in t.header){let n=t.header[r];if(n.pagination)return {in:n.location,name:n.pagination===true?r:`${r}.${n.pagination}`,schema:xn({context:e,parameter:n})}}for(let r in t.path){let n=t.path[r];if(n.pagination)return {in:n.location,name:n.pagination===true?r:`${r}.${n.pagination}`,schema:xn({context:e,parameter:n})}}for(let r in t.query){let n=t.query[r];if(n.pagination)return {in:n.location,name:n.pagination===true?r:`${r}.${n.pagination}`,schema:xn({context:e,parameter:n})}}}};var be=({schema:e})=>{if(!e.items)return e;let t=[],r=[];for(let n of e.items){if(!n.type&&n.items||e.type==="tuple"){t.push(n);continue}if(!n.type||n.type==="boolean"||n.type==="integer"||n.type==="null"||n.type==="number"||n.type==="string"||n.type==="unknown"||n.type==="void"){let s=`${n.$ref??""}${n.type??""}${n.const!==void 0?`const-${n.const}`:""}`;r.includes(s)||(r.push(s),t.push(n));continue}t.push(n);}if(e.items=t,e.items.length<=1&&e.type!=="array"&&e.type!=="enum"&&e.type!=="tuple"){let n=e.items[0];delete e.logicalOperator,delete e.items,e={...e,...n};}return e.type==="unknown"?{}:e};var T=(e,t)=>{if(!e?.length)return t?.length?t:void 0;if(!t?.length)return e;let r=new Set(e);for(let n of t)r.add(n);return r.size>e.length?Array.from(r):e};var Es=({items:e,schema:t})=>{for(let r of e)t.accessScopes=T(t.accessScopes,r.accessScopes);t.items=e;},_=({items:e,logicalOperator:t="or",mutateSchemaOneItem:r=false,schema:n})=>e.length?n.type==="tuple"?(Es({items:e,schema:n}),n):e.length!==1?(Es({items:e,schema:n}),n.logicalOperator=t,n):r?(n={...n,...e[0]},n):(Es({items:e,schema:n}),n):n;var bn=e=>!!(ia(e.parameters)||e.body?.required),q=({method:e,path:t})=>`${e.toUpperCase()} ${t}`,aa=({context:e,operation:t})=>{let r=t.body;if(!r||!r.pagination)return As({context:e,parameters:t.parameters});if(r.pagination===true)return {in:"body",name:"body",schema:r.schema};let n=r.schema,s=n.$ref?e.resolveIrRef(n.$ref):n,a=("schema"in s?s.schema:s)?.properties?.[r.pagination];return a?{in:"body",name:r.pagination,schema:a}:As({context:e,parameters:t.parameters})},vs=({statusCode:e})=>{switch(e){case "1XX":return "1XX";case "2XX":return "2XX";case "3XX":return "3XX";case "4XX":return "4XX";case "5XX":return "5XX";case "default":return "default";default:return `${e[0]}XX`}},Qe=e=>{let t={};if(!e.responses)return t;let r={properties:{},type:"object"},n={properties:{},type:"object"},s;for(let i in e.responses){let c=e.responses[i];switch(vs({statusCode:i})){case "1XX":case "3XX":break;case "2XX":n.properties[i]=c.schema;break;case "4XX":case "5XX":r.properties[i]=c.schema;break;case "default":s=c;break}}if(s){let i=false;Object.keys(n.properties).length||(n.properties.default=s.schema,i=true);let c=(s.schema.description??"").toLocaleLowerCase(),m=(s.schema.$ref??"").toLocaleLowerCase();["success"].some(u=>c.includes(u)||m.includes(u))&&(n.properties.default=s.schema,i=true),["error","problem"].some(u=>c.includes(u)||m.includes(u))&&(r.properties.default=s.schema,i=true),i||(r.properties.default=s.schema);}let o=Object.keys(r.properties);if(o.length){r.required=o,t.errors=r;let i=_({items:Object.values(r.properties),mutateSchemaOneItem:true,schema:{}});i=be({schema:i}),Object.keys(i).length&&i.type!=="unknown"&&(t.error=i);}let a=Object.keys(n.properties);if(a.length){n.required=a,t.responses=n;let i=_({items:Object.values(n.properties),mutateSchemaOneItem:true,schema:{}});i=be({schema:i}),Object.keys(i).length&&i.type!=="unknown"&&(t.response=i);}return t};var ar=e=>{switch(e){case "parameters":return "parameter";case "requestBodies":return "body";case "responses":return "response";case "definitions":case "schemas":return "schema";default:return "unknown"}},pa="/",C=(e,t="")=>`${e}${pa}${t}`,Z=e=>{let t=e.indexOf(pa);return {name:e.slice(t+1),namespace:e.slice(0,t)}};var Me=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");return Jt.lastIndex=0,Jt.test(t)?`_${t}`:t},Fe=e=>e.replace(/^[^\p{ID_Start}]+/u,"").replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"-").replace(/[$+]/g,"-"),js=e=>{let t=e.replace("[]","Array");return Fe(t)};var me=["delete","get","head","options","patch","post","put","trace"],_t=({context:e,count:t=1,id:r,method:n,path:s,state:o})=>{let a;if(r&&(!e.config.plugins["@hey-api/sdk"]||e.config.plugins["@hey-api/sdk"].operationId))a=E({case:"camelCase",value:Fe(r)});else {let i=s.replace(/{(.*?)}/g,"by-$1").replace(/[/:+]/g,"-");a=E({case:"camelCase",value:`${n}-${i}`});}return t>1&&(a=`${a}${t}`),o.ids.has(a)?_t({context:e,count:t+1,id:r,method:n,path:s,state:o}):(o.ids.set(a,q({method:n,path:s})),a)};var Xe=(e,t)=>{let r=[],n=[];if(t)for(let s of t)s.startsWith("/")&&s.endsWith("/")?n.push(new RegExp(s.slice(1,s.length-1))):r.push(C(e,s));return {regexps:n,set:new Set(r)}},gf=({excludeOperations:e,excludeSchemas:t,includeOperations:r,includeSchemas:n,spec:s})=>{if((e.regexps.length||r.regexps.length)&&s.paths)for(let o of Object.entries(s.paths)){let a=o[0],i=o[1];for(let c of me){if(!i[c])continue;let l=q({method:c,path:a});e.regexps.some(f=>f.test(l))&&e.set.add(C("operation",l)),r.regexps.some(f=>f.test(l))&&r.set.add(C("operation",l));}}if(s.definitions&&(t.regexps.length||n.regexps.length))for(let o of Object.keys(s.definitions))t.regexps.some(a=>a.test(o))&&t.set.add(C("schema",o)),n.regexps.some(a=>a.test(o))&&n.set.add(C("schema",o));},hf=({excludeOperations:e,excludeParameters:t,excludeRequestBodies:r,excludeResponses:n,excludeSchemas:s,includeOperations:o,includeParameters:a,includeRequestBodies:i,includeResponses:c,includeSchemas:m,spec:l})=>{if((e.regexps.length||o.regexps.length)&&l.paths)for(let f of Object.entries(l.paths)){let u=f[0],d=f[1];for(let y of me){if(!d[y])continue;let R=q({method:y,path:u});e.regexps.some(O=>O.test(R))&&e.set.add(C("operation",R)),o.regexps.some(O=>O.test(R))&&o.set.add(C("operation",R));}}if(l.components){if((t.regexps.length||a.regexps.length)&&l.components.parameters)for(let f of Object.keys(l.components.parameters))t.regexps.some(u=>u.test(f))&&t.set.add(C("parameter",f)),a.regexps.some(u=>u.test(f))&&a.set.add(C("parameter",f));if((r.regexps.length||i.regexps.length)&&l.components.requestBodies)for(let f of Object.keys(l.components.requestBodies))r.regexps.some(u=>u.test(f))&&r.set.add(C("body",f)),i.regexps.some(u=>u.test(f))&&i.set.add(C("body",f));if((n.regexps.length||c.regexps.length)&&l.components.responses)for(let f of Object.keys(l.components.responses))n.regexps.some(u=>u.test(f))&&n.set.add(C("response",f)),c.regexps.some(u=>u.test(f))&&c.set.add(C("response",f));if((s.regexps.length||m.regexps.length)&&l.components.schemas)for(let f of Object.keys(l.components.schemas))s.regexps.some(u=>u.test(f))&&s.set.add(C("schema",f)),m.regexps.some(u=>u.test(f))&&m.set.add(C("schema",f));}},xf=({spec:e,...t})=>{"swagger"in e?gf({...t,spec:e}):hf({...t,spec:e});},pr=(e,t)=>{let r=Xe("operation",e?.operations?.exclude),n=Xe("operation",e?.operations?.include),s=Xe("parameter",e?.parameters?.exclude),o=Xe("parameter",e?.parameters?.include),a=Xe("body",e?.requestBodies?.exclude),i=Xe("body",e?.requestBodies?.include),c=Xe("response",e?.responses?.exclude),m=Xe("response",e?.responses?.include),l=Xe("schema",e?.schemas?.exclude),f=Xe("schema",e?.schemas?.include);return xf({excludeOperations:r,excludeParameters:s,excludeRequestBodies:a,excludeResponses:c,excludeSchemas:l,includeOperations:n,includeParameters:o,includeRequestBodies:i,includeResponses:m,includeSchemas:f,spec:t}),{deprecated:e?.deprecated??true,operations:{exclude:r.set,include:n.set},orphans:e?.orphans??false,parameters:{exclude:s.set,include:o.set},preserveOrder:e?.preserveOrder??false,requestBodies:{exclude:a.set,include:i.set},responses:{exclude:c.set,include:m.set},schemas:{exclude:l.set,include:f.set},tags:{exclude:new Set(e?.tags?.exclude),include:new Set(e?.tags?.include)}}},cr=e=>e?e.orphans===false||e.deprecated===false?true:!!(e.operations?.exclude?.length||e.operations?.include?.length||e.parameters?.exclude?.length||e.parameters?.include?.length||e.requestBodies?.exclude?.length||e.requestBodies?.include?.length||e.responses?.exclude?.length||e.responses?.include?.length||e.schemas?.exclude?.length||e.schemas?.include?.length||e.tags?.exclude?.length||e.tags?.include?.length):false,bf=({filters:e,graph:t,parameters:r,requestBodies:n,responses:s,schemas:o})=>{let a=new Set,c=[...e.operations.include.size?e.operations.include:new Set(t.operations.keys())];for(;c.length;){let m=c.pop();if(e.operations.exclude.has(m)||a.has(m))continue;let l=t.operations.get(m);l&&(!e.deprecated&&l.deprecated||e.tags.exclude.size&&l.tags.size&&[...e.tags.exclude].some(f=>l.tags.has(f))||e.tags.include.size&&!new Set([...e.tags.include].filter(f=>l.tags.has(f))).size||[...l.dependencies].some(f=>{let{namespace:u}=Z(f);switch(u){case "body":return !n.has(f);case "parameter":return !r.has(f);case "response":return !s.has(f);case "schema":return !o.has(f);default:return  false}})||a.add(m));}return {operations:a}},Of=({filters:e,graph:t,schemas:r})=>{let n=new Set,o=[...e.parameters.include.size?e.parameters.include:new Set(t.parameters.keys())];for(;o.length;){let a=o.pop();if(e.parameters.exclude.has(a)||n.has(a))continue;let i=t.parameters.get(a);if(i&&!(!e.deprecated&&i.deprecated)&&(n.add(a),!!i.dependencies.size))for(let c of i.dependencies){let{namespace:m}=Z(c);switch(m){case "body":{e.requestBodies.exclude.has(c)?n.delete(a):n.has(c)||o.push(c);break}case "schema":{e.schemas.exclude.has(c)?n.delete(a):r.has(c)||r.add(c);break}}}}return {parameters:n}},Rf=({filters:e,graph:t,schemas:r})=>{let n=new Set,o=[...e.requestBodies.include.size?e.requestBodies.include:new Set(t.requestBodies.keys())];for(;o.length;){let a=o.pop();if(e.requestBodies.exclude.has(a)||n.has(a))continue;let i=t.requestBodies.get(a);if(i&&!(!e.deprecated&&i.deprecated)&&(n.add(a),!!i.dependencies.size))for(let c of i.dependencies){let{namespace:m}=Z(c);switch(m){case "body":{e.requestBodies.exclude.has(c)?n.delete(a):n.has(c)||o.push(c);break}case "schema":{e.schemas.exclude.has(c)?n.delete(a):r.has(c)||r.add(c);break}}}}return {requestBodies:n}},Sf=({filters:e,graph:t,schemas:r})=>{let n=new Set,o=[...e.responses.include.size?e.responses.include:new Set(t.responses.keys())];for(;o.length;){let a=o.pop();if(e.responses.exclude.has(a)||n.has(a))continue;let i=t.responses.get(a);if(i&&!(!e.deprecated&&i.deprecated)&&(n.add(a),!!i.dependencies.size))for(let c of i.dependencies){let{namespace:m}=Z(c);switch(m){case "body":{e.requestBodies.exclude.has(c)?n.delete(a):n.has(c)||o.push(c);break}case "schema":{e.schemas.exclude.has(c)?n.delete(a):r.has(c)||r.add(c);break}}}}return {responses:n}},Cf=({filters:e,graph:t})=>{let r=new Set,s=[...e.schemas.include.size?e.schemas.include:new Set(t.schemas.keys())];for(;s.length;){let o=s.pop();if(e.schemas.exclude.has(o)||r.has(o))continue;let a=t.schemas.get(o);if(a&&!(!e.deprecated&&a.deprecated)&&(r.add(o),!!a.dependencies.size))for(let i of a.dependencies){let{namespace:c}=Z(i);switch(c){case "schema":{!r.has(i)&&!e.schemas.exclude.has(i)&&s.push(i);break}}}}return {schemas:r}},Tf=({filters:e,graph:t,parameters:r})=>{if(e.parameters.exclude.size)for(let n of r){let s=t.parameters.get(n);if(s?.dependencies.size){for(let o of e.parameters.exclude)if(s.dependencies.has(o)){r.delete(n);break}}}},If=({filters:e,graph:t,requestBodies:r})=>{if(e.requestBodies.exclude.size)for(let n of r){let s=t.requestBodies.get(n);if(s?.dependencies.size){for(let o of e.requestBodies.exclude)if(s.dependencies.has(o)){r.delete(n);break}}}},Pf=({filters:e,graph:t,responses:r})=>{if(e.responses.exclude.size)for(let n of r){let s=t.responses.get(n);if(s?.dependencies.size){for(let o of e.responses.exclude)if(s.dependencies.has(o)){r.delete(n);break}}}},Af=({filters:e,graph:t,schemas:r})=>{if(e.schemas.exclude.size)for(let n of r){let s=t.schemas.get(n);if(s?.dependencies.size){for(let o of e.schemas.exclude)if(s.dependencies.has(o)){r.delete(n);break}}}},Ef=({operationDependencies:e,parameters:t,requestBodies:r,responses:n,schemas:s})=>{for(let o of s)e.has(o)||s.delete(o);for(let o of t)e.has(o)||t.delete(o);for(let o of r)e.has(o)||r.delete(o);for(let o of n)e.has(o)||n.delete(o);},vf=({graph:e,operations:t})=>{let r=new Set,s=[...new Set([...t].flatMap(o=>[...e.operations.get(o)?.dependencies??[]]))];for(;s.length;){let o=s.pop();if(r.has(o))continue;r.add(o);let{namespace:a}=Z(o),i;if(a==="body"?i=e.requestBodies.get(o)?.dependencies:a==="operation"?i=e.operations.get(o)?.dependencies:a==="parameter"?i=e.parameters.get(o)?.dependencies:a==="response"?i=e.responses.get(o)?.dependencies:a==="schema"&&(i=e.schemas.get(o)?.dependencies),!!i?.size)for(let c of i)r.has(c)||s.push(c);}return {operationDependencies:r}},mr=({filters:e,graph:t})=>{let{schemas:r}=Cf({filters:e,graph:t}),{parameters:n}=Of({filters:e,graph:t,schemas:r}),{requestBodies:s}=Rf({filters:e,graph:t,schemas:r}),{responses:o}=Sf({filters:e,graph:t,schemas:r});Af({filters:e,graph:t,schemas:r}),Tf({filters:e,graph:t,parameters:n}),If({filters:e,graph:t,requestBodies:s}),Pf({filters:e,graph:t,responses:o});let{operations:a}=bf({filters:e,graph:t,parameters:n,requestBodies:s,responses:o,schemas:r});if(!e.orphans&&a.size){let{operationDependencies:i}=vf({graph:t,operations:a});Ef({operationDependencies:i,parameters:n,requestBodies:s,responses:o,schemas:r});}return {operations:a,parameters:n,requestBodies:s,responses:o,schemas:r}};var w=({source:e,target:t})=>{let r={...t};if(e&&(e.cookie&&(r.cookie?r.cookie={...r.cookie,...e.cookie}:r.cookie=e.cookie),e.header&&(r.header?r.header={...r.header,...e.header}:r.header=e.header),e.path&&(r.path?r.path={...r.path,...e.path}:r.path=e.path),e.query&&(r.query?r.query={...r.query,...e.query}:r.query=e.query)),!!Object.keys(r).length)return r};var jf=e=>/^[A-Za-z_$][A-Za-z0-9_$]*$/.test(e),kf=e=>e.map((t,r)=>typeof t=="number"?`[${t}]`:r===0?t:jf(t)?`.${t}`:`['${t.replace(/"/g,"\\'")}']`).join(""),Nf=e=>{let t=kf(e.path),r=e.severity==="error"?ke__default.default.bold.red:ke__default.default.bold.yellow,n=e.message.replace(/`([^`]+)`/g,(s,o)=>ke__default.default.yellow(`\`${o}\``));return `${r(`[${e.severity.toUpperCase()}]`)} ${ke__default.default.cyan(t)}: ${n}`},qf=({context:e,issue:t})=>e.config.logs.level==="silent"?false:t.severity==="error"?e.config.logs.level!=="warn":true,lr=({context:e,result:t})=>{if(e.config.input.validate_EXPERIMENTAL){for(let r of t.issues)qf({context:e,issue:r})&&console.log(Nf(r));t.valid||process.exit(1);}};var ca=({operations:e,preserveOrder:t,schemas:r,spec:n})=>{if(n.definitions){let s={};if(t)for(let[o,a]of Object.entries(n.definitions))r.has(C("schema",o))&&(s[o]=a);else for(let o of r){let{name:a}=Z(o),i=n.definitions[a];i&&(s[a]=i);}n.definitions=s;}if(n.paths)for(let s of Object.entries(n.paths)){let o=s[0],a=s[1];for(let i of me){if(!a[i])continue;let m=C("operation",q({method:i,path:o}));e.has(m)||delete a[i];}Object.keys(a).length||delete n.paths[o];}};var Pt=(e,t)=>{if("$ref"in e){if(e.$ref){let r=e.$ref.split("/"),n=r[r.length-2],s=r[r.length-1];if(n&&s){let o=ar(n);o==="unknown"&&console.warn(`unsupported type: ${n}`),t.add(C(o,s));}}return}if("in"in e){e.in==="body"&&Pt(e.schema,t);return}if(e.items&&typeof e.items=="object"&&Pt(e.items,t),e.properties)for(let r of Object.values(e.properties))typeof r=="object"&&Pt(r,t);if(e.allOf)for(let r of e.allOf)Pt(r,t);},ma=({spec:e,validate:t})=>{let r={operations:new Map,parameters:new Map,requestBodies:new Map,responses:new Map,schemas:new Map},n=[],s=new Map;if(e.definitions)for(let[o,a]of Object.entries(e.definitions)){let i=new Set;Pt(a,i),r.schemas.set(C("schema",o),{dependencies:i,deprecated:false});}if(e.parameters,e.paths)for(let o of Object.entries(e.paths)){let a=o[0],i=o[1];for(let c of me){if(c==="trace")continue;let m=i[c];if(!m)continue;let l=q({method:c,path:a});t&&m.operationId&&(s.has(m.operationId)?n.push({code:"duplicate_key",context:{key:"operationId",value:m.operationId},message:"Duplicate `operationId` found. Each `operationId` must be unique.",path:["paths",a,c,"operationId"],severity:"error"}):s.set(m.operationId,l));let f=new Set;if(m.responses)for(let u of Object.values(m.responses))u&&("$ref"in u?Pt(u,f):u.schema&&Pt(u.schema,f));if(m.parameters)for(let u of m.parameters)Pt(u,f);r.operations.set(C("operation",l),{dependencies:f,deprecated:!!m.deprecated,tags:new Set(m.tags)});}}return {graph:r,issues:n,valid:!n.some(o=>o.severity==="error")}};var la=/^(application\/(pdf|rtf|msword|vnd\.(ms-|openxmlformats-officedocument\.)|zip|x-(7z|tar|rar|zip|iso)|octet-stream|gzip|x-msdownload|json\+download|xml|x-yaml|x-7z-compressed|x-tar)|text\/(yaml|css|javascript)|audio\/(mpeg|wav)|video\/(mp4|x-matroska)|image\/(vnd\.adobe\.photoshop|svg\+xml))(; ?charset=[^;]+)?$/i,fa=/^application\/(.*\+)?json(;.*)?$/i,ua=/^multipart\/form-data(;.*)?$/i,da=/^text\/[a-z0-9.+-]+(;.*)?$/i,ya=/^application\/x-www-form-urlencoded(;.*)?$/i,ga=/^application\/octet-stream(;.*)?$/i,pt=({mediaType:e})=>(la.lastIndex=0,la.test(e)),fr=({mediaType:e})=>{if(fa.lastIndex=0,fa.test(e))return "json";if(ua.lastIndex=0,ua.test(e))return "form-data";if(da.lastIndex=0,da.test(e))return "text";if(ya.lastIndex=0,ya.test(e))return "url-search-params";if(ga.lastIndex=0,ga.test(e))return "octet-stream"};var ha=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&pt({mediaType:t})?{...r,format:"binary"}:r:pt({mediaType:t})?{format:"binary",type:"string"}:void 0},ks=({mimeTypes:e,response:t})=>{for(let r of e??[])return {mediaType:r,schema:t.schema,type:fr({mediaType:r})}};var Ns=["after","before","cursor","offset","page","start"];function Oe({keywords:e=Ns}={}){e.length||(e=Ns);let t=`^(${e.join("|")})$`;return new RegExp(t)}var Ge=(e,t)=>{let r=[];for(let n in t)t[n]===e&&r.push(n);return r.length?r:[re(e)]};var qr=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},wf=({irSchema:e,schema:t})=>{t.description&&(e.description=t.description),t.title&&(e.title=t.title);},Rn=({irSchema:e,schema:t,state:r})=>{t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==void 0&&(e.exclusiveMaximum=t.maximum):t.maximum!==void 0&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==void 0&&(e.exclusiveMinimum=t.minimum):t.minimum!==void 0&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=T(e.accessScopes,["read"])):r.isProperty&&(e.accessScopes=T(e.accessScopes,["both"]));},$f=({context:e,irSchema:t={},schema:r,state:n})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let s=[];if(r.items){let o=Ee({context:e,schema:r.items,state:n});if(t.accessScopes=T(t.accessScopes,o.accessScopes),!s.length&&r.maxItems&&r.maxItems===r.minItems)s=Array(r.maxItems).fill(o);else if("$ref"in r.items)s.push(o);else {let a=r.items.allOf;a&&a.length>1&&!r.items["x-nullable"]?t={...t,...o}:s.push(o);}}return t=_({items:s,schema:t}),t},Df=({irSchema:e={}})=>(e.type="boolean",e),Mf=({irSchema:e={},schema:t})=>(e.type=t.type,e),Ff=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let s={};for(let o in r.properties){let a=r.properties[o];if(typeof a!="boolean"){let i=Ee({context:e,schema:a,state:{...n,isProperty:true}});t.accessScopes=T(t.accessScopes,i.accessScopes),s[o]=i;}}if(Object.keys(s).length&&(t.properties=s),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let o=Ee({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=o;}return r.required&&(t.required=r.required),t},Bf=({irSchema:e={}})=>(e.type="string",e),ur=({schema:e})=>{let t={};return wf({irSchema:t,schema:e}),t},_f=({context:e,schema:t,state:r})=>{let n=ur({schema:t}),s=[],o=qr({schema:t}),a=t.allOf;for(let i of a){let c=Ee({context:e,schema:i,state:r});if(n.accessScopes=T(n.accessScopes,c.accessScopes),t.required&&(c.required?c.required=[...c.required,...t.required]:c.required=t.required),s.push(c),i.$ref){let m=e.resolveRef(i.$ref);if(m.discriminator&&r.$ref){let f=Ge(r.$ref).map(d=>({const:d,type:"string"})),u={properties:{[m.discriminator]:f.length>1?{items:f,logicalOperator:"or"}:f[0]},type:"object"};m.required?.includes(m.discriminator)&&(u.required=[m.discriminator]),s.push(u);}if(!r.circularReferenceTracker.has(i.$ref)){let l=Ee({context:e,schema:m,state:{...r,$ref:i.$ref}});n.accessScopes=T(n.accessScopes,l.accessScopes);}}}if(o==="object"){let i=wr({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=T(n.accessScopes,i.accessScopes),i.properties){for(let c of i.required??[])if(!i.properties[c])for(let m of a){let l=m.$ref?e.resolveRef(m.$ref):m;if(qr({schema:l})==="object"){let f=wr({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=T(n.accessScopes,f.accessScopes),f.properties?.[c]){i.properties[c]=f.properties[c];break}}}s.push(i);}}if(n=_({items:s,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),t["x-nullable"]){let i=[{type:"null"}];s.length&&i.unshift(n),n={items:i,logicalOperator:"or"},i[0].deprecated&&(n.deprecated=i[0].deprecated),i[0].description&&(n.description=i[0].description);}return n},Lf=({context:e,schema:t,state:r})=>{let n=ur({schema:t});n.type="enum";let s=[];for(let[o,a]of t.enum.entries()){let i=typeof a,c;if(i==="string"||i==="number"||i==="boolean"?c=i:i==="object"&&Array.isArray(a)?c="array":a===null?t["x-nullable"]&&(c="null"):console.warn("\u{1F6A8}",`unhandled "${i}" typeof value "${a}" for enum`,t.enum),!c)continue;let m=wr({context:e,schema:{description:t["x-enum-descriptions"]?.[o],title:t["x-enum-varnames"]?.[o]??t["x-enumNames"]?.[o],type:c==="null"?"string":c},state:r});m.const=a,c==="null"&&(m.type=c),m.type==="array"&&(m.type="tuple"),n.accessScopes=T(n.accessScopes,m.accessScopes),s.push(m);}return n=_({items:s,schema:n}),n},Hf=({context:e,schema:t,state:r})=>{let n={};if(n.$ref=decodeURI(t.$ref),n.$ref=n.$ref.replace(/#\/definitions\/([^/]+)/g,"#/components/schemas/$1"),!r.circularReferenceTracker.has(t.$ref)){let s=e.resolveRef(t.$ref),o=Ee({context:e,schema:s,state:{...r,$ref:t.$ref,isProperty:false}});n.accessScopes=T(n.accessScopes,o.accessScopes);}return n},Vf=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=ur({schema:r}));let s={};Rn({irSchema:s,schema:r,state:n}),s.default===null&&delete s.default;let o=[wr({context:e,irSchema:s,schema:r,state:n}),{type:"null"}];return t=_({items:o,schema:t}),t},Kf=({context:e,schema:t,state:r})=>{let n=ur({schema:t});Rn({irSchema:n,schema:t,state:r});let s=qr({schema:t});return s?t["x-nullable"]?Vf({context:e,irSchema:n,schema:{...t,type:s},state:r}):wr({context:e,irSchema:n,schema:{...t,type:s},state:r}):n},wr=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=ur({schema:r}),Rn({irSchema:t,schema:r,state:n})),r.type){case "array":return $f({context:e,irSchema:t,schema:r,state:n});case "boolean":return Df({irSchema:t});case "integer":case "number":return Mf({irSchema:t,schema:r});case "object":return Ff({context:e,irSchema:t,schema:r,state:n});case "string":return Bf({irSchema:t});default:return xa({irSchema:t,schema:r,state:n})}},xa=({irSchema:e,schema:t,state:r})=>(e||(e=ur({schema:t})),e.type="unknown",Rn({irSchema:e,schema:t,state:r}),e),Ee=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),t.$ref?Hf({context:e,schema:t,state:r}):t.enum?Lf({context:e,schema:t,state:r}):t.allOf?_f({context:e,schema:t,state:r}):t.type||t.properties?Kf({context:e,schema:t,state:r}):xa({schema:t,state:r})),ba=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[re(e)]=Ee({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var Wf=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",At=({context:e,name:t,schema:r})=>{if(Oe(e.config.input.pagination).test(t))return  true;if("$ref"in r){let s=e.resolveRef(r.$ref??"");if("in"in s&&s.in){let o="schema"in s?s.schema:{...s,in:void 0};return At({context:e,name:t,schema:o})}return At({context:e,name:t,schema:s})}if("in"in r){if(!r.in)return  false;let s="schema"in r?r.schema:{...r,in:void 0};return At({context:e,name:t,schema:s})}for(let s in r.properties)if(Oe(e.config.input.pagination).test(s)){let a=r.properties[s];if(typeof a!="boolean"&&!("$ref"in a)){let i=qr({schema:a});if(Wf(i))return s}}for(let s of r.allOf??[]){let o=At({context:e,name:t,schema:s});if(o)return o}return  false};var Uf=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},zf=({context:e,method:t,operation:r,path:n,state:s})=>{let o={id:_t({context:e,id:r.operationId,method:t,path:n,state:s}),method:t,path:n};return r.operationId&&(o.operationId=r.operationId),Uf({irOperation:o,operation:r}),o},Qf=({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o})=>{let a=zf({context:e,method:t,operation:r,path:n,state:o});r.parameters&&(a.parameters=r.parameters);let i=false,c={mediaType:"",schema:{properties:{},required:[],type:"object"}},m=[];for(let l of r.requestBody??[]){let f="$ref"in l?e.resolveRef(l.$ref):l,u=f.in==="body"?f.schema:{...f,format:f.type==="file"?"binary":f.format,required:void 0,type:f.type==="file"?"string":f.type},d=ks({mimeTypes:r.consumes,response:{schema:u}});if(d){let y=At({context:e,name:"",schema:d.schema&&"$ref"in d.schema?{allOf:[{...d.schema}],description:f.description}:{description:f.description,...d.schema}}),g=Ee({context:e,schema:"$ref"in f?{allOf:[{...f,$ref:f.$ref,required:[],type:"string"}],description:f.description}:d.schema&&"$ref"in d.schema?{allOf:[{...d.schema}],description:f.description}:{description:f.description,...d.schema},state:void 0});c.mediaType=d.mediaType,f.in==="body"?c.schema=g:(c.schema.properties[f.name]=g,f.required&&m.push(f.name)),y&&(c.pagination=y),d.type&&(c.type=d.type);}f.required&&(i=true);}c.mediaType&&(m.length&&(c.schema.required=m),a.body=c,i&&(a.body.required=i));for(let l in r.responses){a.responses||(a.responses={});let f=r.responses[l],u="$ref"in f?e.resolveRef(f.$ref):f,d=ks({mimeTypes:r.produces?r.produces:["application/json"],response:u});d?a.responses[l]={mediaType:d.mediaType,schema:Ee({context:e,schema:{description:u.description,...ha({content:d})},state:void 0})}:a.responses[l]={schema:{description:u.description,type:l==="204"?"void":"unknown"}};}if(r.security){let l=[];for(let f of r.security)for(let u in f){let d=s.get(u);if(!d)continue;let y;if(d.type==="apiKey"&&(y=d),d.type==="basic"&&(y={description:d.description,scheme:"basic",type:"http"}),d.type==="oauth2")switch(y={description:d.description,flows:{},type:"oauth2"},d.flow){case "accessCode":y.flows.authorizationCode={authorizationUrl:d.authorizationUrl,scopes:d.scopes,tokenUrl:d.tokenUrl};break;case "application":y.flows.clientCredentials={scopes:d.scopes,tokenUrl:d.tokenUrl};break;case "implicit":y.flows.implicit={authorizationUrl:d.authorizationUrl,scopes:d.scopes};break;case "password":y.flows.password={scopes:d.scopes,tokenUrl:d.tokenUrl};break}y&&l.push(y);}l.length&&(a.security=l);}return a},Et=({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o})=>{e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),e.ir.paths[n][t]=Qf({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o});};var Xf=e=>{switch(e){case "multi":return  true;case "csv":case "pipes":case "ssv":case "tsv":default:return  false}},Gf=e=>{switch(e){case "header":case "path":return "simple";case "query":default:return "form"}},ct=({context:e,operation:t,parameters:r})=>{if(!r||!Object.keys(r).length)return;let n={};for(let s of r){let o="$ref"in s?e.dereference(s):s;if(o.in==="body"||o.in==="formData"){t.requestBody||(t.requestBody=[]),t.requestBody.push(o);continue}n[o.in]||(n[o.in]={}),n[o.in][o.name.toLocaleLowerCase()]=Jf({context:e,parameter:o});}return n},Jf=({context:e,parameter:t})=>{let r=t,n=r&&"$ref"in r?{allOf:[{...r,$ref:r.$ref,required:Array.isArray(r.required)?r.required:[],type:r.type}],description:t.description}:{description:t.description,...r,required:Array.isArray(r.required)?r.required:[],type:r.type},s=At({context:e,name:t.name,schema:n}),o=Gf(t.in),c={allowReserved:false,explode:Xf(t.collectionFormat),location:t.in,name:t.name,schema:Ee({context:e,schema:n,state:void 0}),style:o};return t.description&&(c.description=t.description),s&&(c.pagination=s),t.required&&(c.required=t.required),c};var Oa=/^(([^:/?#]+):)?((\/\/)?([^:/?#]*)(:?([^/?#]*)))?([^?#]*)(\?([^#]*))?(#(.*))?/,Je=e=>{let t={host:"",path:"",port:"",protocol:""};Oa.lastIndex=0;let r=e.match(Oa);if(!r)return t;let n=r[5]||"";if(n==="."||n==="..")return t;let s=r[8]||"",o=r[2]||"";return o.length===1?t:{host:n,path:s==="/"?"":s,port:r[7]||"",protocol:o}};var Ra=({context:e})=>{let t=e.spec.schemes??[],r=e.spec.host??"",n=e.spec.basePath??"";if(typeof e.config.input.path=="string"){let o=Je(e.config.input.path);t.length||o.protocol&&(t=[o.protocol]),r||(r=`${o.host}${o.port?`:${o.port}`:""}`);}t.length||(t=[""]);let s=t.map(o=>`${o?`${o}://`:""}${r}${n}`).filter(Boolean);s.length&&(e.ir.servers=s.map(o=>({url:o})));};var qs=e=>{let t=cr(e.config.input.filters),r;if(t||e.config.input.validate_EXPERIMENTAL){let o=ma({spec:e.spec,validate:!!e.config.input.validate_EXPERIMENTAL});r=o.graph,lr({context:e,result:o});}if(t&&r){let o=pr(e.config.input.filters,e.spec),a=mr({filters:o,graph:r});ca({...a,preserveOrder:o.preserveOrder,spec:e.spec});}let n={ids:new Map},s=new Map;for(let o in e.spec.securityDefinitions){let a=e.spec.securityDefinitions[o];s.set(o,a);}if(e.spec.definitions)for(let o in e.spec.definitions){let a=`#/definitions/${o}`,i=e.spec.definitions[o];ba({$ref:a,context:e,schema:i});}Ra({context:e});for(let o in e.spec.paths){if(o.startsWith("x-"))continue;let a=e.spec.paths[o],i=a.$ref?{...e.resolveRef(a.$ref),...a}:a,c={consumes:e.spec.consumes,produces:e.spec.produces,responses:{},security:e.spec.security},m={context:e,operation:{...c,parameters:ct({context:e,operation:c,parameters:i.parameters})},path:o,securitySchemesMap:s,state:n};if(i.delete){let l=w({source:ct({context:e,operation:i.delete,parameters:i.delete.parameters}),target:m.operation.parameters});Et({...m,method:"delete",operation:{...m.operation,...i.delete,parameters:l}});}if(i.get){let l=w({source:ct({context:e,operation:i.get,parameters:i.get.parameters}),target:m.operation.parameters});Et({...m,method:"get",operation:{...m.operation,...i.get,parameters:l}});}if(i.head){let l=w({source:ct({context:e,operation:i.head,parameters:i.head.parameters}),target:m.operation.parameters});Et({...m,method:"head",operation:{...m.operation,...i.head,parameters:l}});}if(i.options){let l=w({source:ct({context:e,operation:i.options,parameters:i.options.parameters}),target:m.operation.parameters});Et({...m,method:"options",operation:{...m.operation,...i.options,parameters:l}});}if(i.patch){let l=w({source:ct({context:e,operation:i.patch,parameters:i.patch.parameters}),target:m.operation.parameters});Et({...m,method:"patch",operation:{...m.operation,...i.patch,parameters:l}});}if(i.post){let l=w({source:ct({context:e,operation:i.post,parameters:i.post.parameters}),target:m.operation.parameters});Et({...m,method:"post",operation:{...m.operation,...i.post,parameters:l}});}if(i.put){let l=w({source:ct({context:e,operation:i.put,parameters:i.put.parameters}),target:m.operation.parameters});Et({...m,method:"put",operation:{...m.operation,...i.put,parameters:l}});}}};var Sa=({operations:e,parameters:t,preserveOrder:r,requestBodies:n,responses:s,schemas:o,spec:a})=>{if(a.components){if(a.components.parameters){let i={};if(r)for(let[c,m]of Object.entries(a.components.parameters))t.has(C("parameter",c))&&(i[c]=m);else for(let c of t){let{name:m}=Z(c),l=a.components.parameters[m];l&&(i[m]=l);}a.components.parameters=i;}if(a.components.requestBodies){let i={};if(r)for(let[c,m]of Object.entries(a.components.requestBodies))n.has(C("body",c))&&(i[c]=m);else for(let c of n){let{name:m}=Z(c),l=a.components.requestBodies[m];l&&(i[m]=l);}a.components.requestBodies=i;}if(a.components.responses){let i={};if(r)for(let[c,m]of Object.entries(a.components.responses))s.has(C("response",c))&&(i[c]=m);else for(let c of s){let{name:m}=Z(c),l=a.components.responses[m];l&&(i[m]=l);}a.components.responses=i;}if(a.components.schemas){let i={};if(r)for(let[c,m]of Object.entries(a.components.schemas))o.has(C("schema",c))&&(i[c]=m);else for(let c of o){let{name:m}=Z(c),l=a.components.schemas[m];l&&(i[m]=l);}a.components.schemas=i;}}if(a.paths)for(let i of Object.entries(a.paths)){let c=i[0],m=i[1];for(let l of me){if(!m[l])continue;let u=C("operation",q({method:l,path:c}));e.has(u)||delete m[l];}Object.keys(m).length||delete a.paths[c];}};var z=(e,t)=>{if("$ref"in e){if(e.$ref){let r=e.$ref.split("/"),n=r[r.length-2],s=r[r.length-1];if(n&&s){let o=ar(n);o==="unknown"&&console.warn(`unsupported type: ${n}`),t.add(C(o,s));}}return}if(e.items&&typeof e.items=="object"&&z(e.items,t),e.properties)for(let r of Object.values(e.properties))typeof r=="object"&&z(r,t);if(e.additionalProperties&&typeof e.additionalProperties=="object"&&z(e.additionalProperties,t),e.allOf)for(let r of e.allOf)z(r,t);if(e.anyOf)for(let r of e.anyOf)z(r,t);if(e.not&&z(e.not,t),e.oneOf)for(let r of e.oneOf)z(r,t);},Ca=({spec:e,validate:t})=>{let r={operations:new Map,parameters:new Map,requestBodies:new Map,responses:new Map,schemas:new Map},n=[],s=new Map;if(e.components){if(e.components.schemas)for(let[o,a]of Object.entries(e.components.schemas)){let i=new Set;z(a,i),r.schemas.set(C("schema",o),{dependencies:i,deprecated:"deprecated"in a?!!a.deprecated:false});}if(e.components.parameters)for(let[o,a]of Object.entries(e.components.parameters)){let i=new Set;if("$ref"in a)z(a,i);else if(a.schema&&z(a.schema,i),a.content)for(let c of Object.values(a.content))c.schema&&z(c.schema,i);r.parameters.set(C("parameter",o),{dependencies:i,deprecated:"deprecated"in a?!!a.deprecated:false});}if(e.components.requestBodies)for(let[o,a]of Object.entries(e.components.requestBodies)){let i=new Set;if("$ref"in a)z(a,i);else for(let c of Object.values(a.content))c.schema&&z(c.schema,i);r.requestBodies.set(C("body",o),{dependencies:i,deprecated:false});}if(e.components.responses)for(let[o,a]of Object.entries(e.components.responses)){let i=new Set;if("$ref"in a)z(a,i);else if(a.content)for(let c of Object.values(a.content))c.schema&&z(c.schema,i);r.responses.set(C("response",o),{dependencies:i,deprecated:false});}}if(e.paths)for(let o of Object.entries(e.paths)){let a=o[0],i=o[1];for(let c of me){let m=i[c];if(!m)continue;let l=q({method:c,path:a});t&&m.operationId&&(s.has(m.operationId)?n.push({code:"duplicate_key",context:{key:"operationId",value:m.operationId},message:"Duplicate `operationId` found. Each `operationId` must be unique.",path:["paths",a,c,"operationId"],severity:"error"}):s.set(m.operationId,l));let f=new Set;if(m.requestBody)if("$ref"in m.requestBody)z(m.requestBody,f);else for(let u of Object.values(m.requestBody.content))u.schema&&z(u.schema,f);if(m.responses){for(let u of Object.values(m.responses))if(u){if("$ref"in u)z(u,f);else if(u.content)for(let d of Object.values(u.content))d.schema&&z(d.schema,f);}}if(m.parameters)for(let u of m.parameters)"$ref"in u?z(u,f):u.schema&&z(u.schema,f);r.operations.set(C("operation",l),{dependencies:f,deprecated:!!m.deprecated,tags:new Set(m.tags)});}}if(t&&e.servers){(typeof e.servers!="object"||!Array.isArray(e.servers))&&n.push({code:"invalid_type",message:"`servers` must be an array.",path:[],severity:"error"});for(let o=0;o<e.servers.length;o++){let a=e.servers[o];!a||typeof a!="object"?n.push({code:"invalid_type",context:{actual:typeof a,expected:"object"},message:"Each entry in `servers` must be an object.",path:["servers",o],severity:"error"}):a.url||n.push({code:"missing_required_field",context:{field:"url"},message:"Missing required field `url` in server object.",path:["servers",o],severity:"error"});}}return {graph:r,issues:n,valid:!n.some(o=>o.severity==="error")}};var Ta=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&pt({mediaType:t})?{...r,format:"binary"}:r:pt({mediaType:t})?{format:"binary",type:"string"}:void 0},mt=({content:e})=>{for(let t in e)return {mediaType:t,schema:e[t].schema,type:fr({mediaType:t})}};var Lt=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},Zf=({irSchema:e,schema:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},Sn=({irSchema:e,schema:t,state:r})=>{t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==void 0&&(e.exclusiveMaximum=t.maximum):t.maximum!==void 0&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==void 0&&(e.exclusiveMinimum=t.minimum):t.minimum!==void 0&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=T(e.accessScopes,["read"])):t.writeOnly?(e.accessScope="write",e.accessScopes=T(e.accessScopes,["write"])):r.isProperty&&(e.accessScopes=T(e.accessScopes,["both"]));},Yf=({context:e,irSchema:t={},schema:r,state:n})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let s=[];if(r.items){let o=ae({context:e,schema:r.items,state:n});if(t.accessScopes=T(t.accessScopes,o.accessScopes),!s.length&&r.maxItems&&r.maxItems===r.minItems)s=Array(r.maxItems).fill(o);else if("$ref"in r.items)s.push(o);else {let a=r.items.allOf||r.items.anyOf||r.items.oneOf;a&&a.length>1&&!r.items.nullable?t={...t,...o}:s.push(o);}}return t=_({items:s,schema:t}),t},eu=({irSchema:e={}})=>(e.type="boolean",e),tu=({irSchema:e={},schema:t})=>(e.type=t.type,e),ru=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let s={};for(let o in r.properties){let a=r.properties[o];if(typeof a!="boolean"){let i=ae({context:e,schema:a,state:{...n,isProperty:true}});t.accessScopes=T(t.accessScopes,i.accessScopes),s[o]=i;}}if(Object.keys(s).length&&(t.properties=s),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let o=ae({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=o;}return r.required&&(t.required=r.required),t},nu=({irSchema:e={}})=>(e.type="string",e),vt=({schema:e})=>{let t={};return Zf({irSchema:t,schema:e}),t},su=({context:e,schema:t,state:r})=>{let n=vt({schema:t}),s=[],o=Lt({schema:t}),a=t.allOf;for(let i of a){let c=ae({context:e,schema:i,state:r});if(n.accessScopes=T(n.accessScopes,c.accessScopes),t.required&&(c.required?c.required=[...c.required,...t.required]:c.required=t.required),s.push(c),"$ref"in i){let m=e.resolveRef(i.$ref);if(m.discriminator&&r.$ref){let f=Ge(r.$ref,m.discriminator.mapping).map(d=>({const:d,type:"string"})),u={properties:{[m.discriminator.propertyName]:f.length>1?{items:f,logicalOperator:"or"}:f[0]},type:"object"};m.required?.includes(m.discriminator.propertyName)&&(u.required=[m.discriminator.propertyName]),s.push(u);}if(!r.circularReferenceTracker.has(i.$ref)){let l=ae({context:e,schema:m,state:{...r,$ref:i.$ref}});n.accessScopes=T(n.accessScopes,l.accessScopes);}}}if(o==="object"){let i=Ht({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=T(n.accessScopes,i.accessScopes),i.properties){for(let c of i.required??[])if(!i.properties[c])for(let m of a){let l="$ref"in m?e.resolveRef(m.$ref):m;if(Lt({schema:l})==="object"){let f=Ht({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=T(n.accessScopes,f.accessScopes),f.properties?.[c]){i.properties[c]=f.properties[c];break}}}s.push(i);}}if(n=_({items:s,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),t.nullable){let i=[{type:"null"}];s.length&&i.unshift(n),n={items:i,logicalOperator:"or"},i[0].deprecated&&(n.deprecated=i[0].deprecated),i[0].description&&(n.description=i[0].description);}return n},ou=({context:e,schema:t,state:r})=>{let n=vt({schema:t}),s=[],o=Lt({schema:t}),a=t.anyOf;for(let i of a){let c=ae({context:e,schema:i,state:r});if(n.accessScopes=T(n.accessScopes,c.accessScopes),t.discriminator&&"$ref"in i){let l=Ge(i.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},c],logicalOperator:"and"};}s.push(c);}if(t.nullable&&s.push({type:"null"}),n=_({items:s,mutateSchemaOneItem:true,schema:n}),o==="object"){let i=Ht({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=T(n.accessScopes,i.accessScopes),i.properties&&(n={items:[n,i],logicalOperator:"and"});}return n},iu=({context:e,schema:t,state:r})=>{let n=vt({schema:t});n.type="enum";let s=[];for(let[o,a]of t.enum.entries()){let i=typeof a,c;if(i==="string"||i==="number"||i==="boolean"?c=i:i==="object"&&Array.isArray(a)?c="array":a===null?t.nullable&&(c="null"):console.warn("\u{1F6A8}",`unhandled "${i}" typeof value "${a}" for enum`,t.enum),!c)continue;let m=Ht({context:e,schema:{description:t["x-enum-descriptions"]?.[o],title:t["x-enum-varnames"]?.[o]??t["x-enumNames"]?.[o],type:c==="null"?"string":c},state:r});m.const=a,c==="null"&&(m.type=c),m.type==="array"&&(m.type="tuple"),n.accessScopes=T(n.accessScopes,m.accessScopes),s.push(m);}return n=_({items:s,schema:n}),n},au=({context:e,schema:t,state:r})=>{let n=vt({schema:t}),s=[],o=Lt({schema:t}),a=t.oneOf;for(let i of a){let c=ae({context:e,schema:i,state:r});if(n.accessScopes=T(n.accessScopes,c.accessScopes),t.discriminator&&"$ref"in i){let l=Ge(i.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},required:[t.discriminator.propertyName],type:"object"},c],logicalOperator:"and"};}c.logicalOperator==="or"&&c.type!=="array"&&c.items?s=s.concat(c.items):s.push(c);}if(t.nullable&&s.push({type:"null"}),n=_({items:s,mutateSchemaOneItem:true,schema:n}),o==="object"){let i=Ht({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=T(n.accessScopes,i.accessScopes),i.properties&&(n={items:[n,i],logicalOperator:"and"});}return n},pu=({context:e,schema:t,state:r})=>{let n={};if(n.$ref=decodeURI(t.$ref),!r.circularReferenceTracker.has(t.$ref)){let s=e.resolveRef(t.$ref),o=ae({context:e,schema:s,state:{...r,$ref:t.$ref,isProperty:false}});n.accessScopes=T(n.accessScopes,o.accessScopes);}return n},cu=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=vt({schema:r}));let s={};Sn({irSchema:s,schema:r,state:n}),s.default===null&&delete s.default;let o=[Ht({context:e,irSchema:s,schema:r,state:n}),{type:"null"}];return t=_({items:o,schema:t}),t},mu=({context:e,schema:t,state:r})=>{let n=vt({schema:t});Sn({irSchema:n,schema:t,state:r});let s=Lt({schema:t});return s?t.nullable?cu({context:e,irSchema:n,schema:{...t,type:s},state:r}):Ht({context:e,irSchema:n,schema:{...t,type:s},state:r}):n},Ht=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=vt({schema:r}),Sn({irSchema:t,schema:r,state:n})),r.type){case "array":return Yf({context:e,irSchema:t,schema:r,state:n});case "boolean":return eu({irSchema:t});case "integer":case "number":return tu({irSchema:t,schema:r});case "object":return ru({context:e,irSchema:t,schema:r,state:n});case "string":return nu({irSchema:t});default:return Ia({irSchema:t,schema:r,state:n})}},Ia=({irSchema:e,schema:t,state:r})=>(e||(e=vt({schema:t})),e.type="unknown",Sn({irSchema:e,schema:t,state:r}),e),ae=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),"$ref"in t?pu({context:e,schema:t,state:r}):t.enum?iu({context:e,schema:t,state:r}):t.allOf?su({context:e,schema:t,state:r}):t.anyOf?ou({context:e,schema:t,state:r}):t.oneOf?au({context:e,schema:t,state:r}):t.type||t.properties?mu({context:e,schema:t,state:r}):Ia({schema:t,state:r})),Pa=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[re(e)]=ae({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var lu=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",Vt=({context:e,name:t,schema:r})=>{if(Oe(e.config.input.pagination).test(t))return  true;if("$ref"in r){let s=e.resolveRef(r.$ref);if("content"in s||"in"in s){let o;if("in"in s&&(o=s.schema),!o){let a=mt({content:s.content});a?.schema&&(o=a.schema);}return o?Vt({context:e,name:t,schema:o}):false}return Vt({context:e,name:t,schema:s})}for(let s in r.properties)if(Oe(e.config.input.pagination).test(s)){let a=r.properties[s];if(typeof a!="boolean"&&!("$ref"in a)){let i=Lt({schema:a});if(lu(i))return s}}for(let s of r.allOf??[]){let o=Vt({context:e,name:t,schema:s});if(o)return o}return  false};var fu=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},uu=({context:e,method:t,operation:r,path:n,state:s})=>{let o={id:_t({context:e,id:r.operationId,method:t,path:n,state:s}),method:t,path:n};return r.operationId&&(o.operationId=r.operationId),fu({irOperation:o,operation:r}),o},du=({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o})=>{let a=uu({context:e,method:t,operation:r,path:n,state:o});if(r.parameters&&(a.parameters=r.parameters),r.requestBody){let i="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,c=mt({content:i.content});if(c){let m=Vt({context:e,name:"",schema:c.schema&&"$ref"in c.schema?{allOf:[{...c.schema}],description:i.description}:{description:i.description,...c.schema}});a.body={mediaType:c.mediaType,schema:ae({context:e,schema:"$ref"in r.requestBody?{allOf:[{...r.requestBody}],description:i.description}:c.schema&&"$ref"in c.schema?{allOf:[{...c.schema}],description:i.description}:{description:i.description,...c.schema},state:void 0})},m&&(a.body.pagination=m),i.required&&(a.body.required=i.required),c.type&&(a.body.type=c.type);}}for(let i in r.responses){a.responses||(a.responses={});let c=r.responses[i],m="$ref"in c?e.resolveRef(c.$ref):c,l=mt({content:m.content});l?a.responses[i]={mediaType:l.mediaType,schema:ae({context:e,schema:{description:m.description,...Ta({content:l})},state:void 0})}:a.responses[i]={schema:{description:m.description,type:i==="204"?"void":"unknown"}};}if(r.security){let i=[];for(let c of r.security)for(let m in c){let l=s.get(m);l&&i.push(l);}i.length&&(a.security=i);}return a},lt=({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o})=>{e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),r.servers&&(e.ir.servers=[...e.ir.servers??[],...r.servers]),e.ir.paths[n][t]=du({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o});};var yu=e=>{switch(e){case "query":return  false;default:return}},gu=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},hu=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},Ze=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let s="$ref"in n?e.dereference(n):n;r[s.in]||(r[s.in]={}),r[s.in][s.name.toLocaleLowerCase()]=Aa({context:e,parameter:s});}return r},Aa=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=mt({content:t.content});m&&(r=m.schema);}let n=r&&"$ref"in r?{allOf:[{...r}],deprecated:t.deprecated,description:t.description}:{deprecated:t.deprecated,description:t.description,...r},s=Vt({context:e,name:t.name,schema:n}),o=t.style||hu(t.in),a=t.explode!==void 0?t.explode:gu(o),c={allowReserved:t.allowReserved!==void 0?t.allowReserved:yu(t.in),explode:a,location:t.in,name:t.name,schema:ae({context:e,schema:n,state:void 0}),style:o};return t.deprecated&&(c.deprecated=t.deprecated),t.description&&(c.description=t.description),s&&(c.pagination=s),t.required&&(c.required=t.required),c},Ea=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[re(e)]=Aa({context:t,parameter:r});};var xu=({context:e,requestBody:t})=>{let r=mt({content:t.content}),n=r?r.schema:void 0,s={description:t.description,...n},o={schema:ae({context:e,schema:s,state:void 0})};return t.description&&(o.description=t.description),t.required&&(o.required=t.required),o},va=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[re(e)]=xu({context:t,requestBody:r});};var ja=({context:e})=>{if(e.spec.servers){e.ir.servers=e.spec.servers;return}if(typeof e.config.input.path=="string"){let t=Je(e.config.input.path);e.ir.servers=[{url:`${t.protocol?`${t.protocol}://`:""}${t.host}${t.port?`:${t.port}`:""}`}];}e.ir.servers||(e.ir.servers=[{url:"/"}]);};var ws=e=>{let t=cr(e.config.input.filters),r;if(t||e.config.input.validate_EXPERIMENTAL){let o=Ca({spec:e.spec,validate:!!e.config.input.validate_EXPERIMENTAL});r=o.graph,lr({context:e,result:o});}if(t&&r){let o=pr(e.config.input.filters,e.spec),a=mr({filters:o,graph:r});Sa({...a,preserveOrder:o.preserveOrder,spec:e.spec});}let n={ids:new Map},s=new Map;if(e.spec.components){for(let o in e.spec.components.securitySchemes){let a=e.spec.components.securitySchemes[o],i="$ref"in a?e.resolveRef(a.$ref):a;s.set(o,i);}for(let o in e.spec.components.parameters){let a=`#/components/parameters/${o}`,i=e.spec.components.parameters[o],c="$ref"in i?e.resolveRef(i.$ref):i;Ea({$ref:a,context:e,parameter:c});}for(let o in e.spec.components.requestBodies){let a=`#/components/requestBodies/${o}`,i=e.spec.components.requestBodies[o],c="$ref"in i?e.resolveRef(i.$ref):i;va({$ref:a,context:e,requestBody:c});}for(let o in e.spec.components.schemas){let a=`#/components/schemas/${o}`,i=e.spec.components.schemas[o];Pa({$ref:a,context:e,schema:i});}}ja({context:e});for(let o in e.spec.paths){let a=e.spec.paths[o],i=a.$ref?{...e.resolveRef(a.$ref),...a}:a,c={context:e,operation:{description:i.description,parameters:Ze({context:e,parameters:i.parameters}),security:e.spec.security,servers:i.servers,summary:i.summary},path:o,securitySchemesMap:s,state:n};i.delete&&lt({...c,method:"delete",operation:{...c.operation,...i.delete,parameters:w({source:Ze({context:e,parameters:i.delete.parameters}),target:c.operation.parameters})}}),i.get&&lt({...c,method:"get",operation:{...c.operation,...i.get,parameters:w({source:Ze({context:e,parameters:i.get.parameters}),target:c.operation.parameters})}}),i.head&&lt({...c,method:"head",operation:{...c.operation,...i.head,parameters:w({source:Ze({context:e,parameters:i.head.parameters}),target:c.operation.parameters})}}),i.options&&lt({...c,method:"options",operation:{...c.operation,...i.options,parameters:w({source:Ze({context:e,parameters:i.options.parameters}),target:c.operation.parameters})}}),i.patch&&lt({...c,method:"patch",operation:{...c.operation,...i.patch,parameters:w({source:Ze({context:e,parameters:i.patch.parameters}),target:c.operation.parameters})}}),i.post&&lt({...c,method:"post",operation:{...c.operation,...i.post,parameters:w({source:Ze({context:e,parameters:i.post.parameters}),target:c.operation.parameters})}}),i.put&&lt({...c,method:"put",operation:{...c.operation,...i.put,parameters:w({source:Ze({context:e,parameters:i.put.parameters}),target:c.operation.parameters})}}),i.trace&&lt({...c,method:"trace",operation:{...c.operation,...i.trace,parameters:w({source:Ze({context:e,parameters:i.trace.parameters}),target:c.operation.parameters})}});}};var ka=({operations:e,parameters:t,preserveOrder:r,requestBodies:n,responses:s,schemas:o,spec:a})=>{if(a.components){if(a.components.parameters){let i={};if(r)for(let[c,m]of Object.entries(a.components.parameters))t.has(C("parameter",c))&&(i[c]=m);else for(let c of t){let{name:m}=Z(c),l=a.components.parameters[m];l&&(i[m]=l);}a.components.parameters=i;}if(a.components.requestBodies){let i={};if(r)for(let[c,m]of Object.entries(a.components.requestBodies))n.has(C("body",c))&&(i[c]=m);else for(let c of n){let{name:m}=Z(c),l=a.components.requestBodies[m];l&&(i[m]=l);}a.components.requestBodies=i;}if(a.components.responses){let i={};if(r)for(let[c,m]of Object.entries(a.components.responses))s.has(C("response",c))&&(i[c]=m);else for(let c of s){let{name:m}=Z(c),l=a.components.responses[m];l&&(i[m]=l);}a.components.responses=i;}if(a.components.schemas){let i={};if(r)for(let[c,m]of Object.entries(a.components.schemas))o.has(C("schema",c))&&(i[c]=m);else for(let c of o){let{name:m}=Z(c),l=a.components.schemas[m];l&&(i[m]=l);}a.components.schemas=i;}}if(a.paths)for(let i of Object.entries(a.paths)){let c=i[0],m=i[1];for(let l of me){if(!m[l])continue;let u=C("operation",q({method:l,path:c}));e.has(u)||delete m[l];}Object.keys(m).length||delete a.paths[c];}};var F=(e,t)=>{if("$ref"in e&&e.$ref){let r=e.$ref.split("/"),n=r[r.length-2],s=r[r.length-1];if(n&&s){let o=ar(n);o==="unknown"&&console.warn(`unsupported type: ${n}`),t.add(C(o,s));}}if(e.items&&typeof e.items=="object"&&F(e.items,t),e.properties)for(let r of Object.values(e.properties))typeof r=="object"&&F(r,t);if(e.additionalProperties&&typeof e.additionalProperties=="object"&&F(e.additionalProperties,t),e.allOf)for(let r of e.allOf)F(r,t);if(e.anyOf)for(let r of e.anyOf)F(r,t);if(e.contains&&F(e.contains,t),e.not&&F(e.not,t),e.oneOf)for(let r of e.oneOf)F(r,t);if(e.prefixItems)for(let r of e.prefixItems)F(r,t);e.propertyNames&&typeof e.propertyNames=="object"&&F(e.propertyNames,t);},Na=({spec:e,validate:t})=>{let r={operations:new Map,parameters:new Map,requestBodies:new Map,responses:new Map,schemas:new Map},n=[],s=new Map;if(e.components){if(e.components.schemas)for(let[o,a]of Object.entries(e.components.schemas)){let i=new Set;F(a,i),r.schemas.set(C("schema",o),{dependencies:i,deprecated:"deprecated"in a?!!a.deprecated:false});}if(e.components.parameters)for(let[o,a]of Object.entries(e.components.parameters)){let i=new Set;if("$ref"in a)F(a,i);else if(a.schema&&F(a.schema,i),a.content)for(let c of Object.values(a.content))c.schema&&F(c.schema,i);r.parameters.set(C("parameter",o),{dependencies:i,deprecated:"deprecated"in a?!!a.deprecated:false});}if(e.components.requestBodies)for(let[o,a]of Object.entries(e.components.requestBodies)){let i=new Set;if("$ref"in a)F(a,i);else for(let c of Object.values(a.content))c.schema&&F(c.schema,i);r.requestBodies.set(C("body",o),{dependencies:i,deprecated:false});}if(e.components.responses)for(let[o,a]of Object.entries(e.components.responses)){let i=new Set;if("$ref"in a)F(a,i);else if(a.content)for(let c of Object.values(a.content))c.schema&&F(c.schema,i);r.responses.set(C("response",o),{dependencies:i,deprecated:false});}}if(e.paths)for(let o of Object.entries(e.paths)){let a=o[0],i=o[1];for(let c of me){let m=i[c];if(!m)continue;let l=q({method:c,path:a});t&&m.operationId&&(s.has(m.operationId)?n.push({code:"duplicate_key",context:{key:"operationId",value:m.operationId},message:"Duplicate `operationId` found. Each `operationId` must be unique.",path:["paths",a,c,"operationId"],severity:"error"}):s.set(m.operationId,l));let f=new Set;if(m.requestBody)if("$ref"in m.requestBody)F(m.requestBody,f);else for(let u of Object.values(m.requestBody.content))u.schema&&F(u.schema,f);if(m.responses){for(let u of Object.values(m.responses))if(u){if("$ref"in u)F(u,f);else if(u.content)for(let d of Object.values(u.content))d.schema&&F(d.schema,f);}}if(m.parameters)for(let u of m.parameters)"$ref"in u?F(u,f):u.schema&&F(u.schema,f);r.operations.set(C("operation",l),{dependencies:f,deprecated:!!m.deprecated,tags:new Set(m.tags)});}}if(t&&e.servers){(typeof e.servers!="object"||!Array.isArray(e.servers))&&n.push({code:"invalid_type",message:"`servers` must be an array.",path:[],severity:"error"});for(let o=0;o<e.servers.length;o++){let a=e.servers[o];!a||typeof a!="object"?n.push({code:"invalid_type",context:{actual:typeof a,expected:"object"},message:"Each entry in `servers` must be an object.",path:["servers",o],severity:"error"}):a.url||n.push({code:"missing_required_field",context:{field:"url"},message:"Missing required field `url` in server object.",path:["servers",o],severity:"error"});}}return {graph:r,issues:n,valid:!n.some(o=>o.severity==="error")}};var qa=({content:e})=>{let{mediaType:t,schema:r}=e;return r?r.type==="string"&&!r.format&&pt({mediaType:t})?{...r,format:"binary"}:r:pt({mediaType:t})?{format:"binary",type:"string"}:void 0},ft=({content:e})=>{for(let t in e)return {mediaType:t,schema:e[t].schema,type:fr({mediaType:t})}};var Ye=({schema:e})=>typeof e.type=="string"?[e.type]:e.type?e.type:e.properties?["object"]:[],bu=({irSchema:e,schema:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},Cn=({irSchema:e,schema:t,state:r})=>{if(t.const!==void 0&&(e.const=t.const,!t.type))if(t.const===null)e.type="null";else switch(typeof t.const){case "bigint":case "number":e.type="number";break;case "boolean":e.type="boolean";break;case "string":e.type="string";break}t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum!==void 0&&(e.exclusiveMaximum=t.exclusiveMaximum),t.exclusiveMinimum!==void 0&&(e.exclusiveMinimum=t.exclusiveMinimum),t.format&&(e.format=t.format),t.maximum!==void 0&&(e.maximum=t.maximum),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minimum!==void 0&&(e.minimum=t.minimum),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=T(e.accessScopes,["read"])):t.writeOnly?(e.accessScope="write",e.accessScopes=T(e.accessScopes,["write"])):r.isProperty&&(e.accessScopes=T(e.accessScopes,["both"]));},Ou=({context:e,irSchema:t={},schema:r,state:n})=>{r.prefixItems&&r.prefixItems.length||r.maxItems&&r.maxItems===r.minItems||r.const!==void 0?t.type="tuple":t.type="array";let s=[];for(let o of r.prefixItems??[]){let a=ne({context:e,schema:o,state:n});t.accessScopes=T(t.accessScopes,a.accessScopes),s.push(a);}if(r.items){let o=ne({context:e,schema:r.items,state:n});if(t.accessScopes=T(t.accessScopes,o.accessScopes),!s.length&&r.maxItems&&r.maxItems===r.minItems)s=Array(r.maxItems).fill(o);else {let a=r.items.allOf||r.items.anyOf||r.items.oneOf;a&&a.length>1&&!Ye({schema:r.items}).includes("null")?t={...t,...o}:s.push(o);}}return t=_({items:s,schema:t}),t},Ru=({irSchema:e={}})=>(e.type="boolean",e),Su=({irSchema:e={}})=>(e.type="null",e),Cu=({irSchema:e={},schema:t})=>(e.type=t.type,e),Tu=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let s={};for(let o in r.properties){let a=r.properties[o];if(typeof a!="boolean"){let i=ne({context:e,schema:a,state:{...n,isProperty:true}});t.accessScopes=T(t.accessScopes,i.accessScopes),s[o]=i;}}if(Object.keys(s).length&&(t.properties=s),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let o=ne({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=o;}return r.propertyNames&&(t.propertyNames=ne({context:e,schema:r.propertyNames,state:n})),r.required&&(t.required=r.required),t},Iu=({irSchema:e={}})=>(e.type="string",e),ut=({schema:e})=>{let t={};return bu({irSchema:t,schema:e}),t},Pu=({context:e,schema:t,state:r})=>{let n=ut({schema:t}),s=[],o=Ye({schema:t}),a=t.allOf;for(let i of a){let c=ne({context:e,schema:i,state:r});if(n.accessScopes=T(n.accessScopes,c.accessScopes),t.required&&(c.required?c.required=[...c.required,...t.required]:c.required=t.required),s.push(c),i.$ref){let m=e.resolveRef(i.$ref);if(m.discriminator&&r.$ref){let f=Ge(r.$ref,m.discriminator.mapping).map(d=>({const:d,type:"string"})),u={properties:{[m.discriminator.propertyName]:f.length>1?{items:f,logicalOperator:"or"}:f[0]},type:"object"};m.required?.includes(m.discriminator.propertyName)&&(u.required=[m.discriminator.propertyName]),s.push(u);}if(!r.circularReferenceTracker.has(i.$ref)){let l=ne({context:e,schema:m,state:{...r,$ref:i.$ref}});n.accessScopes=T(n.accessScopes,l.accessScopes);}}}if(o.includes("object")){let i=Kt({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=T(n.accessScopes,i.accessScopes),i.properties){for(let c of i.required??[])if(!i.properties[c])for(let m of a){let l=m.$ref?e.resolveRef(m.$ref):m;if(Ye({schema:l}).includes("object")){let f=Kt({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=T(n.accessScopes,f.accessScopes),f.properties?.[c]){i.properties[c]=f.properties[c];break}}}s.push(i);}}if(n=_({items:s,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),o.includes("null")){let i=[{type:"null"}];s.length&&i.unshift(n),n={items:i,logicalOperator:"or"};}return n},Au=({context:e,schema:t,state:r})=>{let n=ut({schema:t}),s=[],o=Ye({schema:t}),a=t.anyOf;for(let i of a){let c=ne({context:e,schema:i,state:r});if(n.accessScopes=T(n.accessScopes,c.accessScopes),t.discriminator&&i.$ref){let l=Ge(i.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},c],logicalOperator:"and"};}s.push(c);}if(o.includes("null")&&s.push({type:"null"}),n=_({items:s,mutateSchemaOneItem:true,schema:n}),o.includes("object")){let i=Kt({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=T(n.accessScopes,i.accessScopes),i.properties&&(n={items:[n,i],logicalOperator:"and"});}return n},Eu=({context:e,schema:t,state:r})=>{let n=ut({schema:t});n.type="enum";let s=[],o=Ye({schema:t});for(let[a,i]of t.enum.entries()){let c=typeof i,m;if(c==="string"||c==="number"||c==="boolean"?m=c:c==="object"&&Array.isArray(i)?m="array":i===null?o.includes("null")&&(m="null"):console.warn("\u{1F6A8}",`unhandled "${c}" typeof value "${i}" for enum`,t.enum),!m)continue;let l=Kt({context:e,schema:{const:i,description:t["x-enum-descriptions"]?.[a],title:t["x-enum-varnames"]?.[a]??t["x-enumNames"]?.[a],type:m},state:r});n.accessScopes=T(n.accessScopes,l.accessScopes),s.push(l);}return n=_({items:s,schema:n}),n},vu=({context:e,schema:t,state:r})=>{let n=ut({schema:t}),s=[],o=Ye({schema:t}),a=t.oneOf;for(let i of a){let c=ne({context:e,schema:i,state:r});if(n.accessScopes=T(n.accessScopes,c.accessScopes),t.discriminator&&i.$ref){let l=Ge(i.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},required:[t.discriminator.propertyName],type:"object"},c],logicalOperator:"and"};}c.logicalOperator==="or"&&c.type!=="array"&&c.items?s=s.concat(c.items):s.push(c);}if(o.includes("null")&&s.push({type:"null"}),n=_({items:s,mutateSchemaOneItem:true,schema:n}),o.includes("object")){let i=Kt({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=T(n.accessScopes,i.accessScopes),i.properties&&(n={items:[n,i],logicalOperator:"and"});}return n},ju=({context:e,schema:t,state:r})=>{let n=ut({schema:t}),s={};if(s.$ref=decodeURI(t.$ref),!r.circularReferenceTracker.has(t.$ref)){let a=e.resolveRef(t.$ref),i=ne({context:e,schema:a,state:{...r,$ref:t.$ref,isProperty:false}});s.accessScopes=T(s.accessScopes,i.accessScopes);}let o=[];return o.push(s),t.type&&typeof t.type!="string"&&t.type.includes("null")&&o.push({type:"null"}),n=_({items:o,mutateSchemaOneItem:true,schema:n}),n},Kt=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=ut({schema:r}),Cn({irSchema:t,schema:r,state:n})),r.type){case "array":return Ou({context:e,irSchema:t,schema:r,state:n});case "boolean":return Ru({irSchema:t});case "integer":case "number":return Cu({irSchema:t,schema:r});case "null":return Su({irSchema:t});case "object":return Tu({context:e,irSchema:t,schema:r,state:n});case "string":return Iu({irSchema:t});default:return wa({irSchema:t,schema:r,state:n})}},ku=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=ut({schema:r}));let s={};Cn({irSchema:s,schema:r,state:n}),r.type.includes("null")&&s.default===null&&delete s.default;let o=[];for(let a of r.type)if(a==="null")o.push({type:"null"});else {let i=Kt({context:e,irSchema:s,schema:{...r,type:a},state:n});t.accessScopes=T(t.accessScopes,i.accessScopes),o.push(i);}return t=_({items:o,schema:t}),t},Nu=({context:e,schema:t,state:r})=>{let n=ut({schema:t});Cn({irSchema:n,schema:t,state:r});let s=Ye({schema:t});return s.length===1?Kt({context:e,irSchema:n,schema:{...t,type:s[0]},state:r}):ku({context:e,irSchema:n,schema:{...t,type:s},state:r})},wa=({irSchema:e,schema:t,state:r})=>(e||(e=ut({schema:t})),e.type="unknown",Cn({irSchema:e,schema:t,state:r}),e),ne=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),t.$ref?ju({context:e,schema:t,state:r}):t.enum?Eu({context:e,schema:t,state:r}):t.allOf?Pu({context:e,schema:t,state:r}):t.anyOf?Au({context:e,schema:t,state:r}):t.oneOf?vu({context:e,schema:t,state:r}):t.type||t.properties?Nu({context:e,schema:t,state:r}):wa({schema:t,state:r})),$a=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[re(e)]=ne({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var Da=e=>e.includes("boolean")||e.includes("integer")||e.includes("number")||e.includes("string"),Wt=({context:e,name:t,schema:r})=>{if(Oe(e.config.input.pagination).test(t))return  true;if(r.$ref){let s=e.resolveRef(r.$ref);if("content"in s||"in"in s){let o;if("in"in s&&(o=s.schema),!o){let a=ft({content:s.content});a?.schema&&(o=a.schema);}return o?Wt({context:e,name:t,schema:o}):false}return Wt({context:e,name:t,schema:s})}for(let s in r.properties)if(Oe(e.config.input.pagination).test(s)){let a=r.properties[s];if(typeof a!="boolean"){let i=Ye({schema:a});if(!i.length){let m=(a.anyOf??a.oneOf??[]).filter(l=>l.type!=="null");if(m.length===1){let l=Ye({schema:m[0]});if(Da(l))return s}}if(Da(i))return s}}for(let s of r.allOf??[]){let o=Wt({context:e,name:t,schema:s});if(o)return o}return  false};var qu=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},wu=({context:e,method:t,operation:r,path:n,state:s})=>{let o={id:_t({context:e,id:r.operationId,method:t,path:n,state:s}),method:t,path:n};return r.operationId&&(o.operationId=r.operationId),qu({irOperation:o,operation:r}),o},$u=({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o})=>{let a=wu({context:e,method:t,operation:r,path:n,state:o});if(r.parameters&&(a.parameters=r.parameters),r.requestBody){let i="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,c=ft({content:i.content});if(c){let m=Wt({context:e,name:"",schema:{description:i.description,...c.schema}});a.body={mediaType:c.mediaType,schema:ne({context:e,schema:{description:i.description,..."$ref"in r.requestBody?r.requestBody:c.schema},state:void 0})},m&&(a.body.pagination=m),i.required&&(a.body.required=i.required),c.type&&(a.body.type=c.type);}}for(let i in r.responses){a.responses||(a.responses={});let c=r.responses[i],m="$ref"in c?e.resolveRef(c.$ref):c,l=ft({content:m.content});l?a.responses[i]={mediaType:l.mediaType,schema:ne({context:e,schema:{description:m.description,...qa({content:l})},state:void 0})}:a.responses[i]={schema:{description:m.description,type:i==="204"?"void":"unknown"}};}if(r.security){let i=[];for(let c of r.security)for(let m in c){let l=s.get(m);l&&i.push(l);}i.length&&(a.security=i);}return a},dt=({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o})=>{e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),r.servers&&(e.ir.servers=[...e.ir.servers??[],...r.servers]),e.ir.paths[n][t]=$u({context:e,method:t,operation:r,path:n,securitySchemesMap:s,state:o});};var Du=e=>{switch(e){case "query":return  false;default:return}},Mu=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},Fu=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},et=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let s="$ref"in n?e.dereference(n):n;r[s.in]||(r[s.in]={}),r[s.in][s.name.toLocaleLowerCase()]=Ma({context:e,parameter:s});}return r},Ma=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=ft({content:t.content});m&&(r=m.schema);}let n={deprecated:t.deprecated,description:t.description,...r},s=Wt({context:e,name:t.name,schema:n}),o=t.style||Fu(t.in),a=t.explode!==void 0?t.explode:Mu(o),c={allowReserved:t.allowReserved!==void 0?t.allowReserved:Du(t.in),explode:a,location:t.in,name:t.name,schema:ne({context:e,schema:n,state:void 0}),style:o};return t.deprecated&&(c.deprecated=t.deprecated),t.description&&(c.description=t.description),s&&(c.pagination=s),t.required&&(c.required=t.required),c},Fa=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[re(e)]=Ma({context:t,parameter:r});};var Bu=({context:e,requestBody:t})=>{let r=ft({content:t.content}),n=r?r.schema:void 0,s={description:t.description,...n},o={schema:ne({context:e,schema:s,state:void 0})};return t.description&&(o.description=t.description),t.required&&(o.required=t.required),o},Ba=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[re(e)]=Bu({context:t,requestBody:r});};var _a=({context:e})=>{if(e.spec.servers){e.ir.servers=e.spec.servers;return}if(typeof e.config.input.path=="string"){let t=Je(e.config.input.path);e.ir.servers=[{url:`${t.protocol?`${t.protocol}://`:""}${t.host}${t.port?`:${t.port}`:""}`}];}e.ir.servers||(e.ir.servers=[{url:"/"}]);};var $s=e=>{let t=cr(e.config.input.filters),r;if(t||e.config.input.validate_EXPERIMENTAL){let o=Na({spec:e.spec,validate:!!e.config.input.validate_EXPERIMENTAL});r=o.graph,lr({context:e,result:o});}if(t&&r){let o=pr(e.config.input.filters,e.spec),a=mr({filters:o,graph:r});ka({...a,preserveOrder:o.preserveOrder,spec:e.spec});}let n={ids:new Map},s=new Map;if(e.spec.components){for(let o in e.spec.components.securitySchemes){let a=e.spec.components.securitySchemes[o],i="$ref"in a?e.resolveRef(a.$ref):a;s.set(o,i);}for(let o in e.spec.components.parameters){let a=`#/components/parameters/${o}`,i=e.spec.components.parameters[o],c="$ref"in i?e.resolveRef(i.$ref):i;Fa({$ref:a,context:e,parameter:c});}for(let o in e.spec.components.requestBodies){let a=`#/components/requestBodies/${o}`,i=e.spec.components.requestBodies[o],c="$ref"in i?e.resolveRef(i.$ref):i;Ba({$ref:a,context:e,requestBody:c});}for(let o in e.spec.components.schemas){let a=`#/components/schemas/${o}`,i=e.spec.components.schemas[o];$a({$ref:a,context:e,schema:i});}}_a({context:e});for(let o in e.spec.paths){let a=e.spec.paths[o],i=a.$ref?{...e.resolveRef(a.$ref),...a}:a,c={context:e,operation:{description:i.description,parameters:et({context:e,parameters:i.parameters}),security:e.spec.security,servers:i.servers,summary:i.summary},path:o,securitySchemesMap:s,state:n};i.delete&&dt({...c,method:"delete",operation:{...c.operation,...i.delete,parameters:w({source:et({context:e,parameters:i.delete.parameters}),target:c.operation.parameters})}}),i.get&&dt({...c,method:"get",operation:{...c.operation,...i.get,parameters:w({source:et({context:e,parameters:i.get.parameters}),target:c.operation.parameters})}}),i.head&&dt({...c,method:"head",operation:{...c.operation,...i.head,parameters:w({source:et({context:e,parameters:i.head.parameters}),target:c.operation.parameters})}}),i.options&&dt({...c,method:"options",operation:{...c.operation,...i.options,parameters:w({source:et({context:e,parameters:i.options.parameters}),target:c.operation.parameters})}}),i.patch&&dt({...c,method:"patch",operation:{...c.operation,...i.patch,parameters:w({source:et({context:e,parameters:i.patch.parameters}),target:c.operation.parameters})}}),i.post&&dt({...c,method:"post",operation:{...c.operation,...i.post,parameters:w({source:et({context:e,parameters:i.post.parameters}),target:c.operation.parameters})}}),i.put&&dt({...c,method:"put",operation:{...c.operation,...i.put,parameters:w({source:et({context:e,parameters:i.put.parameters}),target:c.operation.parameters})}}),i.trace&&dt({...c,method:"trace",operation:{...c.operation,...i.trace,parameters:w({source:et({context:e,parameters:i.trace.parameters}),target:c.operation.parameters})}});}};var Tn=["connect","delete","get","head","options","patch","post","put","trace"];function In(e="1.0"){return String(e).replace(/^v/gi,"")}var dr="#/components/parameters/",Pn="#/components/schemas/";var jt=({config:e,name:t})=>{let r=e.plugins["@hey-api/sdk"];if(r?.classNameBuilder){let n="";return typeof r.classNameBuilder=="function"?n=r.classNameBuilder(t):n=r.classNameBuilder.replace("{{name}}",t),n}return t},Ds=e=>S().plugins["@hey-api/typescript"]?.style==="PascalCase"?E({case:"PascalCase",value:e}):e,La=e=>{let t=Ds(e);return Me(t).replace(fe,"_$1")};var Ha=(e,t)=>{if(e.enum&&!t.includes("boolean"))return "enum"},Ms=e=>yr(e).includes("null"),kt=e=>e.nullable===true||Ms(e),yr=({type:e})=>Array.isArray(e)?e:e?[e]:[];var $r=e=>e.trim().replace(/^#\/definitions\//,"").replace(/^#\/parameters\//,"").replace(/^#\/responses\//,"").replace(/^#\/securityDefinitions\//,"").replace(/^#\/components\/schemas\//,"").replace(/^#\/components\/responses\//,"").replace(/^#\/components\/parameters\//,"").replace(/^#\/components\/examples\//,"").replace(/^#\/components\/requestBodies\//,"").replace(/^#\/components\/headers\//,"").replace(/^#\/components\/securitySchemes\//,"").replace(/^#\/components\/links\//,"").replace(/^#\/components\/callbacks\//,"");var Va=(e,t)=>{if(t==="binary")return "binary";switch(e){case "any":case "object":case "unknown":return "unknown";case "array":return "unknown[]";case "boolean":return "boolean";case "byte":case "double":case "float":case "int":case "integer":case "long":case "number":case "short":return "number";case "char":case "date":case "date-time":case "password":case "string":return "string";case "file":return "binary";case "null":return "null";case "void":return "void"}},Ka=/(?<!`1)\[.*\]$/g,v=({debug:e,format:t,type:r="unknown"})=>{let n={$refs:[],base:"unknown",imports:[],isNullable:false,template:null,type:"unknown"};if(Array.isArray(r)){let a=r.filter(i=>i!=="null").map(i=>Va(i,t)).filter(Boolean).join(" | ");return n.type=a,n.base=a,n.isNullable=Ms({type:r}),n}let s=Va(r,t);if(s)return n.type=s,n.base=s,n;let o=decodeURIComponent($r(r));if(Ka.lastIndex=0,Ka.test(o)){let a=o.match(/(.*?)\[(.*)\]$/);if(a?.length){let i=v({debug:e,type:Me(a[1])}),c=v({debug:e,type:Me(a[2])});return i.type==="unknown[]"?(n.type=`${c.type}[]`,n.base=`${c.type}`,i.$refs=[],i.imports=[]):c.type?(n.type=`${i.type}<${c.type}>`,n.base=i.type,n.template=c.type):(n.type=i.type,n.base=i.type,n.template=i.type),n.$refs=[...n.$refs,...i.$refs,...c.$refs],n.imports=[...n.imports,...i.imports,...c.imports],n}}if(o){let a=Ds(Me(o));return r.startsWith(dr)&&(a=`Parameter${a}`),n.type=a,n.base=a,r.startsWith("#")&&(n.$refs=[...n.$refs,decodeURIComponent(r)]),n.imports=[...n.imports,a],n}return n};function le(e,t,r){return r.indexOf(e)===t}var gr=(e,t)=>{if(!Array.isArray(t))return [];let r=(e["x-enum-descriptions"]??[]).filter(s=>typeof s=="string"),n=(e["x-enum-varnames"]??e["x-enumNames"]??[]).filter(s=>typeof s=="string");return t.filter(le).filter(s=>typeof s=="number"||typeof s=="string").map((s,o)=>({customDescription:r[o],customName:n[o],description:void 0,value:s}))};var Y=e=>e?.replace(/\\/g,"\\\\").replace(/'/g,"\\'");var An=({definition:e,getModel:t,openApi:r,types:n})=>{let s=[];return Object.entries(e.properties??{}).forEach(([o,a])=>{let i=!!e.required?.includes(o);if(a.$ref){let c=v({type:a.$ref});s.push({$refs:[],base:c.base,description:a.description||null,enum:[],enums:[],exclusiveMaximum:a.exclusiveMaximum,exclusiveMinimum:a.exclusiveMinimum,export:"reference",format:a.format,imports:c.imports,in:"",isDefinition:false,isNullable:a["x-nullable"]===true,isReadOnly:a.readOnly===true,isRequired:i,link:null,maxItems:a.maxItems,maxLength:a.maxLength,maxProperties:a.maxProperties,maximum:a.maximum,minItems:a.minItems,minLength:a.minLength,minProperties:a.minProperties,minimum:a.minimum,multipleOf:a.multipleOf,name:Te(o),pattern:Y(a.pattern),properties:[],template:c.template,type:c.type,uniqueItems:a.uniqueItems});}else {let c=t({definition:a,openApi:r,types:n});s.push({$refs:[],base:c.base,description:a.description||null,enum:c.enum,enums:c.enums,exclusiveMaximum:a.exclusiveMaximum,exclusiveMinimum:a.exclusiveMinimum,export:c.export,format:a.format,imports:c.imports,in:"",isDefinition:false,isNullable:a["x-nullable"]===true,isReadOnly:a.readOnly===true,isRequired:i,link:c.link,maxItems:a.maxItems,maxLength:a.maxLength,maxProperties:a.maxProperties,maximum:a.maximum,minItems:a.minItems,minLength:a.minLength,minProperties:a.minProperties,minimum:a.minimum,multipleOf:a.multipleOf,name:Te(o),pattern:Y(a.pattern),properties:c.properties,template:c.template,type:c.type,uniqueItems:a.uniqueItems});}}),s};var _u=/~1/g,Lu=/~0/g;function V(e,t){if(t.$ref){let r=t.$ref.replace(/^#/g,"").split("/").filter(Boolean),n=e;return r.forEach(s=>{let o=decodeURIComponent(s.replace(_u,"/").replace(Lu,"~"));if(n.hasOwnProperty(o))n=n[o];else throw new Error(`Could not find reference: "${t.$ref}"`)}),n}return t}var Wa=({definitions:e,getModel:t,openApi:r,required:n,types:s})=>e.reduce((o,a)=>{if(a.$ref){let i=V(r,a);return [...o,...t({definition:i,openApi:r,types:s}).properties]}return [...o,...t({definition:a,openApi:r,types:s}).properties]},[]).filter(o=>!o.isRequired&&n.includes(o.name)).map(o=>({...o,isRequired:true}));var Ua=({definition:e,definitions:t,getModel:r,openApi:n,type:s,types:o})=>{let a={$refs:[],enums:[],export:s,imports:[],properties:[]},i=[];if(t.map(c=>r({definition:c,openApi:n,types:o})).filter(c=>{let m=c.properties.length,l=c.enums.length;return !(c.type==="unknown"&&!m&&!l)}).forEach(c=>{a.imports.push(...c.imports),a.enums.push(...c.enums),a.properties.push(c);}),e.required&&s==="all-of"){let c=Wa({definitions:t,getModel:r,openApi:n,required:e.required,types:o});c.forEach(m=>{a.imports.push(...m.imports),a.enums.push(...m.enums);}),i.push(...c);}if(e.properties){let c=An({definition:e,getModel:r,openApi:n,types:o});c.forEach(m=>{a.imports.push(...m.imports),a.enums.push(...m.enums),m.export==="enum"&&a.enums.push(m);}),i.push(...c);}return i.length&&a.properties.push({$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:i,template:null,type:"unknown"}),a};var tt=({definition:e,isDefinition:t=false,meta:r,openApi:n,types:s})=>{let o={$refs:[],base:"unknown",description:e.description||null,enum:[],enums:[],exclusiveMaximum:e.exclusiveMaximum,exclusiveMinimum:e.exclusiveMinimum,export:"interface",format:e.format,imports:[],in:"",isDefinition:t,isNullable:e["x-nullable"]===true,isReadOnly:e.readOnly===true,isRequired:false,link:null,maxItems:e.maxItems,maxLength:e.maxLength,maxProperties:e.maxProperties,maximum:e.maximum,meta:r,minItems:e.minItems,minLength:e.minLength,minProperties:e.minProperties,minimum:e.minimum,multipleOf:e.multipleOf,name:r?.name??"",pattern:Y(e.pattern),properties:[],template:null,type:"unknown",uniqueItems:e.uniqueItems};if(e.$ref){let a=v({type:e.$ref});return o.export="reference",o.type=a.type,o.base=a.base,o.template=a.template,o.imports.push(...a.imports),o}if(e.enum&&e.type!=="boolean"){let a=gr(e,e.enum);if(a.length)return o.base="string",o.enum=[...o.enum,...a],o.export="enum",o.type="string",o}if(e.type==="array"&&e.items)if(e.items.$ref){let a=v({type:e.items.$ref});return o.export="array",o.type=a.type,o.base=a.base,o.template=a.template,o.imports.push(...a.imports),o}else {let a=tt({definition:e.items,openApi:n,types:s});return o.export="array",o.type=a.type,o.base=a.base,o.template=a.template,o.link=a,o.imports.push(...a.imports),o}if(e.type==="object"&&typeof e.additionalProperties=="object")if(e.additionalProperties.$ref){let a=v({type:e.additionalProperties.$ref});return o.export="dictionary",o.type=a.type,o.base=a.base,o.template=a.template,o.imports.push(...a.imports),o}else {let a=tt({definition:e.additionalProperties,openApi:n,types:s});return o.export="dictionary",o.type=a.type,o.base=a.base,o.template=a.template,o.link=a,o.imports.push(...a.imports),o}if(e.allOf?.length){let a=Ua({definition:e,definitions:e.allOf,getModel:tt,openApi:n,type:"all-of",types:s});return o.export=a.export,o.imports.push(...a.imports),o.properties.push(...a.properties),o.enums=[...o.enums,...a.enums],o}if(e.type==="object")return o.export="interface",o.type="unknown",o.base="unknown",e.properties&&An({definition:e,getModel:tt,openApi:n,types:s}).forEach(i=>{o.imports.push(...i.imports),o.enums=[...o.enums,...i.enums],o.properties.push(i),i.export==="enum"&&(o.enums=[...o.enums,i]);}),o;if(e.type){let a=v({format:e.format,type:e.type});return o.export="generic",o.type=a.type,o.base=a.base,o.template=a.template,o.imports.push(...a.imports),o}return o};var za=e=>{let t={},r=[];return Object.entries(e.definitions??{}).forEach(([n,s])=>{let a=v({type:n}).base.replace(fe,"_$1"),i={$ref:`#/definitions/${n}`,name:a};t[a]=i;let c=tt({definition:s,isDefinition:true,meta:i,openApi:e,types:t});r=[...r,c];}),{models:r,types:t}};var Hu=(e,t)=>{if(t)return t;if(typeof e=="number")return `'_${e}'`;let r="";return typeof e=="string"&&(r=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_").replace(/^([^$_\p{ID_Start}])/u,"_$1").replace(/(\p{Lowercase})(\p{Uppercase}+)/gu,"$1_$2")),r=r.trim(),r||(r="empty_string"),r.toUpperCase()},Qa=e=>e.map(t=>En(t.value,true)).filter(le).join(" | "),En=(e,t=false)=>typeof e=="string"?e.includes("'")&&t?`"${e}"`:`'${e}'`:e,vn=e=>{let t=Hu(e.value,e.customName),r=En(e.value);return {key:t,value:r}},jn=e=>{let t=e.enum.map(r=>vn(r)).sort((r,n)=>Xt(r.key,n.key)).map(r=>`${r.key}=${r.value}`).join("&");return {$ref:`enum/${e.name}/${t}`,name:Me(Zt(e.name))}};var Xa=e=>{let r=`Parameter${v({type:e}).base.replace(fe,"_$1")}`;return {$ref:dr+e,name:r}},kn=e=>{let t=La(e);return {$ref:Pn+e,name:t}};var Dr=e=>e.format==="date"||e.format==="date-time",Fs=e=>{let t=S();return e.base==="binary"?p.typeUnionNode({types:["Blob","File"]}):t.plugins["@hey-api/transformers"]?.dates&&Dr(e)?p.typeNode("Date"):p.typeNode(e.base)},Vu=e=>{let t=e.base==="null"?false:e.isNullable,r=Fs(e);if(e.export==="reference"&&e.$refs.length===1&&e.$refs[0].startsWith(Pn)){let s=kn(e.base);r=p.typeNode(s.name);}return p.typeUnionNode({isNullable:t,types:[r]})},Ku=e=>{if(e.link){if(Array.isArray(e.link)){let t=e.link.map(n=>ve(n));return p.typeTupleNode({isNullable:e.isNullable,types:t})}if(e.export==="array"&&e.maxItems&&e.minItems&&e.maxItems===e.minItems&&e.maxItems<=100){let t=Array(e.maxItems).fill(ve(e.link));return p.typeTupleNode({isNullable:e.isNullable,types:t})}return p.typeArrayNode([ve(e.link)],e.isNullable)}return p.typeArrayNode([Fs(e)],e.isNullable)},Wu=e=>{let t=e.enum.map(r=>En(r.value));return p.typeUnionNode({isNullable:e.isNullable,types:t})},Uu=e=>{let t=e.link&&!Array.isArray(e.link)?ve(e.link):Fs(e);return p.typeRecordNode(["string"],[t],e.isNullable,true)},Ga=({model:e,style:t})=>{let r=e.properties.map(s=>p.nodeToString({node:ve(s),unescape:true})).filter(le),n=t==="union"?p.typeUnionNode({isNullable:e.isNullable&&!e.properties.find(s=>s.isNullable),types:r}):p.typeIntersectionNode({isNullable:e.isNullable,types:r});return e.meta?n:p.typeParenthesizedNode({type:n})},zu=e=>{if(!e.properties.length)return p.typeNode("unknown");let t=S(),r=D(t),n=e.properties.map(s=>{let o=s.isRequired?"":"?",a=ve(s),i=r?/^\dXX$/.test(s.name)?Te(s.name):s.name:Te(Zt(Bs(s.name)));return s.name==="[key: string]"&&(i=s.name,o&&(o="",a=p.typeUnionNode({types:[a,"undefined"]}))),{comment:[s.description&&H(s.description),s.deprecated&&"@deprecated"],isReadOnly:s.isReadOnly,isRequired:o==="",name:i,type:a}});return p.typeInterfaceNode({isNullable:e.isNullable,properties:n,useLegacyResolution:true})},ve=e=>{switch(e.export){case "all-of":return Ga({model:e,style:"intersection"});case "any-of":case "one-of":return Ga({model:e,style:"union"});case "array":return Ku(e);case "dictionary":return Uu(e);case "enum":return Wu(e);case "interface":return zu(e);case "const":case "generic":case "reference":default:return Vu(e)}},je=({client:e,count:t=1,create:r=false,meta:n,nameTransformer:s})=>{let o={created:false,name:""},a=n.name;s&&(a=s(a)),t>1&&(a=`${a}${t}`);let i=e.types[a];return i?i.$ref===n.$ref?o={created:false,name:a}:o=je({client:e,count:t+1,create:r,meta:n,nameTransformer:s}):r&&(e.types[a]=n,o={created:true,name:a}),o},Ja=({client:e,name:t})=>{let r={deleted:false,name:""};return e.types[t]&&(delete e.types[t],r={deleted:true,name:t}),r},Bs=e=>{let t=S();return D(t)?E({case:"camelCase",value:js(e)}).replace(fe,"_$1"):e};var Nn=e=>{let t=e.find(r=>r.in==="header");return t?t.name:null},rt=e=>e.some(r=>r.isRequired),qn=e=>{if(e==="default")return "default";if(e==="1XX")return "1XX";if(e==="2XX")return "2XX";if(e==="3XX")return "3XX";if(e==="4XX")return "4XX";if(e==="5XX")return "5XX";if(/\d{3}/g.test(e)){let t=Number.parseInt(e,10);if(t>=100&&t<600)return t}return null},wn=(e,t)=>e.code>t.code?1:e.code<t.code?-1:0,Qu=e=>e==="3XX"||e==="4XX"||e==="5XX"||typeof e=="number"&&e>=300,Za=e=>e==="2XX"||typeof e=="number"&&e>=200&&e<300,Xu=(e,t)=>{let r=[],n=m=>{r.includes(m)||(r=[...r,m]);};t.some(({code:m})=>Za(m))||n("success");let o=(e.description??"").toLocaleLowerCase(),a=e.$refs.join("|").toLocaleLowerCase(),i=["error","problem"];return ["success"].some(m=>o.includes(m)||a.includes(m))&&n("success"),i.some(m=>o.includes(m)||a.includes(m))&&n("error"),r.length||n("error"),r},$n=({config:e,operationKey:t})=>{let r=e.plugins["@hey-api/sdk"]?.filter?new RegExp(e.plugins["@hey-api/sdk"]?.filter):void 0;return !r||r.test(t)},Dn=({config:e,method:t,operationId:r,path:n})=>{if(e.plugins["@hey-api/sdk"]?.operationId&&r)return E({case:"camelCase",value:Fe(r)});let s=n;return D(e)&&(s=s.replace(/[^/]*?{api-version}.*?\//g,"")),s=s.replace(/{(.*?)}/g,"by-$1").replace(/[/:+]/g,"-"),E({case:"camelCase",value:`${t}-${s}`})},Mn=e=>{let t=S();return !D(t)||e.prop!=="api-version"},Fn=e=>{let t=S();return D(t)?Bs(e.prop):e.prop},Bn=e=>e.map(t=>{let{code:r}=t;return r==="default"?t.responseTypes=Xu(t,e):Za(r)?t.responseTypes=["success"]:Qu(r)&&(t.responseTypes=["error"]),t});var K=(e,t)=>{if(e.default===void 0||e.default===null)return e.default;switch(yr(e).find(s=>s!=="null")||typeof e.default){case "int":case "integer":case "number":if(t?.export==="enum"&&t.enum?.[e.default]){let{value:s}=t.enum[e.default];return s}return e.default;case "array":case "boolean":case "object":case "string":return e.default;default:return}};var Ya=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:t.in,isDefinition:false,isNullable:t["x-nullable"]===true,isReadOnly:false,isRequired:t.required===true,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maximum:t.maximum,mediaType:null,minItems:t.minItems,minLength:t.minLength,minimum:t.minimum,multipleOf:t.multipleOf,pattern:Y(t.pattern),prop:t.name,properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems},s={...n,name:Fn(n)};if(t.$ref){let a=v({type:t.$ref});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,export:"reference",imports:[...s.imports,...a.imports],template:a.template,type:a.type},s.default=K(t,s),s}if(t.enum){let a=gr(t,t.enum);if(a.length)return s={...s,base:"string",enum:[...s.enum,...a],export:"enum",type:"string"},s.default=K(t,s),s}if(t.type==="array"&&t.items){let a=v({format:t.items.format,type:t.items.type});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,export:"array",imports:[...s.imports,...a.imports],template:a.template,type:a.type},s.default=K(t,s),s}if(t.type==="object"&&t.items){let a=v({format:t.items.format,type:t.items.type});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,export:"dictionary",imports:[...s.imports,...a.imports],template:a.template,type:a.type},s.default=K(t,s),s}let o=t.schema;if(o){if(o.$ref?.startsWith("#/parameters/")&&(o=V(e,o)),o.$ref){let i=v({type:o.$ref});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,export:"reference",imports:[...s.imports,...i.imports],template:i.template,type:i.type},s.default=K(t,s),s}let a=tt({definition:o,openApi:e,types:r});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,enum:[...s.enum,...a.enum],enums:[...s.enums,...a.enums],export:a.export,imports:[...s.imports,...a.imports],link:a.link,properties:[...s.properties,...a.properties],template:a.template,type:a.type},s.default=K(t,s),s}if(t.type){let a=v({format:t.format,type:t.type});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,export:"generic",imports:[...s.imports,...a.imports],template:a.template,type:a.type},s.default=K(t,s),s}return s};var Gu=["body","formData","header","path","query"],_n=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(s=>{let o=V(e,s),a=Ya({openApi:e,parameter:o,types:r}),i=!Mn(a);if(!(!Gu.includes(o.in)||i)){switch(o.in){case "body":n.parametersBody=a;break;case "formData":n.parametersForm=[...n.parametersForm,a];break;case "header":n.parametersHeader=[...n.parametersHeader,a];break;case "path":n.parametersPath=[...n.parametersPath,a];break;case "query":n.parametersQuery=[...n.parametersQuery,a];break}n.$refs=[...n.$refs,...a.$refs],n.imports=[...n.imports,...a.imports],n.parameters=[...n.parameters,a];}}),n};function Ln(e){return e.sort((t,r)=>{let n=t.isRequired&&t.default===void 0,s=r.isRequired&&r.default===void 0;return n&&!s?-1:s&&!n?1:0})}var ep=({code:e,openApi:t,response:r,types:n})=>{let s={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"},o=r.schema;if(o){if(o.$ref?.startsWith("#/responses/")&&(o=V(t,o)),o.$ref){let i=v({type:o.$ref});return s.export="reference",s.type=i.type,s.base=i.base,s.template=i.template,s.imports=[...s.imports,...i.imports],s}let a=tt({definition:o,openApi:t,types:n});return s.export=a.export,s.type=a.type,s.base=a.base,s.template=a.template,s.link=a.link,s.isReadOnly=a.isReadOnly,s.isRequired=a.isRequired,s.isNullable=a.isNullable,s.format=a.format,s.maximum=a.maximum,s.exclusiveMaximum=a.exclusiveMaximum,s.minimum=a.minimum,s.exclusiveMinimum=a.exclusiveMinimum,s.multipleOf=a.multipleOf,s.maxLength=a.maxLength,s.minLength=a.minLength,s.maxItems=a.maxItems,s.minItems=a.minItems,s.uniqueItems=a.uniqueItems,s.maxProperties=a.maxProperties,s.minProperties=a.minProperties,s.pattern=Y(a.pattern),s.imports=[...s.imports,...a.imports],s.enum=[...s.enum,...a.enum],s.enums=[...s.enums,...a.enums],s.properties=[...s.properties,...a.properties],s}if(r.headers)for(let a in r.headers)return s.in="header",s.name=a,s.type="string",s.base="string",s;return s};var tp=({openApi:e,responses:t,types:r})=>{let n=[];return Object.entries(t).forEach(([s,o])=>{let a=qn(s);if(!a)return;let i=V(e,o),c=ep({code:a,openApi:e,response:i,types:r});n=[...n,c];}),n=Bn(n),n.sort(wn)};var rp=({method:e,op:t,openApi:r,pathParams:n,types:s,url:o})=>{let a={$refs:[],deprecated:t.deprecated===true,description:t.description||null,id:t.operationId||null,imports:[],method:e.toUpperCase(),parameters:[...n.parameters],parametersBody:n.parametersBody,parametersCookie:[...n.parametersCookie],parametersForm:[...n.parametersForm],parametersHeader:[...n.parametersHeader],parametersPath:[...n.parametersPath],parametersQuery:[...n.parametersQuery],path:o,responseHeader:null,responses:[],summary:t.summary||null,tags:t.tags||null},i={...a,name:Dn({config:S(),method:a.method,operationId:t.operationId,path:a.path})};if(t.parameters){let c=_n({openApi:r,parameters:t.parameters,types:s});i.$refs=[...i.$refs,...c.$refs],i.imports=[...i.imports,...c.imports],i.parameters=[...i.parameters,...c.parameters],i.parametersBody=c.parametersBody,i.parametersCookie=[...i.parametersCookie,...c.parametersCookie],i.parametersForm=[...i.parametersForm,...c.parametersForm],i.parametersHeader=[...i.parametersHeader,...c.parametersHeader],i.parametersPath=[...i.parametersPath,...c.parametersPath],i.parametersQuery=[...i.parametersQuery,...c.parametersQuery];}if(t.responses){i.responses=tp({openApi:r,responses:t.responses,types:s});let c=i.responses.filter(m=>m.responseTypes.includes("success"));i.responseHeader=Nn(c),c.forEach(m=>{i.$refs=[...i.$refs,...m.$refs],i.imports=[...i.imports,...m.imports];});}return i.parameters=Ln(i.parameters),i};var np=({openApi:e,types:t})=>{let r=new Map,n=[],s=S();for(let o in e.paths){let a=e.paths[o],i=_n({openApi:e,parameters:a.parameters??[],types:t});for(let c in a){let m=c,l=q({method:m,path:o});if(Tn.includes(m)){let f=a[m];if(f.operationId&&(r.has(f.operationId)?s.logs.level!=="silent"&&console.warn(`\u2757\uFE0F Duplicate operationId: ${f.operationId} in ${l}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(f.operationId,l)),$n({config:s,operationKey:l})){let u=rp({method:m,op:f,openApi:e,pathParams:i,types:t,url:o});n.push(u);}}}}return n};var sp=e=>{let t=e.schemes?.[0]||"http",r=e.host,n=e.basePath||"";return (r?`${t}://${r}${n}`:n).replace(/\/$/g,"")};var op=e=>{let t=In(e.info.version),r=sp(e),{models:n,types:s}=za(e),o=np({openApi:e,types:s});return {models:n,operations:o,server:r,types:s,version:t}};var Ju=e=>{let t={};for(let r in e)t[e[r]]=r;return t},ip=(e,t)=>{if(e.components&&t){for(let r in e.components.schemas)if(e.components.schemas.hasOwnProperty(r)){let n=e.components.schemas[r];if(n.discriminator&&n.oneOf?.length&&n.oneOf.some(s=>s.$ref&&$r(s.$ref)==t.name))return n.discriminator}}},ap=(e,t)=>{if(e.mapping){let r=Ju(e.mapping),n=Object.keys(r).find(s=>$r(s)==t.name);if(n&&r[n])return r[n]}return t.name};var _s=({debug:e,definition:t,getModel:r,model:n,openApi:s,types:o})=>{let a=typeof t.additionalProperties=="object"?t.additionalProperties:{},i=r({debug:e,definition:a,openApi:s,parentDefinition:t,types:o});if(a.$ref){let c=v({type:a.$ref});return n.base=c.base,n.default=K(t,n),n.export="dictionary",n.imports.push(...c.imports),n.template=c.template,n.type=c.type,n}if(t.additionalProperties&&t.properties&&Object.keys(t.properties).length>0){let c=typeof t.additionalProperties=="object"&&t.additionalProperties.type&&!Array.isArray(t.additionalProperties.type)?t.additionalProperties.type:i.base,m=[v({type:c}).base,...n.properties.map(l=>l.base)];return i.base=m.filter(le).join(" | "),i.default=K(t,n),i.export="generic",i.isRequired=t.additionalProperties===true,i.name="[key: string]",i}return n.base=i.base,n.default=K(t,n),n.export="dictionary",n.imports.push(...i.imports),n.link=i,n.template=i.template,n.type=i.type,n},Hn=({debug:e,definition:t,getModel:r,openApi:n,parent:s,types:o})=>{let a=[],i=ip(n,s);return Object.entries(t.properties??{}).forEach(([c,m])=>{let l=!!t.required?.includes(c),f={default:m.default,deprecated:m.deprecated===true,description:m.description||null,exclusiveMaximum:m.exclusiveMaximum,exclusiveMinimum:m.exclusiveMinimum,format:m.type==="array"?m.items?.format??m.format:m.format,in:"",isDefinition:false,isReadOnly:m.readOnly===true,isRequired:l,maxItems:m.maxItems,maxLength:m.maxLength,maxProperties:m.maxProperties,maximum:m.maximum,minItems:m.minItems,minLength:m.minLength,minProperties:m.minProperties,minimum:m.minimum,multipleOf:m.multipleOf,name:Te(c),pattern:Y(m.pattern),uniqueItems:m.uniqueItems};if(s&&i?.propertyName==c){a=[...a,{...f,$refs:[],base:`'${ap(i,s)}'`,enum:[],enums:[],export:"reference",imports:[],isNullable:kt(m),link:null,properties:[],template:null,type:"string"}];return}if(m.$ref){let d=v({type:m.$ref});a=[...a,{...f,$refs:d.$refs,base:d.base,enum:[],enums:[],export:"reference",imports:d.imports,isNullable:d.isNullable||kt(m),link:null,properties:[],template:d.template,type:d.type}];return}let u=r({debug:e,definition:m,initialValues:f,openApi:n,parentDefinition:t,types:o});u.isNullable=u.isNullable||kt(m),a=[...a,u];}),a};var pp=({debug:e,definitions:t,getModel:r,openApi:n,required:s,types:o})=>t.reduce((i,c)=>{if(c.$ref){let m=v({type:c.$ref}),l={$ref:c.$ref,name:m.base};o[m.base]=l;let f=V(n,c);return [...i,...r({debug:e,definition:f,meta:l,openApi:n,types:o}).properties]}return [...i,...r({debug:e,definition:c,openApi:n,parentDefinition:c,types:o}).properties]},[]).filter(i=>!i.isRequired&&s.includes(i.name)).map(i=>({...i,isRequired:true}));var Vn=e=>[{definitions:e.allOf,type:"all-of"},{definitions:e.anyOf,type:"any-of"},{definitions:e.oneOf,type:"one-of"}].find(r=>r.definitions?.length),cp=({debug:e,definition:t,definitions:r,getModel:n,model:s,openApi:o,type:a,types:i})=>{let c={$refs:s.$refs,enums:s.enums,export:a,imports:s.imports,properties:s.properties},m=[];if(r.map(l=>n({debug:e,definition:l,openApi:o,parentDefinition:t,types:i})).forEach(l=>{c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports],c.enums=[...c.enums,...l.enums],c.properties=[...c.properties,l];}),t.required&&a==="all-of"){let l=pp({debug:e,definitions:r,getModel:n,openApi:o,required:t.required,types:i});l.forEach(f=>{c.$refs=[...c.$refs,...f.$refs],c.imports=[...c.imports,...f.imports],c.enums=[...c.enums,...f.enums];}),m=[...m,...l];}if(t.properties){let l=Hn({definition:t,getModel:n,openApi:o,types:i});l.forEach(f=>{c.$refs=[...c.$refs,...f.$refs],c.imports=[...c.imports,...f.imports],c.enums=[...c.enums,...f.enums],f.export==="enum"&&(c.enums=[...c.enums,f]);}),m=[...m,...l];}if(m.length){let l=Vn(t);if(l){let f={$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:m,template:null,type:"unknown"};l.type==="one-of"?(c.properties=[{...c,base:"",description:null,enum:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:true,link:null,name:"",template:null,type:""},f],c.export="all-of"):c.properties=[...c.properties,f];}}return c};var pe=({debug:e,definition:t,initialValues:r={},isDefinition:n=false,meta:s,openApi:o,parentDefinition:a=null,types:i})=>{let c=yr(t),m=Ha(t,c),l={$refs:[],base:"unknown",deprecated:!!t.deprecated,description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:"",isDefinition:n,isNullable:kt(t),isReadOnly:t.readOnly===true,isRequired:false,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maxProperties:t.maxProperties,maximum:t.maximum,meta:s,minItems:t.minItems,minLength:t.minLength,minProperties:t.minProperties,minimum:t.minimum,multipleOf:t.multipleOf,name:s?.name??"",pattern:Y(t.pattern),properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems,...r};if(t.$ref){let u=v({debug:e,type:t.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.$ref)],l.base=u.base,l.export="reference",l.imports=[...l.imports,...u.imports],l.template=u.template,l.type=u.type,l.default=K(t,l),l}if(m==="enum"){let u=gr(t,t.enum);if(u.length)return l.base="string",l.enum=[...l.enum,...u],l.export="enum",l.type="string",l.default=K(t,l),l.meta||(l.meta=jn(l)),l}if(c.includes("array")&&(t.items||t.prefixItems)){if(t.prefixItems){let y=t.prefixItems.map(g=>pe({definition:g,openApi:o,parentDefinition:t,types:i}));return l.export="array",l.$refs=[...l.$refs,...y.reduce((g,R)=>[...g,...R.$refs],[])],l.imports=[...l.imports,...y.reduce((g,R)=>[...g,...R.imports],[])],l.link=y,l.default=K(t,l),l}if(!t.items)return l;if(t.items.$ref){let y=v({type:t.items.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.items.$ref)],l.base=y.base,l.export="array",l.imports=[...l.imports,...y.imports],l.template=y.template,l.type=y.type,l.default=K(t,l),l}if(t.items.anyOf&&a&&a.type){let y=Vn(a);if(y&&y.definitions.some(g=>!yr(g).includes("array")))return pe({definition:t.items,openApi:o,parentDefinition:t,types:i})}let u=Array.isArray(t.items)?{anyOf:t.items}:t.items,d=pe({definition:u,openApi:o,parentDefinition:t,types:i});return l.base=d.base,l.export="array",l.$refs=[...l.$refs,...d.$refs],l.imports=[...l.imports,...d.imports],l.link=d,l.template=d.template,l.type=d.type,l.default=K(t,l),l}let f=Vn(t);if(f){let u=cp({...f,debug:e,definition:t,getModel:pe,model:l,openApi:o,types:i});return {...l,...u}}if(c.includes("object")||t.properties||t.additionalProperties){if(t.properties&&(Object.keys(t.properties).length>0||!t.additionalProperties)){if(l.base="unknown",l.export="interface",l.type="unknown",l.default=K(t,l),Hn({debug:e,definition:t,getModel:pe,openApi:o,parent:l,types:i}).forEach(y=>{l.$refs=[...l.$refs,...y.$refs],l.enums=[...l.enums,...y.enums],l.imports=[...l.imports,...y.imports],l.properties=[...l.properties,y],y.export==="enum"&&(l.enums=[...l.enums,y]);}),t.additionalProperties){let y=_s({debug:e,definition:t,getModel:pe,model:l,openApi:o,types:i});l.properties=[...l.properties,y];}return !l.properties.length&&l.base==="unknown"&&l.type==="unknown"&&(l.export="dictionary",l.name||(l.name="[key: string]")),l}return _s({debug:e,definition:t,getModel:pe,model:l,openApi:o,types:i})}if(t.const!==void 0){let u=t.const,d=typeof u=="string"?`"${u}"`:`${u}`;return l.base=d,l.export="const",l.type=d,l}if(c.length){let u=v({format:t.format,type:t.type});return l.base=u.base,l.export="generic",l.$refs=[...l.$refs,...u.$refs],l.imports=[...l.imports,...u.imports],l.isNullable=u.isNullable||l.isNullable,l.template=u.template,l.type=u.type,l.default=K(t,l),l}return l};var Kn=e=>{if(e.schema)return e.schema;if(e.content){let t=Object.entries(e.content);for(let[r,n]of t)if(n.schema){let s=r;return e.content[s].schema}}};var mp=e=>{let t={},r=[];return e.components?(Object.entries(e.components.schemas??{}).forEach(([n,s])=>{let o=kn(n);t[o.name]=o;let a=pe({definition:s,isDefinition:true,meta:o,openApi:e,types:t});r=[...r,a];}),Object.entries(e.components.parameters??{}).forEach(([n,s])=>{let o=Kn(s);if(!o)return;let a=Xa(n);t[a.name]=a;let i=pe({definition:o,isDefinition:true,meta:a,openApi:e,types:t});i.deprecated=s.deprecated,i.description=s.description||null,r=[...r,i];}),{models:r,types:t}):{models:r,types:t}};var lp=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",deprecated:t.deprecated===true,description:t.description||null,enum:[],enums:[],export:"interface",imports:[],in:t.in,isDefinition:false,isNullable:kt(t),isReadOnly:false,isRequired:t.required===true,link:null,mediaType:null,prop:t.name,properties:[],template:null,type:"unknown"},s={...n,name:Fn(n)};if(t.$ref){let a=v({type:t.$ref});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,export:"reference",imports:[...s.imports,...a.imports],template:a.template,type:a.type},s}let o=Kn(t);if(o){if(o.$ref?.startsWith(dr)&&(o=V(e,o)),o.$ref){let i=v({type:o.$ref});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,export:"reference",imports:[...s.imports,...i.imports],template:i.template,type:i.type},s.default=K(o),s}let a=pe({definition:o,openApi:e,types:r});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,enum:[...s.enum,...a.enum],enums:[...s.enums,...a.enums],exclusiveMaximum:a.exclusiveMaximum,exclusiveMinimum:a.exclusiveMinimum,export:a.export,format:a.format,imports:[...s.imports,...a.imports],isNullable:s.isNullable||a.isNullable,isReadOnly:a.isReadOnly,isRequired:s.isRequired||a.isRequired,link:a.link,maxItems:a.maxItems,maxLength:a.maxLength,maxProperties:a.maxProperties,maximum:a.maximum,minItems:a.minItems,minLength:a.minLength,minProperties:a.minProperties,minimum:a.minimum,multipleOf:a.multipleOf,pattern:Y(a.pattern),properties:[...s.properties,...a.properties],template:a.template,type:a.type,uniqueItems:a.uniqueItems},(s.enum.length||s.enums.length)&&!s.meta&&(s.meta=jn(s)),s.default=a.default,s}return s};var Zu=["cookie","formData","header","path","query"],Wn=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(s=>{let o=V(e,s),a=lp({openApi:e,parameter:o,types:r}),i=!Mn(a);if(!(!Zu.includes(o.in)||i)){switch(o.in){case "cookie":n.parametersCookie=[...n.parametersCookie,a];break;case "formData":n.parametersForm=[...n.parametersForm,a];break;case "header":n.parametersHeader=[...n.parametersHeader,a];break;case "path":n.parametersPath=[...n.parametersPath,a];break;case "query":n.parametersQuery=[...n.parametersQuery,a];break}n.$refs=[...n.$refs,...a.$refs],n.imports=[...n.imports,...a.imports],n.parameters=[...n.parameters,a];}}),n};var Yu=["application/json-patch+json","application/json","application/ld+json","application/x-www-form-urlencoded","multipart/batch","multipart/form-data","multipart/mixed","multipart/related","text/json","text/plain"],Un=(e,t)=>{let r=Object.keys(t).filter(s=>{let o=s.split(";")[0].trim();return Yu.includes(o)}).find(s=>!!t[s]?.schema);if(r)return {mediaType:r,schema:t[r].schema};let n=Object.keys(t).find(s=>!!t[s]?.schema);if(n)return {mediaType:n,schema:t[n].schema}};var fp=({body:e,debug:t,openApi:r,types:n})=>{let s=e["x-body-name"]??"requestBody",o={$refs:[],base:"unknown",default:void 0,description:e.description||null,enum:[],enums:[],export:"interface",imports:[],in:"body",isDefinition:false,isNullable:e.nullable===true,isReadOnly:false,isRequired:e.required===true,link:null,mediaType:null,name:s,prop:s,properties:[],template:null,type:"unknown"};if(!e.content)return o;let a=Un(r,e.content);if(!a)return o;switch(o.mediaType=a.mediaType,o.mediaType){case "application/x-www-form-urlencoded":case "multipart/form-data":o.in="formData",o.name="formData",o.prop="formData";break}if(a.schema.$ref){let c=v({type:a.schema.$ref});return o.export="reference",o.type=c.type,o.base=c.base,o.template=c.template,o.$refs=[...o.$refs,...c.$refs],o.imports=[...o.imports,...c.imports],o}let i=pe({debug:t,definition:a.schema,openApi:r,types:n});return o.$refs=[...o.$refs,...i.$refs],o.base=i.base,o.enum=[...o.enum,...i.enum],o.enums=[...o.enums,...i.enums],o.exclusiveMaximum=i.exclusiveMaximum,o.exclusiveMinimum=i.exclusiveMinimum,o.export=i.export,o.format=i.format,o.imports=[...o.imports,...i.imports],o.isNullable=o.isNullable||i.isNullable,o.isReadOnly=i.isReadOnly,o.isRequired=o.isRequired||i.isRequired,o.link=i.link,o.maximum=i.maximum,o.maxItems=i.maxItems,o.maxLength=i.maxLength,o.maxProperties=i.maxProperties,o.minimum=i.minimum,o.minItems=i.minItems,o.minLength=i.minLength,o.minProperties=i.minProperties,o.multipleOf=i.multipleOf,o.pattern=Y(i.pattern),o.properties=[...o.properties,...i.properties],o.template=i.template,o.type=i.type,o.uniqueItems=i.uniqueItems,o};var up=({code:e,openApi:t,response:r,types:n})=>{let s={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"};if(r.content){let o=Un(t,r.content);if(o){if(o.schema.$ref?.startsWith("#/components/responses/")&&(o.schema=V(t,o.schema)),o.schema.$ref){let i=v({type:o.schema.$ref});return s.base=i.base,s.export="reference",s.$refs=[...s.$refs,...i.$refs],s.imports=[...s.imports,...i.imports],s.template=i.template,s.type=i.type,s}let a=pe({definition:o.schema,openApi:t,types:n});return s.export=a.export,s.type=a.type,s.base=a.base,s.template=a.template,s.link=a.link,s.isReadOnly=a.isReadOnly,s.isRequired=a.isRequired,s.isNullable=a.isNullable,s.format=a.format,s.maximum=a.maximum,s.exclusiveMaximum=a.exclusiveMaximum,s.minimum=a.minimum,s.exclusiveMinimum=a.exclusiveMinimum,s.multipleOf=a.multipleOf,s.maxLength=a.maxLength,s.minLength=a.minLength,s.maxItems=a.maxItems,s.minItems=a.minItems,s.uniqueItems=a.uniqueItems,s.maxProperties=a.maxProperties,s.minProperties=a.minProperties,s.pattern=Y(a.pattern),s.$refs=[...s.$refs,...a.$refs],s.imports=[...s.imports,...a.imports],s.enum=[...s.enum,...a.enum],s.enums=[...s.enums,...a.enums],s.properties=[...s.properties,...a.properties],s}}if(r.headers)for(let o in r.headers)return s.in="header",s.name=o,s.type="string",s.base="string",s;return s};var dp=({debug:e,openApi:t,responses:r,types:n})=>{let s=[];return Object.entries(r).forEach(([o,a])=>{let i=qn(o);if(!i)return;let c=V(t,a),m=up({code:i,openApi:t,response:c,types:n});s=[...s,m];}),s=Bn(s),s.sort(wn)};var hr=(e,t)=>{let r=[...e],n=[...t];for(;n.length>0;){let s=n[0];n=n.slice(1),r.every(a=>a.in!==s.in||a.name!==s.name)&&(r=[...r,s]);}return r},yp=({debug:e,method:t,op:r,openApi:n,pathParams:s,types:o,url:a})=>{let i={$refs:[],deprecated:!!r.deprecated,description:r.description||null,id:r.operationId||null,imports:[],method:t.toUpperCase(),parameters:[],parametersBody:s.parametersBody,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[],path:a,responseHeader:null,responses:[],summary:r.summary||null,tags:r.tags||null},c={...i,name:Dn({config:S(),method:i.method,operationId:r.operationId,path:i.path})};if(r.parameters){let m=Wn({openApi:n,parameters:r.parameters,types:o});c.$refs=[...c.$refs,...m.$refs],c.imports=[...c.imports,...m.imports],c.parameters=[...c.parameters,...m.parameters],c.parametersBody=m.parametersBody,c.parametersCookie=[...c.parametersCookie,...m.parametersCookie],c.parametersForm=[...c.parametersForm,...m.parametersForm],c.parametersHeader=[...c.parametersHeader,...m.parametersHeader],c.parametersPath=[...c.parametersPath,...m.parametersPath],c.parametersQuery=[...c.parametersQuery,...m.parametersQuery];}if(r.requestBody){let m=V(n,r.requestBody),l=fp({body:m,debug:e,openApi:n,types:o});c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports],c.parameters=[...c.parameters,l],c.parametersBody=l;}if(r.responses){c.responses=dp({openApi:n,responses:r.responses,types:o});let m=c.responses.filter(l=>l.responseTypes.includes("success"));c.responseHeader=Nn(m),m.forEach(l=>{c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports];});}return c.parameters=hr(c.parameters,s.parameters),c.parametersCookie=hr(c.parametersCookie,s.parametersCookie),c.parametersForm=hr(c.parametersForm,s.parametersForm),c.parametersHeader=hr(c.parametersHeader,s.parametersHeader),c.parametersPath=hr(c.parametersPath,s.parametersPath),c.parametersQuery=hr(c.parametersQuery,s.parametersQuery),c.parameters=Ln(c.parameters),c};var gp=({openApi:e,types:t})=>{let r=new Map,n=[],s=S();for(let o in e.paths){let a=e.paths[o],i=Wn({openApi:e,parameters:a.parameters??[],types:t});for(let c in a){let m=c,l=q({method:m,path:o});if(Tn.includes(m)){let f=a[m];if(f.operationId&&(r.has(f.operationId)?s.logs.level!=="silent"&&console.warn(`\u2757\uFE0F Duplicate operationId: ${f.operationId} in ${l}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(f.operationId,l)),$n({config:s,operationKey:l})){let u=yp({method:m,op:f,openApi:e,pathParams:i,types:t,url:o});n.push(u);}}}}return n};var hp=e=>{let t=e.servers?.[0],r=t?.variables||{},n=t?.url||"";return Object.entries(r).forEach(([s,o])=>{n=n.replace(`{${s}}`,o.default);}),n.replace(/\/$/g,"")};var xp=e=>{let t=In(e.info.version),r=hp(e),{models:n,types:s}=mp(e),o=gp({openApi:e,types:s});return {models:n,operations:o,server:r,types:s,version:t}};function bp({openApi:e}){let t=e;if("openapi"in t)return xp(t);if("swagger"in t)return op(t);throw new Error(`Unsupported OpenAPI specification: ${JSON.stringify(t,null,2)}`)}var Op=({config:e,spec:t})=>{let r=new hn({config:e,spec:t});if("swagger"in r.spec)return qs(r),r;switch(r.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":return ws(r),r;case "3.1.0":case "3.1.1":return $s(r),r;}throw new Error("Unsupported OpenAPI specification")};var Rp=({patchOptions:e,spec:t})=>{if(!e)return;let r=t;if("swagger"in r){if(r.definitions&&e?.schemas)for(let n in e.schemas){let s=e.schemas[n],o=r.definitions[n];o&&typeof o=="object"&&s(o);}return}if(r.components){if(r.components.parameters&&e.parameters)for(let n in e.parameters){let s=e.parameters[n],o=r.components.parameters[n];o&&typeof o=="object"&&s(o);}if(r.components.requestBodies&&e.requestBodies)for(let n in e.requestBodies){let s=e.requestBodies[n],o=r.components.requestBodies[n];o&&typeof o=="object"&&s(o);}if(r.components.responses&&e.responses)for(let n in e.responses){let s=e.responses[n],o=r.components.responses[n];o&&typeof o=="object"&&s(o);}if(r.components.schemas&&e?.schemas)for(let n in e.schemas){let s=e.schemas[n],o=r.components.schemas[n];o&&typeof o=="object"&&s(o);}}};var Gs=Al(cc()),Pd={biome:{args:e=>["format","--write",e],command:"biome",name:"Biome (Format)"},prettier:{args:e=>["--ignore-unknown",e,"--write","--ignore-path","./.prettierignore"],command:"prettier",name:"Prettier"}},Ad={biome:{args:e=>["lint","--apply",e],command:"biome",name:"Biome (Lint)"},eslint:{args:e=>[e,"--fix"],command:"eslint",name:"ESLint"},oxlint:{args:e=>["--fix",e],command:"oxlint",name:"oxlint"}},mc=({config:e})=>{if(e.output.format){let t=Pd[e.output.format];console.log(`\u2728 Running ${t.name}`),(0, Gs.sync)(t.command,t.args(e.output.path));}if(e.output.lint){let t=Ad[e.output.lint];console.log(`\u2728 Running ${t.name}`),(0, Gs.sync)(t.command,t.args(e.output.path));}};var lc=e=>`${e}-end`,Js=e=>`${e}-length`,fc=e=>`${e}-start`,G={clear:()=>{performance.clearMarks(),performance.clearMeasures();},end:e=>performance.mark(lc(e)),getEntriesByName:e=>performance.getEntriesByName(Js(e)),measure:e=>performance.measure(Js(e),fc(e),lc(e)),start:e=>performance.mark(fc(e))},Qn=class{totalMeasure;constructor({totalMark:t}){this.totalMeasure=G.measure(t);}report({marks:t}){let r=Math.ceil(this.totalMeasure.duration*100)/100,n=this.totalMeasure.name;console.warn(`${n.substring(0,n.length-Js("").length)}: ${r.toFixed(2)}ms`),t.forEach(s=>{try{let o=G.measure(s),a=Math.ceil(o.duration*100)/100,i=Math.ceil(o.duration/this.totalMeasure.duration*100*100)/100;console.warn(`${s}: ${a.toFixed(2)}ms (${i.toFixed(2)}%)`);}catch{}});}};function uc(e,t){return {...e,config:t,models:e.models.map(r=>Ed(r)),services:vd(e.operations).map(jd),types:{}}}var Ed=e=>({...e,$refs:e.$refs.filter((t,r,n)=>le(t,r,n)),enum:e.enum.filter((t,r,n)=>n.findIndex(s=>s.value===t.value)===r),enums:e.enums.filter((t,r,n)=>n.findIndex(s=>s.name===t.name)===r),imports:e.imports.filter((t,r,n)=>le(t,r,n)&&t!==e.name).sort(Xt)}),vd=e=>{let t=S(),r=new Map;return e.forEach(n=>{(n.tags?.length&&(t.plugins["@hey-api/sdk"]?.asClass||W(t))?n.tags.filter(le):["Default"]).forEach(o=>{let a={...n,service:qd(o)},i=r.get(a.service)||Nd(a);i.$refs=[...i.$refs,...a.$refs],i.imports=[...i.imports,...a.imports],i.operations=[...i.operations,a],r.set(a.service,i);});}),Array.from(r.values())},jd=e=>{let t={...e};return t.operations=kd(t),t.operations.forEach(r=>{t.imports.push(...r.imports);}),t.imports=t.imports.filter(le).sort(Xt),t},kd=e=>{let t=new Map;return e.operations.map(r=>{let n={...r};n.imports.push(...n.parameters.flatMap(i=>i.imports));let s=n.responses.filter(i=>i.responseTypes.includes("success"));n.imports.push(...s.flatMap(i=>i.imports));let o=n.name,a=t.get(o)||0;return a>0&&(n.name=`${o}${a}`),t.set(o,a+1),n})},Nd=e=>({$refs:[],imports:[],name:e.service,operations:[]}),qd=e=>E({case:"PascalCase",value:Fe(e)});var Zs=e=>e.startsWith("https://get.heyapi.dev"),$d=e=>{let t={path:""};if(e.path&&(typeof e.path!="string"||!Zs(e.path)))return t.path=e.path,t;let[r,n]=e.path.split("?"),o=(n||"").split("&").map(ee=>ee.split("=")),a=r||"";a.endsWith("/")&&(a=a.slice(0,a.length-1));let[,i]=a.split("://"),[c,m,l]=(i||"").split("/");t.organization=m||e.organization,t.project=l||e.project;let f=[],u="api_key";t.api_key=o.find(([ee])=>ee===u)?.[1]||e.api_key||process.env.HEY_API_TOKEN,t.api_key&&f.push(`${u}=${t.api_key}`);let d="branch";t.branch=o.find(([ee])=>ee===d)?.[1]||e.branch,t.branch&&f.push(`${d}=${t.branch}`);let y="commit_sha";t.commit_sha=o.find(([ee])=>ee===y)?.[1]||e.commit_sha,t.commit_sha&&f.push(`${y}=${t.commit_sha}`);let g="tags";t.tags=o.find(([ee])=>ee===g)?.[1]?.split(",")||e.tags,t.tags?.length&&f.push(`${g}=${t.tags.join(",")}`);let R="version";if(t.version=o.find(([ee])=>ee===R)?.[1]||e.version,t.version&&f.push(`${R}=${t.version}`),!t.organization)throw new Error("missing organization - from which Hey API platform organization do you want to generate your output?");if(!t.project)throw new Error("missing project - from which Hey API platform project do you want to generate your output?");let O=f.join("&"),j=c||"get.heyapi.dev",P=j.startsWith("localhost"),$=[P?"http":"https",j].join("://"),L=P?[$,"v1","get",t.organization,t.project].join("/"):[$,t.organization,t.project].join("/");return t.path=O?`${L}?${O}`:L,t},Dd=({config:e,inputPath:t,watch:r})=>{if(e.logs.level==="silent")return;r&&console.clear();let n=r?ke__default.default.magenta("Input changed, generating from"):ke__default.default.cyan("Generating from");if(typeof t.path=="string"){let s=Zs(t.path)?`${t.organization??""}/${t.project??""}`:t.path;console.log(`\u23F3 ${n} ${s}`),Zs(t.path)&&(t.branch&&console.log(`${ke__default.default.gray("branch:")} ${ke__default.default.green(t.branch)}`),t.commit_sha&&console.log(`${ke__default.default.gray("commit:")} ${ke__default.default.green(t.commit_sha)}`),t.tags?.length&&console.log(`${ke__default.default.gray("tags:")} ${ke__default.default.green(t.tags.join(", "))}`),t.version&&console.log(`${ke__default.default.gray("version:")} ${ke__default.default.green(t.version)}`));}else console.log(`\u23F3 ${n} raw OpenAPI specification`);},Ys=async({config:e,templates:t,watch:r})=>{let n=$d(e.input),{timeout:s}=e.input.watch,o=r||{headers:new Headers};Dd({config:e,inputPath:n,watch:!!r}),G.start("spec");let{data:a,error:i,response:c}=await ea({fetchOptions:e.input.fetch,inputPath:n.path,timeout:s,watch:o});if(G.end("spec"),i&&!r)throw new Error(`Request failed with status ${c.status}: ${c.statusText}`);let m,l;if(a){if(G.start("input.patch"),Rp({patchOptions:e.input.patch,spec:a}),G.end("input.patch"),G.start("parser"),e.experimentalParser&&!D(e)&&!W(e)&&(l=Op({config:e,spec:a})),!l){let f=bp({openApi:a});m=uc(f,e);}if(G.end("parser"),G.start("generator"),l?await Gi({context:l}):m&&await Qi({client:m,openApi:a,templates:t}),G.end("generator"),G.start("postprocess"),!e.dryRun&&(mc({config:e}),e.logs.level!=="silent")){let f=process.env.INIT_CWD?`./${X__default.default.relative(process.env.INIT_CWD,e.output.path)}`:e.output.path;console.log(`${ke__default.default.green("\u{1F680} Done!")} Your output is in ${ke__default.default.cyanBright(f)}`);}G.end("postprocess");}return e.input.watch.enabled&&typeof n.path=="string"&&setTimeout(()=>{Ys({config:e,templates:t,watch:o});},e.input.watch.interval),l||m};var Xn=e=>{let t={file:true,level:"info",path:process.cwd()};return typeof e?.logs=="string"?t.path=e.logs:t={...t,...e?.logs},t};var yt={_dependencies:["@hey-api/typescript"],_tags:["client"],baseUrl:true,bundle:true,exportFromIndex:false,output:"client"};var M=({case:e="PascalCase",config:t,id:r,parameterId:n,type:s})=>{let o="";switch(s){case "data":case "error":case "errors":case "parameter":case "response":case "responses":o=`${(s[0]??"").toLocaleUpperCase()}${s.slice(1)}`;break}let a=true;t.plugins["@hey-api/typescript"]?.identifierCase==="preserve"&&(a=false);let i=a?"-":"",c=[ir,E({case:e,value:r}),i,o];return n&&(c.push(i),c.push(E({case:e,value:n}))),c.join("")};var k="types";function Md(e,t){return {...e,get name(){return t?.(e),e.name}}}var Be=({context:e,file:t,operation:r,type:n})=>{let s=e.file({id:k}).identifier({$ref:M({config:e.config,id:r.id,type:n}),namespace:"type"});return Md(s,o=>{o.name&&t.import({asType:true,module:t.relativePathToFile({context:e,id:k}),name:o.name});})};var Fd=({context:e,plugin:t})=>{let{baseUrl:r}=t;if(r===false)return;if(typeof r=="string")return r;let{servers:n}=e.ir;if(n)return n[typeof r=="number"?r:0]?.url},dc=({context:e,plugin:t})=>{let r=e.file({id:He}),n=te({config:e.config,sourceOutput:r.nameWithoutExtension()}),s=r.import({module:n,name:"createClient"}),o=r.import({module:n,name:"createConfig"}),a=r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:"ClientOptions"}),i=t.runtimeConfigPath?r.import({module:r.relativePathToFile({context:e,id:t.runtimeConfigPath}),name:"createClientConfig"}):void 0,c=[],m=Fd({context:e,plugin:t});if(m){let u=Je(m);if(u.protocol&&u.host&&!m.includes("{"))c.push({key:he(e.config),value:m});else if(m!=="/"&&m.startsWith("/")){let d=m.endsWith("/")?m.slice(0,-1):m;c.push({key:he(e.config),value:d});}}"throwOnError"in t&&t.throwOnError&&c.push({key:"throwOnError",value:true});let l=[p.callExpression({functionName:o.name,parameters:c.length?[p.objectExpression({obj:c})]:void 0,types:[p.typeReferenceNode({typeName:a.name})]})],f=p.constVariable({exportConst:true,expression:p.callExpression({functionName:s.name,parameters:i?[p.callExpression({functionName:i.name,parameters:l})]:l}),name:"client"});r.add(f);};var yc=({context:e})=>{let t=e.file({id:He}),r=te({config:e.config,sourceOutput:t.nameWithoutExtension()}),n=t.import({asType:true,module:t.relativePathToFile({context:e,id:k}),name:"ClientOptions"}),s=t.import({asType:true,module:r,name:"Config"}),o=t.import({alias:"DefaultClientOptions",asType:true,module:r,name:"ClientOptions"}),a=p.typeReferenceNode({typeName:o.name}),i=p.typeReferenceNode({typeName:"T"}),c=p.typeAliasDeclaration({comment:["The `createClientConfig()` function will be called on client initialization","and the returned object will become the client's initial configuration.","","You may want to initialize your client this way instead of calling","`setConfig()`. This is useful for example if you're using Next.js","to ensure your client always has the correct values."],exportType:true,name:"CreateClientConfig",type:p.functionTypeNode({parameters:[p.parameterDeclaration({name:"override",required:false,type:p.typeReferenceNode({typeArguments:[p.typeIntersectionNode({types:[a,i]})],typeName:s.name})})],returnType:p.typeReferenceNode({typeArguments:[p.typeIntersectionNode({types:[p.typeReferenceNode({typeArguments:[a],typeName:"Required"}),i]})],typeName:s.name})}),typeParameters:[{default:p.typeReferenceNode({typeName:n.name}),extends:a,name:"T"}]});t.add(c);};var gt=({context:e,plugin:t})=>{e.createFile({exportFromIndex:t.exportFromIndex,id:He,path:t.output}),yc({context:e}),dc({context:e,plugin:t});};var eo={...yt,_handler:gt,_handlerLegacy:()=>{},name:"@hey-api/client-axios",throwOnError:false};var to={...yt,_handler:gt,_handlerLegacy:()=>{},name:"@hey-api/client-fetch",throwOnError:false};var ro={...yt,_handler:gt,_handlerLegacy:()=>{},name:"@hey-api/client-next",throwOnError:false};var no={...yt,_handler:gt,_handlerLegacy:()=>{},name:"@hey-api/client-nuxt"};var so={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/angular",output:"client"};var oo={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/axios",output:"client"};var io={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/fetch",output:"client"};var ao={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/node",output:"client"};var po={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/xhr",output:"client"};var Gn="schemas",co=({plugin:e,schema:t})=>{e.type==="form"&&(t.description&&delete t.description,t["x-enum-descriptions"]&&delete t["x-enum-descriptions"],t["x-enum-varnames"]&&delete t["x-enum-varnames"],t["x-enumNames"]&&delete t["x-enumNames"],t.title&&delete t.title);},Or=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(s=>Or({context:e,plugin:t,schema:s}));let n=structuredClone(r);if(n.$ref)return n.$ref=decodeURI(n.$ref),n;if(co({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=Or({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(s=>Or({context:e,plugin:t,schema:s}))),n.items&&(n.items=Or({context:e,plugin:t,schema:n.items})),n.properties)for(let s in n.properties){let o=n.properties[s];typeof o!="boolean"&&(n.properties[s]=Or({context:e,plugin:t,schema:o}));}return n},Nt=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(s=>Nt({context:e,plugin:t,schema:s}));let n=structuredClone(r);if("$ref"in n)return n.$ref=decodeURI(n.$ref),n;if(co({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=Nt({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(s=>Nt({context:e,plugin:t,schema:s}))),n.anyOf&&(n.anyOf=n.anyOf.map(s=>Nt({context:e,plugin:t,schema:s}))),n.items&&(n.items=Nt({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(s=>Nt({context:e,plugin:t,schema:s}))),n.properties)for(let s in n.properties){let o=n.properties[s];typeof o!="boolean"&&(n.properties[s]=Nt({context:e,plugin:t,schema:o}));}return n},ht=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(s=>ht({context:e,plugin:t,schema:s}));let n=structuredClone(r);if(co({plugin:t,schema:n}),n.$ref&&(n.$ref=decodeURI(n.$ref)),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=ht({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(s=>ht({context:e,plugin:t,schema:s}))),n.anyOf&&(n.anyOf=n.anyOf.map(s=>ht({context:e,plugin:t,schema:s}))),n.items&&(n.items=ht({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(s=>ht({context:e,plugin:t,schema:s}))),n.prefixItems&&(n.prefixItems=n.prefixItems.map(s=>ht({context:e,plugin:t,schema:s}))),n.properties)for(let s in n.properties){let o=n.properties[s];typeof o!="boolean"&&(n.properties[s]=ht({context:e,plugin:t,schema:o}));}return n},mo=({name:e,plugin:t,schema:r})=>{let n="";return t.nameBuilder&&(typeof t.nameBuilder=="function"?n=t.nameBuilder(e,r):n=t.nameBuilder.replace("{{name}}",e)),n||(n=`${e}Schema`),cn(n)},Bd=({context:e,plugin:t})=>{if(e.spec.definitions)for(let r in e.spec.definitions){let n=e.spec.definitions[r],s=Or({context:e,plugin:t,schema:n}),o=p.constVariable({assertion:"const",exportConst:true,expression:p.objectExpression({obj:s}),name:mo({name:r,plugin:t,schema:n})});e.file({id:Gn}).add(o);}},_d=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],s=Nt({context:e,plugin:t,schema:n}),o=p.constVariable({assertion:"const",exportConst:true,expression:p.objectExpression({obj:s}),name:mo({name:r,plugin:t,schema:n})});e.file({id:Gn}).add(o);}},Ld=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],s=ht({context:e,plugin:t,schema:n}),o=p.constVariable({assertion:"const",exportConst:true,expression:p.objectExpression({obj:s}),name:mo({name:r,plugin:t,schema:n})});e.file({id:Gn}).add(o);}},gc=({context:e,plugin:t})=>{if(e.createFile({exportFromIndex:t.exportFromIndex,id:Gn,path:t.output}),"swagger"in e.spec){Bd({context:e,plugin:t});return}switch(e.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":_d({context:e,plugin:t});break;case "3.1.0":case "3.1.1":Ld({context:e,plugin:t});break;default:throw new Error("Unsupported OpenAPI specification")}};var lo=(e,t)=>{let r=S();if(Array.isArray(e))return e.map(s=>lo(s));if(typeof e!="object"||e===null)return e;let n={...e};return Object.entries(n).forEach(([s,o])=>{if(r.plugins["@hey-api/schemas"]?.type==="form"&&["description","x-enum-descriptions","x-enum-varnames","x-enumNames","title"].includes(s)&&t!=="properties"){delete n[s];return}s==="$ref"&&typeof o=="string"&&(n[s]=decodeURIComponent(o)),o&&typeof o=="object"&&(n[s]=lo(o,s));}),n},Hd=(e,t)=>{let r=S(),n=Me(e),s=r.plugins["@hey-api/schemas"];return s?.nameBuilder?typeof s.nameBuilder=="function"?s.nameBuilder(n,t):s.nameBuilder.replace("{{name}}",n):`${n}Schema`},hc=({files:e,openApi:t,plugin:r})=>{let n=S();e.schemas=new de({dir:n.output.path,exportFromIndex:r.exportFromIndex,id:"schemas",name:"schemas.ts"});let s=(o,a)=>{let i=lo(a),c=p.objectExpression({obj:i}),m=p.constVariable({assertion:"const",exportConst:true,expression:c,name:Hd(o,a)});e.schemas.add(m);};"swagger"in t&&Object.entries(t.definitions??{}).forEach(([o,a])=>{s(o,a);}),"openapi"in t&&Object.entries(t.components?.schemas??{}).forEach(([o,a])=>{s(o,a);});};var fo={_handler:gc,_handlerLegacy:hc,exportFromIndex:false,name:"@hey-api/schemas",nameBuilder:e=>`${e}Schema`,output:"schemas",type:"json"};var xt=({operation:e})=>{let t=[];return e.summary&&t.push(H(e.summary)),e.description&&t.push(H(e.description)),e.deprecated&&t.push("@deprecated"),t.length?t:void 0},Ut=({context:e,operation:t})=>{let n=A(e.config).name==="@hey-api/client-nuxt",s=e.config.plugins["@hey-api/sdk"];return s&&!s.client&&!s.instance||n||bn(t)};var Rr="TComposable",nt="DefaultT",uo="ResT",ye="sdk";var Vd=({dataExpression:e})=>{let t=e!==void 0?p.callExpression({functionName:"BigInt",parameters:[p.callExpression({functionName:p.propertyAccessExpression({expression:e,name:"toString"})})]}):void 0;if(t){if(typeof e=="string")return [t];if(e)return [p.assignment({left:e,right:t})]}return []},Kd=({dataExpression:e})=>{let t=p.identifier({text:"Date"});return typeof e=="string"?[p.newExpression({argumentsArray:[p.identifier({text:e})],expression:t})]:e?[p.assignment({left:e,right:p.newExpression({argumentsArray:[e],expression:t})})]:[]},Jn=({id:e,type:t})=>{let r="";switch(t){case "data":r="DataResponseTransformer";break;case "error":r="ErrorResponseTransformer";break;case "response":r="ResponseTransformer";break}return `${ir}${E({case:"camelCase",value:e})}${r}`},Wd=({$ref:e,type:t})=>{let r="";switch(t){case "response":r="SchemaResponseTransformer";break}let n=e.split("/");return `${n.slice(0,n.length-1).join("/")}/${E({case:"camelCase",value:n[n.length-1]})}${r}`},xc=({$ref:e})=>Wd({$ref:e,type:"response"}),Br="transformers",Zn="data",Mr=e=>e.map(t=>b__default.default.isStatement(t)?t:p.expressionToStatement({expression:t})),Oc=({node:e})=>e.kind===b__default.default.SyntaxKind.ReturnStatement,Rc=({context:e,plugin:t,schema:r})=>{let n=p.identifier({text:Zn}),s=Fr({context:e,dataExpression:n,plugin:t,schema:r});return s.length&&!Oc({node:s[s.length-1]})&&s.push(p.returnStatement({expression:n})),s},Fr=({context:e,dataExpression:t,plugin:r,schema:n})=>{let s=e.file({id:Br});if(n.$ref){let o=s.identifier({$ref:xc({$ref:n.$ref}),create:true,namespace:"value"});if(o.created&&o.name){let a=e.resolveIrRef(n.$ref),i=Rc({context:e,plugin:r,schema:a});if(i.length){let c=p.constVariable({expression:p.arrowFunction({async:false,multiLine:true,parameters:[{name:Zn,type:p.keywordTypeNode({keyword:"any"})}],statements:Mr(i)}),name:o.name});s.add(c);}else o=s.blockIdentifier({$ref:xc({$ref:n.$ref}),namespace:"value"});}if(o.name){let a=p.callExpression({functionName:o.name,parameters:[t]});if(t)return typeof t=="string"&&t==="item"?[p.returnStatement({expression:a})]:[typeof t=="string"?a:p.assignment({left:t,right:a})]}return []}if(n.type==="array"){if(!t||typeof t=="string")return [];let o=n.items?Fr({context:e,dataExpression:"item",plugin:r,schema:n.items?.[0]?n.items[0]:{...n,type:void 0}}):[];if(!o.length)return [];let a=Mr(o);return a.some(c=>Oc({node:c}))||a.push(p.returnStatement({expression:p.identifier({text:"item"})})),[p.assignment({left:t,right:p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:"map"}),parameters:[p.arrowFunction({multiLine:true,parameters:[{name:"item",type:"any"}],statements:a})]})})]}if(n.type==="object"){let o=[],a=n.required??[];for(let i in n.properties){let c=n.properties[i],m=p.propertyAccessExpression({expression:t||Zn,name:i}),l=Fr({context:e,dataExpression:m,plugin:r,schema:c});if(!l.length)continue;let f=!c.items?.find(d=>d.type==="null");a.includes(i)&&f?o=o.concat(l):o.push(p.ifStatement({expression:m,thenStatement:p.block({statements:Mr(l)})}));}return o}if(r.dates&&n.type==="string"&&(n.format==="date"||n.format==="date-time"))return Kd({dataExpression:t});if(r.bigInt&&n.type==="integer"&&n.format==="int64")return Vd({dataExpression:t});if(n.items){if(n.items.length===1)return Fr({context:e,dataExpression:"item",plugin:r,schema:n.items[0]});let o=[];if(n.logicalOperator==="and"||n.items.length===2&&n.items.find(a=>a.type==="null"||a.type==="void")){for(let a of n.items){let i=Fr({context:e,dataExpression:t||"item",plugin:r,schema:a});if(i.length)if(t)o=o.concat(i);else {let c=p.identifier({text:"item"});o.push(p.ifStatement({expression:c,thenStatement:p.block({statements:Mr(i)})}),p.returnStatement({expression:c}));}}return o}n.type!=="enum"&&((n.items??[]).every(a=>["boolean","integer","null","number","string"].includes(a.type))||console.warn(`\u2757\uFE0F Transformers warning: schema ${JSON.stringify(n)} is too complex and won't be currently processed. This will likely produce an incomplete transformer which is not what you want. Please open an issue if you'd like this improved https://github.com/hey-api/openapi-ts/issues`));}return []},Sc=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:Br,path:t.output});e.subscribe("operation",({operation:n})=>{let{response:s}=Qe(n);if(!s)return;if(s.items&&s.items.length>1){e.config.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${q(n)} has ${s.items.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);return}let o=e.file({id:k}).identifier({$ref:M({config:e.config,id:n.id,type:"response"}),namespace:"type"});if(!o.name)return;let a=r.identifier({$ref:Jn({id:n.id,type:"response"}),create:true,namespace:"value"});if(!a.name)return;let i=Rc({context:e,plugin:t,schema:s});if(i.length){r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:o.name});let c=p.constVariable({exportConst:true,expression:p.arrowFunction({async:true,multiLine:true,parameters:[{name:Zn,type:p.keywordTypeNode({keyword:"any"})}],returnType:p.typeReferenceNode({typeArguments:[p.typeReferenceNode({typeName:o.name})],typeName:"Promise"}),statements:Mr(i)}),name:a.name});r.add(c);}else a=r.blockIdentifier({$ref:Jn({id:n.id,type:"response"}),namespace:"value"});});};var Ud=({securitySchemeObject:e})=>{if(e.type==="openIdConnect")return {scheme:"bearer",type:"http"};if(e.type==="oauth2")return e.flows.password||e.flows.authorizationCode||e.flows.clientCredentials||e.flows.implicit?{scheme:"bearer",type:"http"}:void 0;if(e.type==="apiKey")return e.in==="header"?{name:e.name,type:"apiKey"}:e.in==="query"||e.in=="cookie"?{in:e.in,name:e.name,type:"apiKey"}:void 0;if(e.type==="http"){let t=e.scheme.toLowerCase();return t==="bearer"||t==="basic"?{scheme:t,type:"http"}:void 0}},Cc=({operation:e,plugin:t})=>{if(!e.security||!t.auth)return [];let r=[];for(let n of e.security){let s=Ud({securitySchemeObject:n});s?r.push(s):console.warn(`\u2757\uFE0F SDK warning: unsupported security scheme. Please open an issue if you'd like it added https://github.com/hey-api/openapi-ts/issues
${JSON.stringify(n,null,2)}`);}return r};var h={actions:{args:p.identifier({text:"args"}),base64:p.identifier({text:"base64"}),bic:p.identifier({text:"bic"}),brand:p.identifier({text:"brand"}),bytes:p.identifier({text:"bytes"}),check:p.identifier({text:"check"}),checkItems:p.identifier({text:"checkItems"}),creditCard:p.identifier({text:"creditCard"}),cuid2:p.identifier({text:"cuid2"}),decimal:p.identifier({text:"decimal"}),description:p.identifier({text:"description"}),digits:p.identifier({text:"digits"}),email:p.identifier({text:"email"}),emoji:p.identifier({text:"emoji"}),empty:p.identifier({text:"empty"}),endsWith:p.identifier({text:"endsWith"}),entries:p.identifier({text:"entries"}),everyItem:p.identifier({text:"everyItem"}),excludes:p.identifier({text:"excludes"}),filterItems:p.identifier({text:"filterItems"}),findItem:p.identifier({text:"findItem"}),finite:p.identifier({text:"finite"}),flavor:p.identifier({text:"flavor"}),graphemes:p.identifier({text:"graphemes"}),gtValue:p.identifier({text:"gtValue"}),hash:p.identifier({text:"hash"}),hexColor:p.identifier({text:"hexColor"}),hexadecimal:p.identifier({text:"hexadecimal"}),imei:p.identifier({text:"imei"}),includes:p.identifier({text:"includes"}),integer:p.identifier({text:"integer"}),ip:p.identifier({text:"ip"}),ipv4:p.identifier({text:"ipv4"}),ipv6:p.identifier({text:"ipv6"}),isoDate:p.identifier({text:"isoDate"}),isoDateTime:p.identifier({text:"isoDateTime"}),isoTime:p.identifier({text:"isoTime"}),isoTimeSecond:p.identifier({text:"isoTimeSecond"}),isoTimestamp:p.identifier({text:"isoTimestamp"}),isoWeek:p.identifier({text:"isoWeek"}),length:p.identifier({text:"length"}),ltValue:p.identifier({text:"ltValue"}),mac:p.identifier({text:"mac"}),mac48:p.identifier({text:"mac48"}),mac64:p.identifier({text:"mac64"}),mapItems:p.identifier({text:"mapItems"}),maxBytes:p.identifier({text:"maxBytes"}),maxEntries:p.identifier({text:"maxEntries"}),maxGraphemes:p.identifier({text:"maxGraphemes"}),maxLength:p.identifier({text:"maxLength"}),maxSize:p.identifier({text:"maxSize"}),maxValue:p.identifier({text:"maxValue"}),maxWords:p.identifier({text:"maxWords"}),metadata:p.identifier({text:"metadata"}),mimeType:p.identifier({text:"mimeType"}),minBytes:p.identifier({text:"minBytes"}),minEntries:p.identifier({text:"minEntries"}),minGraphemes:p.identifier({text:"minGraphemes"}),minLength:p.identifier({text:"minLength"}),minSize:p.identifier({text:"minSize"}),minValue:p.identifier({text:"minValue"}),minWords:p.identifier({text:"minWords"}),multipleOf:p.identifier({text:"multipleOf"}),nanoid:p.identifier({text:"nanoid"}),nonEmpty:p.identifier({text:"nonEmpty"}),normalize:p.identifier({text:"normalize"}),notBytes:p.identifier({text:"notBytes"}),notEntries:p.identifier({text:"notEntries"}),notGraphemes:p.identifier({text:"notGraphemes"}),notLength:p.identifier({text:"notLength"}),notSize:p.identifier({text:"notSize"}),notValue:p.identifier({text:"notValue"}),notValues:p.identifier({text:"notValues"}),notWords:p.identifier({text:"notWords"}),octal:p.identifier({text:"octal"}),parseJson:p.identifier({text:"parseJson"}),partialCheck:p.identifier({text:"partialCheck"}),rawCheck:p.identifier({text:"rawCheck"}),rawTransform:p.identifier({text:"rawTransform"}),readonly:p.identifier({text:"readonly"}),reduceItems:p.identifier({text:"reduceItems"}),regex:p.identifier({text:"regex"}),returns:p.identifier({text:"returns"}),rfcEmail:p.identifier({text:"rfcEmail"}),safeInteger:p.identifier({text:"safeInteger"}),size:p.identifier({text:"size"}),slug:p.identifier({text:"slug"}),someItem:p.identifier({text:"someItem"}),sortItems:p.identifier({text:"sortItems"}),startsWith:p.identifier({text:"startsWith"}),stringifyJson:p.identifier({text:"stringifyJson"}),title:p.identifier({text:"title"}),toLowerCase:p.identifier({text:"toLowerCase"}),toMaxValue:p.identifier({text:"toMaxValue"}),toMinValue:p.identifier({text:"toMinValue"}),toUpperCase:p.identifier({text:"toUpperCase"}),transform:p.identifier({text:"transform"}),trim:p.identifier({text:"trim"}),trimEnd:p.identifier({text:"trimEnd"}),trimStart:p.identifier({text:"trimStart"}),ulid:p.identifier({text:"ulid"}),url:p.identifier({text:"url"}),uuid:p.identifier({text:"uuid"}),value:p.identifier({text:"value"}),values:p.identifier({text:"values"}),words:p.identifier({text:"words"})},methods:{assert:p.identifier({text:"assert"}),config:p.identifier({text:"config"}),fallback:p.identifier({text:"fallback"}),flatten:p.identifier({text:"flatten"}),forward:p.identifier({text:"forward"}),getDefault:p.identifier({text:"getDefault"}),getDefaults:p.identifier({text:"getDefaults"}),getDescription:p.identifier({text:"getDescription"}),getFallback:p.identifier({text:"getFallback"}),getFallbacks:p.identifier({text:"getFallbacks"}),getMetadata:p.identifier({text:"getMetadata"}),getTitle:p.identifier({text:"getTitle"}),is:p.identifier({text:"is"}),keyof:p.identifier({text:"keyof"}),message:p.identifier({text:"message"}),omit:p.identifier({text:"omit"}),parse:p.identifier({text:"parse"}),parser:p.identifier({text:"parser"}),partial:p.identifier({text:"partial"}),pick:p.identifier({text:"pick"}),pipe:p.identifier({text:"pipe"}),required:p.identifier({text:"required"}),safeParse:p.identifier({text:"safeParse"}),safeParser:p.identifier({text:"safeParser"}),summarize:p.identifier({text:"summarize"}),unwrap:p.identifier({text:"unwrap"})},schemas:{any:p.identifier({text:"any"}),array:p.identifier({text:"array"}),bigInt:p.identifier({text:"bigint"}),blob:p.identifier({text:"blob"}),boolean:p.identifier({text:"boolean"}),custom:p.identifier({text:"custom"}),date:p.identifier({text:"date"}),enum:p.identifier({text:"enum"}),exactOptional:p.identifier({text:"exactOptional"}),file:p.identifier({text:"file"}),function:p.identifier({text:"function"}),instance:p.identifier({text:"instance"}),intersect:p.identifier({text:"intersect"}),lazy:p.identifier({text:"lazy"}),literal:p.identifier({text:"literal"}),looseObject:p.identifier({text:"looseObject"}),looseTuple:p.identifier({text:"looseTuple"}),map:p.identifier({text:"map"}),nan:p.identifier({text:"nan"}),never:p.identifier({text:"never"}),nonNullable:p.identifier({text:"nonNullable"}),nonNullish:p.identifier({text:"nonNullish"}),nonOptional:p.identifier({text:"nonOptional"}),null:p.identifier({text:"null"}),nullable:p.identifier({text:"nullable"}),nullish:p.identifier({text:"nullish"}),number:p.identifier({text:"number"}),object:p.identifier({text:"object"}),objectWithRest:p.identifier({text:"objectWithRest"}),optional:p.identifier({text:"optional"}),picklist:p.identifier({text:"picklist"}),promise:p.identifier({text:"promise"}),record:p.identifier({text:"record"}),set:p.identifier({text:"set"}),strictObject:p.identifier({text:"strictObject"}),strictTuple:p.identifier({text:"strictTuple"}),string:p.identifier({text:"string"}),symbol:p.identifier({text:"symbol"}),tuple:p.identifier({text:"tuple"}),tupleWithRest:p.identifier({text:"tupleWithRest"}),undefined:p.identifier({text:"undefined"}),undefinedable:p.identifier({text:"undefinedable"}),union:p.identifier({text:"union"}),unknown:p.identifier({text:"unknown"}),variant:p.identifier({text:"variant"}),void:p.identifier({text:"void"})},types:{GenericSchema:p.identifier({text:"GenericSchema"})},v:p.identifier({text:"v"})},Sr="valibot";var _e=({schema:e})=>{let t=[];return e.title&&t.push(H(e.title)),e.description&&t.push(H(e.description)),e.deprecated&&t.push("@deprecated"),t.length?t:void 0};var Lr="zod",zd=p.identifier({text:"and"}),Tc=p.identifier({text:"array"}),Qd=p.identifier({text:"coerce"}),Xd=p.identifier({text:"default"}),Gd=p.identifier({text:"describe"}),Jd=p.identifier({text:"intersection"}),Zd=p.identifier({text:"lazy"}),Pc=p.identifier({text:"length"}),Yn=p.identifier({text:"literal"}),Ac=p.identifier({text:"max"}),Ec=p.identifier({text:"min"}),Yd=p.identifier({text:"object"}),ey=p.identifier({text:"optional"}),ty=p.identifier({text:"readonly"}),ry=p.identifier({text:"regex"}),vc=p.identifier({text:"union"}),B=p.identifier({text:"z"}),go=e=>`z-${e}`,ny=({context:e,plugin:t,result:r,schema:n})=>{let s=p.propertyAccessExpression({expression:B,name:Tc}),o;if(!n.items)o=p.callExpression({functionName:s,parameters:[ho({schema:{}})]});else {n=be({schema:n});let a=n.items.map(i=>Ne({context:e,plugin:t,result:r,schema:i}));a.length===1?o=p.callExpression({functionName:s,parameters:a}):(n.logicalOperator,o=p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Tc}),parameters:[p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:vc}),parameters:[p.arrayLiteralExpression({elements:a})]})]}));}return n.minItems===n.maxItems&&n.minItems!==void 0?o=p.callExpression({functionName:p.propertyAccessExpression({expression:o,name:Pc}),parameters:[p.valueToExpression({value:n.minItems})]}):(n.minItems!==void 0&&(o=p.callExpression({functionName:p.propertyAccessExpression({expression:o,name:Ec}),parameters:[p.valueToExpression({value:n.minItems})]})),n.maxItems!==void 0&&(o=p.callExpression({functionName:p.propertyAccessExpression({expression:o,name:Ac}),parameters:[p.valueToExpression({value:n.maxItems})]}))),o},sy=({schema:e})=>typeof e.const=="boolean"?p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Yn}),parameters:[p.ots.boolean(e.const)]}):p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"boolean"})})}),oy=({context:e,schema:t})=>{let r=[],n=false;for(let o of t.items??[])o.type==="string"&&typeof o.const=="string"?r.push(p.stringLiteral({text:o.const})):(o.type==="null"||o.const===null)&&(n=true);if(!r.length)return ho({schema:{}});let s=p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"enum"})}),parameters:[p.arrayLiteralExpression({elements:r,multiLine:false})]});return n&&(s=p.callExpression({functionName:p.propertyAccessExpression({expression:s,name:p.identifier({text:"nullable"})})})),s},iy=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"never"})})}),ay=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"null"})})}),_r=({isBigInt:e,value:t})=>{let r=p.valueToExpression({value:t});return e&&(typeof t=="bigint"||typeof t=="number"||typeof t=="string"||typeof t=="boolean")?p.callExpression({functionName:"BigInt",parameters:[r]}):r},py=({schema:e})=>{let t=e.type==="integer"&&e.format==="int64";if(typeof e.const=="number")return p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Yn}),parameters:[p.ots.number(e.const)]});let r=p.callExpression({functionName:t?p.propertyAccessExpression({expression:p.propertyAccessExpression({expression:B,name:Qd}),name:p.identifier({text:"bigint"})}):p.propertyAccessExpression({expression:B,name:p.identifier({text:"number"})})});return !t&&e.type==="integer"&&(r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"int"})})})),e.exclusiveMinimum!==void 0?r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"gt"})}),parameters:[_r({isBigInt:t,value:e.exclusiveMinimum})]}):e.minimum!==void 0&&(r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"gte"})}),parameters:[_r({isBigInt:t,value:e.minimum})]})),e.exclusiveMaximum!==void 0?r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"lt"})}),parameters:[_r({isBigInt:t,value:e.exclusiveMaximum})]}):e.maximum!==void 0&&(r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"lte"})}),parameters:[_r({isBigInt:t,value:e.maximum})]})),r},cy=({context:e,plugin:t,result:r,schema:n})=>{let s=[],o=n.required??[];for(let i in n.properties){let c=n.properties[i],m=o.includes(i),l=Ne({context:e,optional:!m,plugin:t,result:r,schema:c});Ce.lastIndex=0;let f;Ce.test(i)?f=i.startsWith("-")?b__default.default.factory.createStringLiteral(i):b__default.default.factory.createNumericLiteral(i):f=i,(i.match(/^[0-9]/)&&i.match(/\D+/g)||i.match(/\W/g))&&!i.startsWith("'")&&!i.endsWith("'")&&(f=`'${i}'`),s.push(p.propertyAssignment({initializer:l,name:f}));}return {anyType:"AnyZodObject",expression:p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Yd}),parameters:[b__default.default.factory.createObjectLiteralExpression(s,true)]})}},my=({schema:e})=>{if(typeof e.const=="string")return p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Yn}),parameters:[p.ots.string(e.const)]});let t=p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"string"})})});if(e.format)switch(e.format){case "date-time":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:"datetime"})})});break;case "ipv4":case "ipv6":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:"ip"})})});break;case "uri":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:"url"})})});break;case "date":case "email":case "time":case "uuid":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:e.format})})});break}return e.minLength===e.maxLength&&e.minLength!==void 0?t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:Pc}),parameters:[p.valueToExpression({value:e.minLength})]}):(e.minLength!==void 0&&(t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:Ec}),parameters:[p.valueToExpression({value:e.minLength})]})),e.maxLength!==void 0&&(t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:Ac}),parameters:[p.valueToExpression({value:e.maxLength})]}))),e.pattern&&(t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:ry}),parameters:[p.regularExpressionLiteral({text:e.pattern})]})),t},ly=({context:e,plugin:t,result:r,schema:n})=>{if(n.const&&Array.isArray(n.const)){let a=n.const.map(c=>p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Yn}),parameters:[p.valueToExpression({value:c})]}));return p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"tuple"})}),parameters:[p.arrayLiteralExpression({elements:a})]})}let s=[];for(let a of n.items??[])s.push(Ne({context:e,plugin:t,result:r,schema:a}));return p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"tuple"})}),parameters:[p.arrayLiteralExpression({elements:s})]})},fy=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"undefined"})})}),ho=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"unknown"})})}),uy=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:p.identifier({text:"void"})})}),Ic=({context:e,plugin:t,result:r,schema:n})=>{switch(n.type){case "array":return {expression:ny({context:e,plugin:t,result:r,schema:n})};case "boolean":return {expression:sy({schema:n})};case "enum":return {expression:oy({context:e,schema:n})};case "integer":case "number":return {expression:py({schema:n})};case "never":return {expression:iy({schema:n})};case "null":return {expression:ay({schema:n})};case "object":return cy({context:e,plugin:t,result:r,schema:n});case "string":return {expression:my({schema:n})};case "tuple":return {expression:ly({context:e,plugin:t,result:r,schema:n})};case "undefined":return {expression:fy({schema:n})};case "unknown":return {expression:ho({schema:n})};case "void":return {expression:uy({schema:n})}}},dy=({context:e,operation:t,plugin:r,result:n})=>{if(t.body&&Ne({$ref:M({case:"camelCase",config:e.config,id:t.id,type:"data"}),context:e,plugin:r,result:n,schema:t.body.schema}),t.parameters)for(let s in t.parameters){let o=t.parameters[s];for(let a in o){let i=o[a];Ne({$ref:M({case:"camelCase",config:e.config,id:t.id,parameterId:i.name,type:"parameter"}),context:e,plugin:r,result:n,schema:i.schema});}}if(t.responses){let{response:s}=Qe(t);s&&Ne({$ref:M({case:"camelCase",config:e.config,id:t.id,type:"response"}),context:e,plugin:r,result:n,schema:s});}},Ne=({$ref:e,context:t,optional:r,plugin:n,result:s,schema:o})=>{let a=t.file({id:Lr}),i,c,m;if(e&&(s.circularReferenceTracker.add(e),m=a.identifier({$ref:e,create:true,nameTransformer:go,namespace:"value"})),o.$ref){let l=s.circularReferenceTracker.has(o.$ref),f=a.identifier({$ref:o.$ref,nameTransformer:go,namespace:"value"});if(!f.name){let u=t.resolveIrRef(o.$ref);c=Ne({$ref:o.$ref,context:t,plugin:n,result:s,schema:u}),f=a.identifier({$ref:o.$ref,nameTransformer:go,namespace:"value"});}if(f.name){let u=p.identifier({text:f.name});l?(c=p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Zd}),parameters:[p.arrowFunction({statements:[p.returnStatement({expression:u})]})]}),s.hasCircularReference=true):c=u;}}else if(o.type){let l=Ic({context:t,plugin:n,result:s,schema:o});i=l.anyType,c=l.expression,n.metadata&&o.description&&(c=p.callExpression({functionName:p.propertyAccessExpression({expression:c,name:Gd}),parameters:[p.stringLiteral({text:o.description})]}));}else if(o.items)if(o=be({schema:o}),o.items){let l=o.items.map(f=>Ne({context:t,plugin:n,result:s,schema:f}));if(o.logicalOperator==="and"){let f=o.items[0];f.logicalOperator==="or"||f.type&&f.type!=="object"?c=p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:Jd}),parameters:l}):(c=l[0],l.slice(1).forEach(u=>{c=p.callExpression({functionName:p.propertyAccessExpression({expression:c,name:zd}),parameters:[u]});}));}else c=p.callExpression({functionName:p.propertyAccessExpression({expression:B,name:vc}),parameters:[p.arrayLiteralExpression({elements:l})]});}else c=Ne({context:t,plugin:n,result:s,schema:o});else {let l=Ic({context:t,plugin:n,result:s,schema:{type:"unknown"}});i=l.anyType,c=l.expression;}if(e&&s.circularReferenceTracker.delete(e),c&&(o.accessScope==="read"&&(c=p.callExpression({functionName:p.propertyAccessExpression({expression:c,name:ty})})),r&&(c=p.callExpression({functionName:p.propertyAccessExpression({expression:c,name:ey})})),o.default!==void 0)){let l=o.type==="integer"&&o.format==="int64",f=_r({isBigInt:l,value:o.default});f&&(c=p.callExpression({functionName:p.propertyAccessExpression({expression:c,name:Xd}),parameters:[f]}));}if(m&&m.name&&m.created){let l=p.constVariable({comment:n.comments?_e({schema:o}):void 0,exportConst:true,expression:c,name:m.name,typeName:s.hasCircularReference?p.propertyAccessExpression({expression:B,name:i||"ZodTypeAny"}):void 0});a.add(l);}return c},jc=({context:e,plugin:t})=>{e.createFile({exportFromIndex:t.exportFromIndex,id:Lr,identifierCase:"camelCase",path:t.output}).import({module:"zod",name:"z"}),e.subscribe("operation",({operation:n})=>{dy({context:e,operation:n,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false}});}),e.subscribe("parameter",({$ref:n,parameter:s})=>{Ne({$ref:n,context:e,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:s.schema});}),e.subscribe("requestBody",({$ref:n,requestBody:s})=>{Ne({$ref:n,context:e,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:s.schema});}),e.subscribe("schema",({$ref:n,schema:s})=>{Ne({$ref:n,context:e,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:s});});};var Cr={data:p.identifier({text:"data"}),parseAsync:p.identifier({text:"parseAsync"}),v:p.identifier({text:"v"})},yy=({context:e,operation:t})=>{let r=e.file({id:ye}),n=e.file({id:Sr}).identifier({$ref:M({case:"camelCase",config:e.config,id:t.id,type:"response"}),namespace:"value"});if(n.name)return r.import({module:r.relativePathToFile({context:e,id:Sr}),name:n.name}),r.import({alias:Cr.v.text,module:"valibot",name:"*"}),p.arrowFunction({async:true,parameters:[{name:"data"}],statements:[p.returnStatement({expression:p.awaitExpression({expression:p.callExpression({functionName:p.propertyAccessExpression({expression:Cr.v,name:Cr.parseAsync}),parameters:[p.identifier({text:n.name}),Cr.data]})})})]})},gy=({context:e,operation:t})=>{let r=e.file({id:ye}),n=e.file({id:Lr}).identifier({$ref:M({case:"camelCase",config:e.config,id:t.id,type:"response"}),namespace:"value"});if(n.name)return r.import({module:r.relativePathToFile({context:e,id:Lr}),name:n.name}),p.arrowFunction({async:true,parameters:[{name:"data"}],statements:[p.returnStatement({expression:p.awaitExpression({expression:p.callExpression({functionName:p.propertyAccessExpression({expression:p.identifier({text:n.name}),name:Cr.parseAsync}),parameters:[Cr.data]})})})]})},kc=({context:e,operation:t,plugin:r})=>{switch(r.validator){case "valibot":return yy({context:e,operation:t});case "zod":return gy({context:e,operation:t});default:return}};var Nc=({context:e,value:t})=>{let r=E({case:"PascalCase",value:Fe(t)});return jt({config:e.config,name:r})},hy=({operation:e,plugin:t})=>t.methodNameBuilder?t.methodNameBuilder(e):!t.asClass&&e.id.match(fe)?`${e.id}_`:e.id,es=({context:e,operation:t,plugin:r})=>{let n=new Map,s,o,a=[];if(r.classStructure==="auto"&&t.operationId&&(a=t.operationId.split(/[./]/).filter(Boolean),a.length>1)){let c=a.pop();o=E({case:"camelCase",value:Fe(c)}),s=a.pop();}let i=r.instance?[r.instance]:t.tags??["default"];for(let c of i){let m=Nc({context:e,value:s||c});n.set(c,{className:m,methodName:o||hy({operation:t,plugin:r}),path:(s?[c,...a,s]:[c]).map(l=>Nc({context:e,value:l}))});}return n},Hr=({context:e,file:t,operation:r,throwOnError:n})=>{let o=A(e.config).name==="@hey-api/client-nuxt",a=Be({context:e,file:t,operation:r,type:"data"}),i=Be({context:e,file:t,operation:r,type:o?"response":"responses"}),c=U.Options.name;return o?`${c}<${Rr}, ${a.name||"unknown"}, ${i.name||"unknown"}, ${nt}>`:n?`${c}<${a.name||"unknown"}, ${n}>`:a.name?`${c}<${a.name}>`:c},xy=e=>{if(!e)return;let t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return "json";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return "blob";if(t.startsWith("text/"))return "text"}},xo=({context:e,isRequiredOptions:t,operation:r,plugin:n})=>{let s=e.file({id:ye}),o=s.nameWithoutExtension(),a=A(e.config),i=a.name==="@hey-api/client-nuxt",c=Be({context:e,file:s,operation:r,type:i?"error":"errors"}),m=Be({context:e,file:s,operation:r,type:i?"response":"responses"}),l=[];if(r.body)switch(r.body.type){case "form-data":l.push({spread:"formDataBodySerializer"}),s.import({module:te({config:e.config,sourceOutput:o}),name:"formDataBodySerializer"});break;case "json":break;case "text":case "octet-stream":l.push({key:"bodySerializer",value:null});break;case "url-search-params":l.push({spread:"urlSearchParamsBodySerializer"}),s.import({module:te({config:e.config,sourceOutput:o}),name:"urlSearchParamsBodySerializer"});break}if(a.name==="@hey-api/client-axios"){for(let P in r.responses)if(vs({statusCode:P})==="2XX"){let $=r.responses[P],L=xy($?.mediaType);if(L){l.push({key:"responseType",value:L});break}}}let f=Cc({operation:r,plugin:n});f.length&&l.push({key:"security",value:p.arrayLiteralExpression({elements:f})});for(let P in r.parameters?.query){let $=r.parameters.query[P];if(($.schema.type==="array"||$.schema.type==="tuple")&&($.style!=="form"||!$.explode)){l.push({key:"querySerializer",value:[{key:"array",value:[{key:"explode",value:false},{key:"style",value:"form"}]}]});break}}if(n.transformer==="@hey-api/transformers"){let P=e.file({id:Br}).identifier({$ref:Jn({id:r.id,type:"response"}),namespace:"value"});P.name&&(s.import({module:s.relativePathToFile({context:e,id:Br}),name:P.name}),l.push({key:"responseTransformer",value:P.name}));}let u=kc({context:e,operation:r,plugin:n});if(u&&l.push({key:"responseValidator",value:u}),n.responseStyle==="data"&&l.push({key:"responseStyle",value:n.responseStyle}),l.push({key:"url",value:r.path}),l.push({spread:"options"}),r.body){let P=r.parameters?.header?.["content-type"];if(!!!P?.required){let L=p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:!t,name:"headers"});l.push({key:"headers",value:[{key:P?.name??"Content-Type",value:r.body.type==="form-data"?null:r.body.mediaType},{spread:L}]});}}let d=m.name||"unknown",y=c.name||"unknown",g=n.client?s.import({alias:"_heyApiClient",module:s.relativePathToFile({context:e,id:He}),name:"client"}):void 0,R=p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:!t,name:"client"}),O;n.instance?O=p.binaryExpression({left:R,operator:"??",right:p.propertyAccessExpression({expression:p.this(),name:"_client"})}):g?.name?O=p.binaryExpression({left:R,operator:"??",right:p.identifier({text:g.name})}):O=R;let j=[];return i?j.push(Rr,`${d} | ${nt}`,y,nt):j.push(d,y,"ThrowOnError"),n.responseStyle==="data"&&j.push(p.stringLiteral({text:n.responseStyle})),[p.returnFunctionCall({args:[p.objectExpression({identifiers:["responseTransformer"],obj:l})],name:p.propertyAccessExpression({expression:O,name:p.identifier({text:r.method})}),types:j})]};var zt=({meta:e,onImport:t,...r})=>{if(!e)return {created:false,name:""};let{created:n,name:s}=je({meta:e,...r});return s&&t(s),{created:n,name:s}},Mc=e=>`${e}ModelResponseTransformer`,Qt=e=>`${E({case:"PascalCase",value:e})}Data`,Tr=e=>`${E({case:"PascalCase",value:e})}Error`,bo=e=>`${e}Transformer`,st=e=>`${E({case:"PascalCase",value:e})}Response`,Oo=({importedType:e,throwOnError:t})=>{let r=U.OptionsLegacyParser.name;return t?`${r}<${e||"unknown"}, ${t}>`:e?`${r}<${e}>`:r},qc=(e,t)=>{let r=S(),{name:n}=je({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:Qt}),s=rt(t.parameters);if(!D(r))return [{isRequired:s,name:"options",type:Oo({importedType:n,throwOnError:"ThrowOnError"})}];if(!t.parameters.length)return [];let o=a=>{if(a.default!==void 0)return JSON.stringify(a.default,null,4)};return r.useOptions?[{default:s?void 0:{},name:"data",type:n}]:t.parameters.map(a=>{let i=`${n}['${a.name}']`;return {default:a?.default,isRequired:(!a.isRequired&&!o(a)?"?":"")=="",name:a.name,type:i}})},wc=(e,t)=>{let r=S(),n=p.typeNode("void");if(t.responses.filter(a=>a.responseTypes.includes("success")).length){let{name:a}=je({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:st});n=p.typeUnionNode({types:[a]});}return r.useOptions&&r.plugins["@hey-api/sdk"]?.response==="response"&&(n=p.typeNode("ApiResult",[n])),A(r).name==="legacy/angular"?n=p.typeNode("Observable",[n]):n=p.typeNode("CancelablePromise",[n]),n},$c=e=>{let t=S();if(!D(t))return [e.deprecated&&"@deprecated",e.summary&&H(e.summary),e.description&&H(e.description)];let r=[];e.parameters.length&&(t.useOptions?r=["@param data The data for the request.",...e.parameters.map(o=>`@param data.${o.name} ${o.description?H(o.description):""}`)]:r=e.parameters.map(o=>`@param ${o.name} ${o.description?H(o.description):""}`));let n=e.responses.filter(o=>o.responseTypes.includes("success"));return [e.deprecated&&"@deprecated",e.summary&&H(e.summary),e.description&&H(e.description),...r,...n.map(o=>`@returns ${o.type} ${o.description?H(o.description):""}`),"@throws ApiError"]},by=({client:e,onClientImport:t,onImport:r,operation:n})=>{let s=S(),o=st(n.name),{name:a}=je({client:e,meta:{$ref:`transformers/${o}`,name:o},nameTransformer:bo});if(a&&r(a),!D(s)){let l=[{spread:"options"}],u=n.parameters.filter(d=>d.in==="body"||d.in==="formData").map(d=>d.mediaType||(d.in==="formData"?"multipart/form-data":void 0)).filter(Boolean).filter(le);return u.length===1&&(u[0]==="multipart/form-data"&&(l=[...l,{spread:"formDataBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:null},{spread:"options?.headers"}]}],t?.("formDataBodySerializer")),u[0]==="application/x-www-form-urlencoded"&&(l=[...l,{spread:"urlSearchParamsBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:u[0]},{spread:"options?.headers"}]}],t?.("urlSearchParamsBodySerializer"))),l=[...l,{key:"url",value:n.path}],a&&(l=[...l,{key:"responseTransformer",value:a}]),p.objectExpression({identifiers:["responseTransformer"],obj:l})}let i=l=>l.reduce((f,u)=>{let d=u.prop,y=s.useOptions?`data.${u.name}`:u.name;return d===y?f[d]=d:Te(d)===d?f[d]=y:f[`'${d}'`]=y,f},{}),c={method:n.method,url:n.path};n.parametersPath.length&&(c.path=i(n.parametersPath)),n.parametersCookie.length&&(c.cookies=i(n.parametersCookie)),n.parametersHeader.length&&(c.headers=i(n.parametersHeader)),n.parametersQuery.length&&(c.query=i(n.parametersQuery)),n.parametersForm.length&&(c.formData=i(n.parametersForm)),n.parametersBody&&(n.parametersBody.in==="formData"&&(s.useOptions?c.formData=`data.${n.parametersBody.name}`:c.formData=n.parametersBody.name),n.parametersBody.in==="body"&&(s.useOptions?c.body=`data.${n.parametersBody.name}`:c.body=n.parametersBody.name)),n.parametersBody?.mediaType&&(c.mediaType=n.parametersBody?.mediaType),n.responseHeader&&(c.responseHeader=n.responseHeader),a&&(c.responseTransformer=a);let m=n.responses.filter(l=>l.responseTypes.includes("error"));if(m.length>0){let l={};m.forEach(f=>{l[f.code]=f.description??"";}),c.errors=l;}return p.objectExpression({identifiers:["body","cookies","formData","headers","path","query","responseTransformer"],obj:c,shorthand:true})},Q=({config:e,handleIllegal:t,id:r,operation:n})=>e.plugins["@hey-api/sdk"]?.methodNameBuilder?e.plugins["@hey-api/sdk"].methodNameBuilder(n):t&&r.match(fe)?`${r}_`:r,Dc=({client:e,onClientImport:t,onImport:r,operation:n})=>{let s=S(),o=by({client:e,onClientImport:t,onImport:r,operation:n});if(!D(s)){let i=je({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:Tr}).name,m=n.responses.filter(l=>l.responseTypes.includes("success")).length?je({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:st}).name:"void";return [p.returnFunctionCall({args:[o],name:`(options?.client ?? client).${n.method.toLocaleLowerCase()}`,types:i&&m?[m,i,"ThrowOnError"]:i?["unknown",i,"ThrowOnError"]:m?[m,"unknown","ThrowOnError"]:[]})]}return W(s)?[p.returnFunctionCall({args:[o],name:"this.httpRequest.request"})]:A(s).name==="legacy/angular"?[p.returnFunctionCall({args:["OpenAPI","this.http",o],name:"__request"})]:[p.returnFunctionCall({args:["OpenAPI",o],name:"__request"})]},Oy=({client:e,onClientImport:t,onImport:r,onNode:n,service:s})=>{let o=S(),a=A(o),i=D(o);for(let u of s.operations)u.parameters.length&&zt({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:Qt,onImport:r}),i||zt({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:Tr,onImport:r}),u.responses.filter(y=>y.responseTypes.includes("success")).length&&zt({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:st,onImport:r});let c={default:("throwOnError"in a?a.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"};if(!o.plugins["@hey-api/sdk"]?.asClass&&!W(o)){for(let u of s.operations){let d={parameters:qc(e,u),returnType:i?wc(e,u):void 0,statements:Dc({client:e,onClientImport:t,onImport:r,operation:u}),types:i?void 0:[c]},y=a.name==="legacy/angular"?p.anonymousFunction(d):p.arrowFunction(d),g=p.constVariable({comment:$c(u),exportConst:true,expression:y,name:Q({config:o,handleIllegal:true,id:u.name,operation:u})});n(g);}return}let m=s.operations.map(u=>p.methodDeclaration({accessLevel:"public",comment:$c(u),isStatic:W(o)===void 0&&a.name!=="legacy/angular",name:Q({config:o,id:u.name,operation:u}),parameters:qc(e,u),returnType:i?wc(e,u):void 0,statements:Dc({client:e,onClientImport:t,onImport:r,operation:u}),types:i?void 0:[c]}));if(!m.length)return;W(o)?m=[p.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"httpRequest",type:"BaseHttpRequest"}]}),...m]:a.name==="legacy/angular"&&(m=[p.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"http",type:"HttpClient"}]}),...m]);let l=[];m.forEach((u,d)=>{d&&l.push(p.identifier({text:`
`})),l.push(u);});let f=p.classDeclaration({decorator:a.name==="legacy/angular"?{args:[{providedIn:"root"}],name:"Injectable"}:void 0,exportClass:true,name:jt({config:o,name:s.name}),nodes:l});n(f);},Fc=({client:e,files:t,plugin:r})=>{let n=S(),s=D(n),o="sdk";if(t.sdk=new de({dir:n.output.path,exportFromIndex:r.exportFromIndex,id:"sdk",name:`${o}.ts`}),!s)t.sdk.import({module:te({config:n,sourceOutput:o}),name:"createClient"}),t.sdk.import({module:te({config:n,sourceOutput:o}),name:"createConfig"}),t.sdk.import({...U.OptionsLegacyParser,module:te({config:n,sourceOutput:o})});else if(A(n).name==="legacy/angular"?(t.sdk.import({module:"@angular/core",name:"Injectable"}),W(n)||t.sdk.import({module:"@angular/common/http",name:"HttpClient"}),t.sdk.import({asType:true,module:"rxjs",name:"Observable"})):t.sdk.import({asType:true,module:"./core/CancelablePromise",name:"CancelablePromise"}),n.plugins["@hey-api/sdk"]?.response==="response"&&t.sdk.import({asType:true,module:"./core/ApiResult",name:"ApiResult"}),W(n)){let i=A(n);t.sdk.import({asType:i.name!=="legacy/angular",module:"./core/BaseHttpRequest",name:"BaseHttpRequest"});}else t.sdk.import({module:"./core/OpenAPI",name:"OpenAPI"}),t.sdk.import({alias:"__request",module:"./core/request",name:"request"});if(!s){let a=A(n),i=p.constVariable({exportConst:true,expression:p.callExpression({functionName:"createClient",parameters:[p.callExpression({functionName:"createConfig",parameters:["throwOnError"in a&&a.throwOnError?p.objectExpression({obj:[{key:"throwOnError",value:true}]}):void 0]})]}),name:"client"});t.sdk.add(i);}for(let a of e.services)Oy({client:e,onClientImport:i=>{t.sdk.import({module:te({config:n,sourceOutput:o}),name:i});},onImport:i=>{t.sdk.import({asType:!i.endsWith("Transformer"),module:`./${t.types.nameWithoutExtension()}`,name:i});},onNode:i=>{t.sdk.add(i);},service:a});};var Bc=({clientOptions:e,context:t,plugin:r})=>{let n=t.file({id:ye}),o=A(t.config).name==="@hey-api/client-nuxt",a=te({config:t.config,sourceOutput:n.nameWithoutExtension()}),i=n.import({asType:true,module:a,name:"TDataShape"}),c=n.import({asType:true,module:a,name:"Client"}),m=p.typeAliasDeclaration({exportType:true,name:"Options",type:p.typeIntersectionNode({types:[p.typeReferenceNode({typeArguments:o?[p.typeReferenceNode({typeName:"TComposable"}),p.typeReferenceNode({typeName:"TData"}),p.typeReferenceNode({typeName:uo}),p.typeReferenceNode({typeName:nt})]:[p.typeReferenceNode({typeName:"TData"}),p.typeReferenceNode({typeName:"ThrowOnError"})],typeName:e.name}),p.typeInterfaceNode({properties:[{comment:["You can provide a client instance returned by `createClient()` instead of","individual options. This might be also useful if you want to implement a","custom client."],isRequired:!r.client,name:"client",type:p.typeReferenceNode({typeName:c.name})},{comment:["You can pass arbitrary values through the `meta` object. This can be","used to access values that aren't defined as part of the SDK function."],isRequired:false,name:"meta",type:p.typeReferenceNode({typeArguments:[p.keywordTypeNode({keyword:"string"}),p.keywordTypeNode({keyword:"unknown"})],typeName:"Record"})}],useLegacyResolution:false})]}),typeParameters:o?[p.typeParameterDeclaration({constraint:p.typeReferenceNode({typeName:"Composable"}),name:"TComposable"}),p.typeParameterDeclaration({constraint:p.typeReferenceNode({typeName:i.name}),defaultType:p.typeReferenceNode({typeName:i.name}),name:"TData"}),p.typeParameterDeclaration({defaultType:p.keywordTypeNode({keyword:"unknown"}),name:uo}),p.typeParameterDeclaration({defaultType:p.keywordTypeNode({keyword:"undefined"}),name:nt})]:[p.typeParameterDeclaration({constraint:p.typeReferenceNode({typeName:i.name}),defaultType:p.typeReferenceNode({typeName:i.name}),name:"TData"}),p.typeParameterDeclaration({constraint:p.keywordTypeNode({keyword:"boolean"}),defaultType:p.keywordTypeNode({keyword:"boolean"}),name:"ThrowOnError"})]});n.add(m);};var Sy=({plugin:e})=>{let t=p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:p.this(),name:"_client"}),operator:"=",right:p.propertyAccessExpression({expression:p.identifier({text:"args"}),name:"client"})})});return [p.propertyDeclaration({initializer:e.client?p.identifier({text:"_heyApiClient"}):void 0,modifier:"protected",name:"_client",type:b__default.default.factory.createTypeReferenceNode("Client")}),p.identifier({text:`
`}),p.constructorDeclaration({multiLine:true,parameters:[{isRequired:!e.client,name:"args",type:p.typeInterfaceNode({properties:[{isRequired:!e.client,name:"client",type:"Client"}],useLegacyResolution:false})}],statements:[e.client?p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"args"}),isOptional:true,name:"client"}),thenStatement:p.block({statements:[t]})}):t]})]},Cy=({context:e,plugin:t})=>{let r=A(e.config),n=r.name==="@hey-api/client-nuxt",s=e.file({id:ye}),o=new Map,a=new Set,i=t.instance?Sy({plugin:t}):[];e.subscribe("operation",({operation:m})=>{let l=Ut({context:e,operation:m}),f=Be({context:e,file:s,operation:m,type:"response"}),u=es({context:e,operation:m,plugin:t});for(let d of u.values())d.path.forEach((y,g)=>{o.has(y)||o.set(y,{className:y,classes:new Set,methods:new Set,nodes:[],root:!g});let R=d.path[g-1];if(R){let $=o.get(R);$.classes.add(y),o.set(R,$);}if(!(d.path.length===g+1))return;let j=o.get(y);if(j.methods.has(d.methodName))return;let P=p.methodDeclaration({accessLevel:"public",comment:xt({operation:m}),isStatic:!t.instance,name:d.methodName,parameters:[{isRequired:l,name:"options",type:Hr({context:e,file:s,operation:m,throwOnError:n?void 0:"ThrowOnError"})}],returnType:void 0,statements:xo({context:e,isRequiredOptions:l,operation:m,plugin:t}),types:n?[{extends:p.typeNode("Composable"),name:Rr},{default:f.name?p.typeReferenceNode({typeName:f.name}):p.typeNode("undefined"),extends:f.name?p.typeReferenceNode({typeName:f.name}):void 0,name:nt}]:[{default:("throwOnError"in r?r.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"}]});j.nodes.length?j.nodes.push(p.identifier({text:`
`}),P):j.nodes.push(P),j.methods.add(d.methodName),o.set(y,j);});});let c=m=>{if(a.has(m.className))return;if(m.classes.size)for(let f of m.classes){let u=o.get(f);c(u),m.nodes.push(p.propertyDeclaration({initializer:t.instance?p.newExpression({argumentsArray:t.instance?[p.objectExpression({multiLine:false,obj:[{key:"client",value:p.propertyAccessExpression({expression:p.this(),name:"_client"})}]})]:[],expression:p.identifier({text:u.className})}):p.identifier({text:u.className}),modifier:t.instance?void 0:"static",name:E({case:"camelCase",value:u.className})}));}let l=p.classDeclaration({exportClass:m.root,extendedClasses:t.instance?["_HeyApiClient"]:void 0,name:m.className,nodes:m.nodes});s.add(l),a.add(m.className);};e.subscribe("after",()=>{if(i.length){let m=p.classDeclaration({exportClass:false,name:"_HeyApiClient",nodes:i});s.add(m);}for(let m of o.values())c(m);});},Ty=({context:e,plugin:t})=>{let r=A(e.config),n=r.name==="@hey-api/client-nuxt",s=e.file({id:ye});e.subscribe("operation",({operation:o})=>{let a=Ut({context:e,operation:o}),i=Be({context:e,file:s,operation:o,type:"response"}),c=p.constVariable({comment:xt({operation:o}),exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:a,name:"options",type:Hr({context:e,file:s,operation:o,throwOnError:n?void 0:"ThrowOnError"})}],returnType:void 0,statements:xo({context:e,isRequiredOptions:a,operation:o,plugin:t}),types:n?[{extends:p.typeNode("Composable"),name:Rr},{default:i.name?p.typeReferenceNode({typeName:i.name}):p.typeNode("undefined"),extends:i.name?p.typeReferenceNode({typeName:i.name}):void 0,name:nt}]:[{default:("throwOnError"in r?r.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"}]}),name:Q({config:e.config,handleIllegal:true,id:o.id,operation:o})});s.add(c);});},_c=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:ye,path:t.output}),n=te({config:e.config,sourceOutput:r.nameWithoutExtension()}),s=r.import({...U.Options,alias:"ClientOptions",module:n});A(e.config).name==="@hey-api/client-nuxt"&&r.import({asType:true,module:n,name:"Composable"}),Bc({clientOptions:s,context:e,plugin:t}),t.asClass?Cy({context:e,plugin:t}):Ty({context:e,plugin:t});};var Ro={_dependencies:["@hey-api/typescript"],_handler:_c,_handlerLegacy:Fc,_infer:(e,t)=>{e.client&&(typeof e.client=="boolean"&&(e.client=t.pluginByTag({defaultPlugin:"@hey-api/client-fetch",tag:"client"})),t.ensureDependency(e.client)),e.transformer&&(typeof e.transformer=="boolean"&&(e.transformer=t.pluginByTag({tag:"transformer"})),t.ensureDependency(e.transformer)),e.validator&&(typeof e.validator=="boolean"&&(e.validator=t.pluginByTag({tag:"validator"})),t.ensureDependency(e.validator)),e.instance&&(typeof e.instance!="string"&&(e.instance="Sdk"),e.asClass=true),e.client!=="@hey-api/client-fetch"&&(e.responseStyle="fields");},asClass:false,auth:true,classStructure:"auto",client:true,exportFromIndex:true,instance:false,name:"@hey-api/sdk",operationId:true,output:"sdk",response:"body",responseStyle:"fields"};var Iy="$OpenApiTs",ce={$refs:[],base:"",description:null,enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],template:null,type:""},Py=({comments:e,leadingComment:t,meta:r,obj:n,onNode:s,...o})=>{if(!r)return;let{created:a,name:i}=je({create:true,meta:r,...o});if(a){let c=p.enumDeclaration({comments:e,leadingComment:t,name:i,obj:n});s(c);}},bt=({comment:e,meta:t,onCreated:r,onNode:n,type:s,...o})=>{if(!t)return {created:false,name:""};let a=je({create:true,meta:t,...o}),{created:i,name:c}=a;if(i){let m=p.typeAliasDeclaration({comment:e,exportType:true,name:c,type:s});n(m),r?.(c);}return a},Ay=e=>{let t=S(),r=[];Hc(e),e.model.enums.forEach(n=>t.plugins["@hey-api/typescript"]?.enums!=="typescript+namespace"?Lc({...e,model:n}):Ey({...e,model:n,onNode:s=>{r.push(s);}})),r.length&&e.onNode(p.namespaceDeclaration({name:e.model.name,statements:r}));},Lc=({client:e,model:t,onNode:r})=>{let n=S(),s={},o={};t.enum.forEach(i=>{let{key:c,value:m}=vn(i);s[c]=m;let l=i.customDescription||i.description;l&&(o[c]=[H(l)]);});let a=[t.description&&H(t.description),t.deprecated&&"@deprecated"];if(n.plugins["@hey-api/typescript"]?.enums==="typescript"||n.plugins["@hey-api/typescript"]?.enums==="typescript+namespace"){Py({client:e,comments:o,leadingComment:a,meta:t.meta,obj:s,onNode:r});return}bt({client:e,comment:a,meta:t.meta,onCreated:i=>{if(n.plugins["@hey-api/typescript"]?.enums==="javascript"){let c=p.objectExpression({multiLine:true,obj:Object.entries(s).map(([l,f])=>({comments:o[l],key:l,value:f})),unescape:true}),m=p.constVariable({assertion:"const",comment:a,exportConst:true,expression:c,name:i});r(m);}},onNode:r,type:Qa(t.enum)});},Ey=({model:e,onNode:t})=>{let r={},n={};e.enum.forEach(s=>{let{key:o,value:a}=vn(s);r[o]=a;let i=s.customDescription||s.description;i&&(n[o]=[H(i)]);}),t(p.enumDeclaration({comments:n,leadingComment:[e.description&&H(e.description),e.deprecated&&"@deprecated"],name:e.meta?.name||e.name,obj:r}));},Hc=({client:e,model:t,onNode:r})=>{bt({client:e,comment:[t.description&&H(t.description),t.deprecated&&"@deprecated"],meta:t.meta,onNode:r,type:ve(t)});},vy=e=>{switch(e.model.export){case "all-of":case "any-of":case "one-of":case "interface":return Ay(e);case "enum":return Lc(e);default:return Hc(e)}},jy=({client:e,onNode:t})=>{let r={},n=S();if(!n.plugins["@hey-api/sdk"]&&!n.plugins["@hey-api/typescript"]?.tree)return;let s=D(n);for(let a of e.services)for(let i of a.operations){if(!i.parameters.length&&!i.responses.length)continue;r[i.path]||(r[i.path]={});let c=r[i.path];c[i.method]||(c[i.method]={});let m=c[i.method];if(m.$ref=i.name,i.responses.length>0){if(m.res||(m.res={}),Array.isArray(m.res))continue;i.responses.forEach(f=>{m.res[f.code]=f;});}if(i.parameters.length>0){let f={mediaType:null,...ce,in:"body",name:"body",prop:"body"},u=i.parameters.filter(O=>O.in==="body");u.length||(u=i.parameters.filter(O=>O.in==="formData")),u.length===1?f={...ce,...u[0],in:"body",isRequired:u[0].isRequired,name:"body",prop:"body"}:u.length>1&&(f={...ce,in:"body",isRequired:u.some(O=>O.isRequired),mediaType:"multipart/form-data",name:"body",prop:"body",properties:u});let d={...ce,in:"header",isRequired:rt(i.parameters.filter(O=>O.in==="header")),mediaType:null,name:s?"header":"headers",prop:s?"header":"headers",properties:i.parameters.filter(O=>O.in==="header").sort(Ir)},y={...ce,in:"path",isRequired:rt(i.parameters.filter(O=>O.in==="path")),mediaType:null,name:"path",prop:"path",properties:i.parameters.filter(O=>O.in==="path").sort(Ir)},g={...ce,in:"query",isRequired:rt(i.parameters.filter(O=>O.in==="query")),mediaType:null,name:"query",prop:"query",properties:i.parameters.filter(O=>O.in==="query").sort(Ir)},R=s?Pr([...i.parameters]):[f,d,y,g].filter(O=>O.properties.length||O.$refs.length||O.mediaType);m.req=R,bt({client:e,meta:{$ref:i.name,name:i.name},nameTransformer:Qt,onNode:t,type:ve({...ce,properties:R})});}let l=i.responses.filter(f=>f.responseTypes.includes("success"));if(l.length>0){bt({client:e,meta:{$ref:i.name,name:i.name},nameTransformer:st,onNode:t,type:ve({...ce,export:"any-of",properties:l})});let f=i.responses.filter(u=>u.responseTypes.includes("error"));s||bt({client:e,meta:{$ref:i.name,name:i.name},nameTransformer:Tr,onNode:t,type:ve(f.length?{...ce,export:"one-of",properties:f}:{...ce,base:"unknown"})});}}let o=Object.entries(r).map(([a,i])=>{let c=Object.entries(i).map(([l,f])=>{let u=l,d=[];if(f.req){let g=f.$ref,{name:R}=je({client:e,meta:{$ref:g,name:g},nameTransformer:Qt}),O={...ce,base:R,export:"reference",isRequired:true,name:"req",properties:[],type:R};d=[...d,O];}if(f.res){let g=Object.entries(f.res).map(([O,j])=>({...ce,...j,isRequired:true,name:String(O)})),R={...ce,isRequired:true,name:"res",properties:g};d=[...d,R];}return {...ce,isRequired:true,name:u.toLocaleLowerCase(),properties:d}}).filter(Boolean);return {...ce,isRequired:true,name:`'${a}'`,properties:c}});n.plugins["@hey-api/typescript"]?.tree&&bt({client:e,meta:{$ref:"@hey-api/openapi-ts",name:Iy},onNode:t,type:ve({...ce,properties:o})});},Vc=({client:e,files:t,plugin:r})=>{let n=S();t.types=new de({dir:n.output.path,exportFromIndex:r.exportFromIndex,id:"types",name:"types.ts"});let s=o=>{t.types?.add(o);};for(let o of e.models)vy({client:e,model:o,onNode:s});jy({client:e,onNode:s});};var qt="data",ky=e=>e.base==="unknown"&&e.export==="generic"&&e.type==="unknown",Kc=({client:e,model:t})=>t.$refs.map(n=>{let s=e.models.find(o=>o.meta?.$ref===n);if(!s)throw new Error(`Ref ${n} could not be found. Transformers cannot be generated without having access to all refs.`);return s}),Wc=e=>{let t=e.model.meta.name,{name:r}=bt({...e,meta:{$ref:`transformers/${t}`,name:t},nameTransformer:Mc,onCreated:s=>{let o=ts({...e,meta:{$ref:`transformers/${t}`,name:s},path:[qt]});Uc({...e,async:false,name:s,statements:o});},type:`(${qt}: any) => ${t}`});return {created:!!e.client.types[r],name:r}},Ny=e=>{let{model:t}=e,r=Kc(e);if(r.length===1){let{created:n,name:s}=Wc({...e,model:r[0]});return n?[p.transformArrayMutation({path:e.path,transformerName:s})]:[]}return Dr(t)||t.link&&!Array.isArray(t.link)&&t.link.export==="any-of"&&t.link.properties.find(n=>Dr(n))?[p.transformArrayMap({path:e.path,transformExpression:p.conditionalExpression({condition:p.identifier({text:"item"}),whenFalse:p.identifier({text:"item"}),whenTrue:p.transformNewDate({parameterName:"item"})})})]:[]},qy=e=>{let{model:t}=e,r=[...e.path,t.name];return t.type==="string"&&t.export!=="array"&&Dr(t)?[p.transformDateMutation({path:r})]:ts({...e,model:t,path:r})},ts=e=>{let{model:t}=e;switch(t.export){case "array":return Ny(e);case "interface":return t.properties.flatMap(r=>qy({...e,model:r}));case "reference":{if(t.$refs.length!==1)return [];let r=Kc(e),{created:n,name:s}=Wc({...e,model:r[0]});return n?t.in==="response"?[p.expressionToStatement({expression:p.callExpression({functionName:s,parameters:[qt]})})]:p.transformFunctionMutation({path:e.path,transformerName:s}):[]}default:return []}},Uc=({async:e,client:t,name:r,onNode:n,onRemoveNode:s,statements:o})=>{let a={created:false,name:r};if(!o.length)return Ja({client:t,name:r}),s?.(),a;let i=p.arrowFunction({async:e,multiLine:true,parameters:[{name:qt}],statements:[...o,p.returnVariable({expression:qt})]}),c=p.constVariable({exportConst:true,expression:i,name:r,typeName:r});return n(c),{created:true,name:r}},zc=({client:e,files:t})=>{let r=S(),n=o=>{t.types?.add(o);},s=()=>{t.types?.removeNode();};for(let o of e.services)for(let a of o.operations){let i=a.responses.filter(l=>l.responseTypes.includes("success"));if(!i.length)continue;let c=i.filter(l=>!ky(l));if(!c.length)continue;if(c.length>1){r.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${q(a)} has ${c.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);continue}let m=st(a.name);bt({client:e,meta:{$ref:`transformers/${m}`,name:m},nameTransformer:bo,onCreated:l=>{let f=i.length>1?i.flatMap(u=>{let d=ts({client:e,meta:{$ref:`transformers/${m}`,name:m},model:u,onNode:n,onRemoveNode:s,path:[qt]});return d.length?[p.ifStatement({expression:p.safeAccessExpression(["data"]),thenStatement:p.block({statements:d})})]:[]}):ts({client:e,meta:{$ref:`transformers/${m}`,name:m},model:i[0],onNode:n,onRemoveNode:s,path:[qt]});Uc({async:true,client:e,name:l,onNode:n,onRemoveNode:s,statements:f});},onNode:n,type:`(${qt}: any) => Promise<${m}>`});}};var So={_dependencies:["@hey-api/typescript"],_handler:Sc,_handlerLegacy:zc,_tags:["transformer"],bigInt:true,dates:true,exportFromIndex:false,name:"@hey-api/transformers",output:"transformers"};var Xc=({context:e,name:t})=>(Ce.lastIndex=0,Ce.test(t)?t.startsWith("-")?b__default.default.factory.createStringLiteral(t):b__default.default.factory.createNumericLiteral(t):E({case:e.config.output.case,value:t}));var rs=p.keywordTypeNode({keyword:"string"}),$y=({server:e})=>{let t=Je(e.url);return t.protocol&&t.host?p.literalTypeNode({literal:p.stringLiteral({text:e.url})}):p.templateLiteralType({value:[t.protocol||rs,"://",t.host||rs,t.port?`:${t.port}`:"",t.path||""]})},Gc=({context:e,identifier:t,servers:r})=>{let n=e.file({id:k});if(!t.name)return;let s=A(e.config),o=r.map(i=>$y({server:i}));r.length?"strictBaseUrl"in s&&s.strictBaseUrl||o.push(p.typeIntersectionNode({types:[rs,b__default.default.factory.createTypeLiteralNode([])]})):o.push(rs);let a=p.typeAliasDeclaration({exportType:true,name:t.name,type:p.typeInterfaceNode({properties:[{name:he(e.config),type:p.typeUnionNode({types:o})}],useLegacyResolution:false})});n.add(a);};var To=({$ref:e,accessScope:t,plugin:r})=>{if(!t||t==="both")return e;let n=e.split("/"),s=n.pop(),o=t==="read"?r.readableNameBuilder:r.writableNameBuilder,a=Dy({name:s,nameBuilder:o});return n.push(a),n.join("/")},Dy=({name:e,nameBuilder:t})=>t?t.replace("{{name}}",e):e,My=({schema:e,state:t})=>{let r=t?.accessScope;return r?!!(e.accessScope&&r!==e.accessScope||e.$ref&&e.accessScopes&&!e.accessScopes.includes(r)&&!e.accessScopes.includes("both")||(e.type==="array"||e.type==="tuple")&&e.items&&e.items.every(n=>n.accessScopes&&!n.accessScopes.includes(r)&&!n.accessScopes.includes("both"))):false},Fy=({$ref:e,context:t,plugin:r,schema:n})=>{let o=t.file({id:k}).identifier({$ref:e,create:true,namespace:"value"});if(!o.created)return;let a=Ao({plugin:r,schema:n});r.enumsConstantsIgnoreNull&&a.typeofItems.includes("object")&&(a.obj=a.obj.filter(m=>m.value!==null));let i=p.objectExpression({multiLine:true,obj:a.obj});return p.constVariable({assertion:"const",comment:_e({schema:n}),exportConst:true,expression:i,name:o.name||""})},Ao=({plugin:e,schema:t})=>{let r=[];return {obj:(t.items??[]).map((s,o)=>{let a=typeof s.const;r.includes(a)||r.push(a);let i;return s.title?i=s.title:a==="number"||a==="string"?i=`${s.const}`:a==="boolean"?i=s.const?"true":"false":s.const===null?i="null":i=`${o}`,i&&(i=E({case:e.enumsCase,stripLeadingSeparators:false,value:i}),Ce.lastIndex=0,Ce.test(i)&&(e.enums==="typescript"||e.enums==="typescript+namespace")&&(i=`_${i}`)),{comments:_e({schema:s}),key:i,value:s.const}}),typeofItems:r}},Io=({$ref:e,context:t,plugin:r,schema:n,state:s})=>{let a=t.file({id:k}).identifier({$ref:e,create:true,namespace:"type"});if(!a.created&&!gn(e)&&r.enums!=="typescript+namespace")return;let i=se({context:t,plugin:r,schema:{...n,type:void 0},state:s});if(i)return p.typeAliasDeclaration({comment:_e({schema:n}),exportType:true,name:a.name||"",type:i})},Yc=({plugin:e,schema:t})=>!Ao({plugin:e,schema:t}).typeofItems.filter(n=>n!=="number"&&n!=="string").length,Jc=({$ref:e,context:t,plugin:r,schema:n,state:s})=>{let o=Ao({plugin:r,schema:n});if(!Yc({plugin:r,schema:n}))return Io({$ref:e,context:t,plugin:r,schema:n,state:s});let i=t.file({id:k}).identifier({$ref:e,create:true,namespace:"enum"});return p.enumDeclaration({leadingComment:_e({schema:n}),name:i.name||"",obj:o.obj})},By=({context:e,namespace:t,plugin:r,schema:n,state:s})=>{if(!n.items)return p.typeArrayNode(p.keywordTypeNode({keyword:"unknown"}));n=be({schema:n});let o=[];for(let a of n.items){let i=se({context:e,namespace:t,plugin:r,schema:a,state:s});i&&o.push(i);}if(o.length)return o.length===1?p.typeArrayNode(o[0]):n.logicalOperator==="and"?p.typeArrayNode(p.typeIntersectionNode({types:o})):p.typeArrayNode(p.typeUnionNode({types:o}))},_y=({schema:e})=>e.const!==void 0?p.literalTypeNode({literal:p.ots.boolean(e.const)}):p.keywordTypeNode({keyword:"boolean"}),Ly=({$ref:e,context:t,namespace:r,plugin:n,schema:s,state:o})=>{let a=t.file({id:k}),i=e?gn(e):false,c=i||!!n.exportInlineEnums;if(e&&c){if(!n.enums){let l=Io({$ref:e,context:t,plugin:n,schema:s,state:o});l&&a.add(l);}if(n.enums==="javascript"){let l=Io({$ref:e,context:t,plugin:n,schema:s,state:o});l&&a.add(l);let f=Fy({$ref:e,context:t,plugin:n,schema:s});f&&a.add(f);}if(n.enums==="typescript"){let l=Jc({$ref:e,context:t,plugin:n,schema:s,state:o});l&&a.add(l);}if(n.enums==="typescript+namespace"){let l=Jc({$ref:e,context:t,plugin:n,schema:s,state:o});l&&(i?a.add(l):r.push(l));}}return se({context:t,plugin:n,schema:{...s,type:void 0},state:o})},Hy=({context:e,schema:t})=>t.const!==void 0?p.literalTypeNode({literal:p.ots.number(t.const)}):t.type==="integer"&&t.format==="int64"&&e.config.plugins["@hey-api/transformers"]?.bigInt?p.typeReferenceNode({typeName:"bigint"}):p.keywordTypeNode({keyword:"number"}),Vy=({context:e,namespace:t,plugin:r,schema:n,state:s})=>{let o,a,i=[],c=[],m=n.required??[],l=false,f=false;for(let u in n.properties){let d=n.properties[u];if(My({schema:d,state:s})){f=true;continue}let g=se({$ref:s?[...s.path,u].join("/"):`${ir}${u}`,context:e,namespace:t,plugin:r,schema:d,state:s});if(!g)continue;let R=m.includes(u);i.push({comment:_e({schema:d}),isReadOnly:d.accessScope==="read",isRequired:R,name:Xc({context:e,name:u}),type:g}),c.push(d),R||(l=true);}if(n.additionalProperties&&(n.additionalProperties.type!=="never"||!c.length)&&(n.additionalProperties.type==="never"?c=[n.additionalProperties]:c.unshift(n.additionalProperties),l&&c.push({type:"undefined"}),a={isRequired:!n.propertyNames,name:"key",type:se({context:e,namespace:t,plugin:r,schema:c.length===1?c[0]:{items:c,logicalOperator:"or"},state:s})},n.propertyNames&&n.propertyNames.$ref&&(o=re(n.propertyNames.$ref))),!(f&&!i.length&&!a))return p.typeInterfaceNode({indexKey:o,indexProperty:a,properties:i,useLegacyResolution:false})},Ky=({context:e,schema:t})=>{if(t.const!==void 0)return p.literalTypeNode({literal:p.stringLiteral({text:t.const})});if(t.format){if(t.format==="binary")return p.typeUnionNode({types:[p.typeReferenceNode({typeName:"Blob"}),p.typeReferenceNode({typeName:"File"})]});if((t.format==="date-time"||t.format==="date")&&e.config.plugins["@hey-api/transformers"]?.dates)return p.typeReferenceNode({typeName:"Date"})}return p.keywordTypeNode({keyword:"string"})},Wy=({context:e,namespace:t,plugin:r,schema:n,state:s})=>{let o=[];if(n.const&&Array.isArray(n.const))o=n.const.map(a=>p.valueToExpression({value:a})??p.identifier({text:"unknown"}));else if(n.items)for(let a of n.items){let i=se({context:e,namespace:t,plugin:r,schema:a,state:s});i&&o.push(i);}if(o.length)return p.typeTupleNode({types:o})},Zc=({$ref:e,context:t,namespace:r,plugin:n,schema:s,state:o})=>{switch(s.type){case "array":return By({context:t,namespace:r,plugin:n,schema:s,state:o});case "boolean":return _y({schema:s});case "enum":return Ly({$ref:e,context:t,namespace:r,plugin:n,schema:s,state:o});case "integer":case "number":return Hy({context:t,schema:s});case "never":return p.keywordTypeNode({keyword:"never"});case "null":return p.literalTypeNode({literal:p.null()});case "object":return Vy({context:t,namespace:r,plugin:n,schema:s,state:o});case "string":return Ky({context:t,schema:s});case "tuple":return Wy({context:t,namespace:r,plugin:n,schema:s,state:o});case "undefined":return p.keywordTypeNode({keyword:"undefined"});case "unknown":return p.keywordTypeNode({keyword:"unknown"});case "void":return p.keywordTypeNode({keyword:"void"})}},Co=({parameters:e})=>{let t={type:"object"};if(e){let r={},n=[];for(let s in e){let o=e[s];r[o.name]=be({schema:o.schema}),o.required&&n.push(o.name);}t.properties=r,n.length&&(t.required=n);}return t},Uy=({context:e,operation:t,plugin:r})=>{let n=e.file({id:k}),s={type:"object"},o=[];s.properties||(s.properties={}),t.body?(s.properties.body=t.body.schema,t.body.required&&o.push("body")):s.properties.body={type:"never"},t.parameters?.header&&(s.properties.headers=Co({parameters:t.parameters.header}),s.properties.headers.required&&o.push("headers")),t.parameters?.path?(s.properties.path=Co({parameters:t.parameters.path}),s.properties.path.required&&o.push("path")):s.properties.path={type:"never"},t.parameters?.query?(s.properties.query=Co({parameters:t.parameters.query}),s.properties.query.required&&o.push("query")):s.properties.query={type:"never"},s.properties.url={const:t.path,type:"string"},o.push("url"),s.required=o;let a=n.identifier({$ref:M({config:e.config,id:t.id,type:"data"}),create:true,namespace:"type"}),i=se({context:e,plugin:r,schema:s,state:r.readOnlyWriteOnlyBehavior==="off"?{path:[t.method,t.path,"data"]}:{accessScope:"write",path:[t.method,t.path,"data"]}});if(i){let c=p.typeAliasDeclaration({exportType:true,name:a.name||"",type:i});n.add(c);}},zy=({context:e,operation:t,plugin:r})=>{Uy({context:e,operation:t,plugin:r});let n=e.file({id:k}),{error:s,errors:o,response:a,responses:i}=Qe(t);if(o){let c=n.identifier({$ref:M({config:e.config,id:t.id,type:"errors"}),create:true,namespace:"type"});if(c.name){let m=se({context:e,plugin:r,schema:o,state:r.readOnlyWriteOnlyBehavior==="off"?{path:[t.method,t.path,"errors"]}:{accessScope:"read",path:[t.method,t.path,"errors"]}});if(m){let l=p.typeAliasDeclaration({exportType:true,name:c.name,type:m});n.add(l);}if(s){let l=n.identifier({$ref:M({config:e.config,id:t.id,type:"error"}),create:true,namespace:"type"});if(l.name){let f=p.typeReferenceNode({typeName:c.name}),u=b__default.default.factory.createTypeOperatorNode(b__default.default.SyntaxKind.KeyOfKeyword,f),d=p.typeAliasDeclaration({exportType:true,name:l.name,type:p.indexedAccessTypeNode({indexType:u,objectType:f})});n.add(d);}}}}if(i){let c=n.identifier({$ref:M({config:e.config,id:t.id,type:"responses"}),create:true,namespace:"type"});if(c.name){let m=se({context:e,plugin:r,schema:i,state:r.readOnlyWriteOnlyBehavior==="off"?{path:[t.method,t.path,"responses"]}:{accessScope:"read",path:[t.method,t.path,"responses"]}});if(m){let l=p.typeAliasDeclaration({exportType:true,name:c.name,type:m});n.add(l);}if(a){let l=n.identifier({$ref:M({config:e.config,id:t.id,type:"response"}),create:true,namespace:"type"});if(l.name){let f=p.typeReferenceNode({typeName:c.name}),u=b__default.default.factory.createTypeOperatorNode(b__default.default.SyntaxKind.KeyOfKeyword,f),d=p.typeAliasDeclaration({exportType:true,name:l.name,type:p.indexedAccessTypeNode({indexType:u,objectType:f})});n.add(d);}}}}},em=({schema:e})=>{let t=e.accessScopes;return t!==void 0&&t.length>1},Po=({accessScope:e,schema:t})=>{let r=t.accessScopes;return !r||r!==void 0&&(r.includes(e)||r.includes("both"))},se=({$ref:e,context:t,namespace:r=[],plugin:n,schema:s,state:o})=>{let a=t.file({id:k}),i;if(s.$ref){let c=t.resolveIrRef(s.$ref);if(!o?.accessScope||Po({accessScope:o.accessScope,schema:c})){let m=To({$ref:s.$ref,accessScope:em({schema:c})?o?.accessScope:void 0,plugin:n}),l=a.identifier({$ref:m,create:true,namespace:c.type==="enum"&&(n.enums==="typescript"||n.enums==="typescript+namespace")&&Yc({plugin:n,schema:c})?"enum":"type"});i=p.typeReferenceNode({typeName:l.name||""});}}else if(s.type)i=Zc({$ref:e,context:t,namespace:r,plugin:n,schema:s,state:o});else if(s.items)if(s=be({schema:s}),s.items){let c=[];for(let m of s.items){let l=se({context:t,namespace:r,plugin:n,schema:m,state:o});l&&c.push(l);}i=s.logicalOperator==="and"?p.typeIntersectionNode({types:c}):p.typeUnionNode({types:c});}else i=se({context:t,namespace:r,plugin:n,schema:s,state:o});else i=Zc({context:t,namespace:r,plugin:n,schema:{type:"unknown"},state:o});if(e&&gn(e)){if(r.length){let c=a.identifier({$ref:e,create:true,namespace:"value"}),m=p.namespaceDeclaration({name:c.name||"",statements:r});a.add(m);}if(s.type!=="enum"&&i){let c=a.identifier({$ref:e,create:true,namespace:"type"}),m=p.typeAliasDeclaration({comment:_e({schema:s}),exportType:true,name:c.name||"",type:i});a.add(m);}}return i},tm=({context:e,plugin:t})=>{let n=e.createFile({exportFromIndex:t.exportFromIndex,id:k,identifierCase:t.identifierCase,path:t.output}).identifier({$ref:"ClientOptions",create:true,namespace:"type"});e.subscribe("schema",({$ref:o,schema:a})=>{if(t.readOnlyWriteOnlyBehavior==="off"||!em({schema:a})){se({$ref:o,context:e,plugin:t,schema:a,state:{path:[]}});return}Po({accessScope:"read",schema:a})&&se({$ref:To({$ref:o,accessScope:"read",plugin:t}),context:e,plugin:t,schema:a,state:{accessScope:"read",path:[]}}),Po({accessScope:"write",schema:a})&&se({$ref:To({$ref:o,accessScope:"write",plugin:t}),context:e,plugin:t,schema:a,state:{accessScope:"write",path:[]}});}),e.subscribe("parameter",({$ref:o,parameter:a})=>{se({$ref:o,context:e,plugin:t,schema:a.schema,state:{path:[]}});}),e.subscribe("requestBody",({$ref:o,requestBody:a})=>{se({$ref:o,context:e,plugin:t,schema:a.schema,state:t.readOnlyWriteOnlyBehavior==="off"?{path:[]}:{accessScope:"write",path:[]}});}),e.subscribe("operation",({operation:o})=>{zy({context:e,operation:o,plugin:t});});let s=[];e.subscribe("server",({server:o})=>{s.push(o);}),e.subscribe("after",()=>{Gc({context:e,identifier:n,servers:s});});};var Eo={_handler:tm,_handlerLegacy:Vc,enums:false,enumsCase:"SCREAMING_SNAKE_CASE",enumsConstantsIgnoreNull:false,exportFromIndex:true,exportInlineEnums:false,identifierCase:"PascalCase",name:"@hey-api/typescript",output:"types",readOnlyWriteOnlyBehavior:"split",readableNameBuilder:"{{name}}Readable",style:"preserve",tree:false,writableNameBuilder:"{{name}}Writable"};var wt=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name});return Hr({context:e,file:n,operation:t})},ss=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name}),o={asType:true,name:Be({context:e,file:n,operation:t,type:"error"}).name||""};if(o.name||(o=n.import({asType:true,module:r.name,name:"DefaultError"})),A(e.config).name==="@hey-api/client-axios"){let i=n.import({asType:true,module:"axios",name:"AxiosError"});o={...i,name:`${i.name}<${o.name}>`};}return o},os=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name});return Be({context:e,file:n,operation:t,type:"response"}).name||"unknown"};var nm="createQueryKey",as="QueryKey",Vr="TOptions",rm=p.identifier({text:"infinite"}),is=p.identifier({text:"options"}),ps=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=r.identifier({$ref:`#/ir/${nm}`,create:true,namespace:"value"});if(n.name){let s=p.indexedAccessTypeNode({indexType:p.literalTypeNode({literal:p.ots.number(0)}),objectType:p.typeReferenceNode({typeArguments:[p.typeReferenceNode({typeName:Vr})],typeName:as})}),o=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"id",type:p.typeReferenceNode({typeName:"string"})},{isRequired:false,name:"options",type:p.typeReferenceNode({typeName:Vr})},{isRequired:false,name:"infinite",type:p.typeReferenceNode({typeName:"boolean"})}],returnType:p.typeTupleNode({types:[s]}),statements:[p.constVariable({assertion:s,expression:p.objectExpression({multiLine:false,obj:[{key:"_id",value:p.identifier({text:"id"})},{key:he(e.config),value:p.identifier({text:`(options?.client ?? _heyApiClient).getConfig().${he(e.config)}`})}]}),name:"params",typeName:s}),p.ifStatement({expression:rm,thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"_infinite"}),right:rm})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:is,isOptional:true,name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.propertyAccessExpression({expression:"options",name:"body"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:is,isOptional:true,name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:is,isOptional:true,name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.propertyAccessExpression({expression:"options",name:"path"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:is,isOptional:true,name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.propertyAccessExpression({expression:"options",name:"query"})})})]})}),p.returnStatement({expression:p.arrayLiteralExpression({elements:[p.identifier({text:"params"})]})})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:U.Options.name})}),name:Vr}]}),name:n.name});r.add(o);}},Qy=({context:e,id:t,isInfinite:r,plugin:n})=>{let o=e.file({id:n.name}).identifier({$ref:`#/ir/${nm}`,namespace:"value"});return p.callExpression({functionName:o.name||"",parameters:[p.ots.string(t),"options",r?p.ots.boolean(true):void 0]})},cs=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=[{name:"_id",type:p.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:p.keywordTypeNode({keyword:"boolean"})}],s=p.typeAliasDeclaration({exportType:true,name:as,type:p.typeTupleNode({types:[p.typeIntersectionNode({types:[p.typeReferenceNode({typeName:`Pick<${Vr}, '${he(e.config)}' | 'body' | 'headers' | 'path' | 'query'>`}),p.typeInterfaceNode({properties:n,useLegacyResolution:true})]})]}),typeParameters:[{extends:p.typeReferenceNode({typeName:p.identifier({text:U.Options.name})}),name:Vr}]});r.add(s);},vo=({context:e,operation:t,plugin:r})=>{let n=Q({config:e.config,id:t.id,operation:t}),s="";return r.infiniteQueryKeyNameBuilder&&(typeof r.infiniteQueryKeyNameBuilder=="function"?s=r.infiniteQueryKeyNameBuilder(n):s=r.infiniteQueryKeyNameBuilder.replace("{{name}}",n)),s},jo=({context:e,operation:t,plugin:r})=>{let n=Q({config:e.config,id:t.id,operation:t}),s="";return r.queryKeyNameBuilder&&(typeof r.queryKeyNameBuilder=="function"?s=r.queryKeyNameBuilder(n):s=r.queryKeyNameBuilder.replace("{{name}}",n)),s},ms=({context:e,isInfinite:t,operation:r,plugin:n,typeQueryKey:s})=>{let o=e.file({id:n.name}),a=wt({context:e,operation:r,plugin:n}),i=t?vo({context:e,operation:r,plugin:n}):jo({context:e,operation:r,plugin:n}),c=o.identifier({$ref:`#/queryKey/${i}`,create:true,namespace:"value"});return p.constVariable({exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:bn(r),name:"options",type:a}],returnType:t?s:void 0,statements:Qy({context:e,id:r.id,isInfinite:t,plugin:n})}),name:c.name||""})};var om="createInfiniteParams",sm="infiniteQueryOptions",Gy=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:p.typeReferenceNode({typeName:`QueryKey<${U.Options.name}>`})},{name:"page",type:p.typeReferenceNode({typeName:"K"})}],statements:[p.constVariable({expression:p.objectExpression({obj:[{spread:p.propertyAccessExpression({expression:"queryKey",name:0})}]}),name:"params"}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].path"},{assertion:"any",spread:"page.path"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].query"},{assertion:"any",spread:"page.query"}]})})})]})}),p.returnVariable({expression:p.asExpression({expression:p.asExpression({expression:p.identifier({text:"params"}),type:p.keywordTypeNode({keyword:"unknown"})}),type:b__default.default.factory.createTypeQueryNode(p.identifier({text:"page"}))})})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:`Pick<QueryKey<${U.Options.name}>[0], 'body' | 'headers' | 'path' | 'query'>`})}),name:"K"}]}),name:om});r.add(n);},Jy=({context:e,operation:t,plugin:r})=>{let n=Q({config:e.config,id:t.id,operation:t}),s="";return r.infiniteQueryOptionsNameBuilder&&(typeof r.infiniteQueryOptionsNameBuilder=="function"?s=r.infiniteQueryOptionsNameBuilder(n):s=r.infiniteQueryOptionsNameBuilder.replace("{{name}}",n)),s},im=({context:e,operation:t,plugin:r,queryFn:n,state:s})=>{if(!r.infiniteQueryOptions||!["get","post"].includes(t.method))return s;let o=aa({context:e,operation:t});if(!o)return s;let a=e.file({id:r.name}),i=Ut({context:e,operation:t});s.hasInfiniteQueries||(s.hasInfiniteQueries=true,s.hasCreateQueryKeyParamsFunction||(cs({context:e,plugin:r}),ps({context:e,plugin:r}),s.hasCreateQueryKeyParamsFunction=true),s.hasCreateInfiniteParamsFunction||(Gy({context:e,plugin:r}),s.hasCreateInfiniteParamsFunction=true),a.import({module:r.name,name:sm}),s.typeInfiniteData=a.import({asType:true,module:r.name,name:"InfiniteData"})),s.hasUsedQueryFn=true;let c=wt({context:e,operation:t,plugin:r}),m=ss({context:e,operation:t,plugin:r}),l=os({context:e,operation:t,plugin:r}),f=`${as}<${c}>`,u=`Pick<${f}[0], 'body' | 'headers' | 'path' | 'query'>`,d=se({context:e,plugin:e.config.plugins["@hey-api/typescript"],schema:o.schema,state:void 0}),y=d?`${Ve({node:d,unescape:true})} | ${u}`:`${u}`,g=ms({context:e,isInfinite:true,operation:t,plugin:r,typeQueryKey:f});a.add(g);let R=vo({context:e,operation:t,plugin:r}),O=a.identifier({$ref:`#/queryKey/${R}`,namespace:"value"}),j=p.awaitExpression({expression:p.callExpression({functionName:n,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),P=[p.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:p.conditionalExpression({condition:p.binaryExpression({left:p.typeOfExpression({text:"pageParam"}),operator:"===",right:p.ots.string("object")}),whenFalse:p.objectExpression({multiLine:true,obj:[{key:o.in,value:p.objectExpression({multiLine:true,obj:[{key:o.name,value:p.identifier({text:"pageParam"})}]})}]}),whenTrue:p.identifier({text:"pageParam"})}),name:"page",typeName:u}),p.constVariable({expression:p.callExpression({functionName:om,parameters:["queryKey","page"]}),name:"params"})];e.config.plugins["@hey-api/sdk"]?.responseStyle==="data"?P.push(p.returnVariable({expression:j})):P.push(p.constVariable({destructure:true,expression:j,name:"data"}),p.returnVariable({expression:"data"}));let $=p.constVariable({comment:r.comments?xt({operation:t}):void 0,exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:i,name:"options",type:c}],statements:[p.returnFunctionCall({args:[p.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:P})},{key:"queryKey",value:p.callExpression({functionName:O.name||"",parameters:["options"]})}]})],name:sm,types:[l,m.name,`${typeof s.typeInfiniteData=="string"?s.typeInfiniteData:s.typeInfiniteData.name}<${l}>`,f,y]})]}),name:Jy({context:e,operation:t,plugin:r})});a.add($);};var am="mutationOptions",Zy=({context:e,operation:t,plugin:r})=>{let n=Q({config:e.config,id:t.id,operation:t}),s="";return r.mutationOptionsNameBuilder&&(typeof r.mutationOptionsNameBuilder=="function"?s=r.mutationOptionsNameBuilder(n):s=r.mutationOptionsNameBuilder.replace("{{name}}",n)),s},pm=({context:e,operation:t,plugin:r,queryFn:n,state:s})=>{if(!r.mutationOptions||!["delete","patch","post","put"].includes(t.method))return s;let o=r.name==="@tanstack/angular-query-experimental"||r.name==="@tanstack/svelte-query"||r.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",a=e.file({id:r.name});s.hasMutations||(s.hasMutations=true,a.import({asType:true,module:r.name,name:o})),s.hasUsedQueryFn=true;let i=wt({context:e,operation:t,plugin:r}),c=ss({context:e,operation:t,plugin:r}),m=os({context:e,operation:t,plugin:r}),l=`${o}<${m}, ${c.name}, ${i}>`,f=p.awaitExpression({expression:p.callExpression({functionName:n,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"localOptions"},{key:"throwOnError",value:true}]})]})}),u=[];e.config.plugins["@hey-api/sdk"]?.responseStyle==="data"?u.push(p.returnVariable({expression:f})):u.push(p.constVariable({destructure:true,expression:f,name:"data"}),p.returnVariable({expression:"data"}));let d=p.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${i}>`}],returnType:l,statements:[p.constVariable({expression:p.objectExpression({obj:[{key:"mutationFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{name:"localOptions"}],statements:u})}]}),name:am,typeName:l}),p.returnVariable({expression:am})]}),y=p.constVariable({comment:r.comments?xt({operation:t}):void 0,exportConst:true,expression:d,name:Zy({context:e,operation:t,plugin:r})});return a.add(y),s};var cm="queryOptions",Yy=({context:e,operation:t,plugin:r})=>{let n=Q({config:e.config,id:t.id,operation:t}),s="";return r.queryOptionsNameBuilder&&(typeof r.queryOptionsNameBuilder=="function"?s=r.queryOptionsNameBuilder(n):s=r.queryOptionsNameBuilder.replace("{{name}}",n)),s},mm=({context:e,operation:t,plugin:r,queryFn:n,state:s})=>{if(!r.queryOptions||!["get","post"].includes(t.method))return s;let o=e.file({id:r.name}),a=Ut({context:e,operation:t});s.hasQueries||(s.hasQueries=true,s.hasCreateQueryKeyParamsFunction||(cs({context:e,plugin:r}),ps({context:e,plugin:r}),s.hasCreateQueryKeyParamsFunction=true),o.import({module:r.name,name:cm})),s.hasUsedQueryFn=true;let i=ms({context:e,isInfinite:false,operation:t,plugin:r});o.add(i);let c=wt({context:e,operation:t,plugin:r}),m=jo({context:e,operation:t,plugin:r}),l=o.identifier({$ref:`#/queryKey/${m}`,namespace:"value"}),f=p.awaitExpression({expression:p.callExpression({functionName:n,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),u=[];e.config.plugins["@hey-api/sdk"]?.responseStyle==="data"?u.push(p.returnVariable({expression:f})):u.push(p.constVariable({destructure:true,expression:f,name:"data"}),p.returnVariable({expression:"data"}));let d=p.constVariable({comment:r.comments?xt({operation:t}):void 0,exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:a,name:"options",type:c}],statements:[p.returnFunctionCall({args:[p.objectExpression({obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:u})},{key:"queryKey",value:p.callExpression({functionName:l.name||"",parameters:["options"]})}]})],name:cm})]}),name:Yy({context:e,operation:t,plugin:r})});return o.add(d),s};var ot=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:t.name,path:t.output}),n={hasCreateInfiniteParamsFunction:false,hasCreateQueryKeyParamsFunction:false,hasInfiniteQueries:false,hasMutations:false,hasQueries:false,hasUsedQueryFn:false,typeInfiniteData:void 0};e.subscribe("before",()=>{r.import({...U.Options,module:r.relativePathToFile({context:e,id:ye})});}),e.subscribe("operation",({operation:s})=>{n.hasUsedQueryFn=false;let o=e.config.plugins["@hey-api/sdk"],a=o?.asClass?es({context:e,operation:s,plugin:o}):void 0,i=a?a.values().next().value:void 0,c=(i?[i.path[0],...i.path.slice(1).map(m=>E({case:"camelCase",value:m})),i.methodName].filter(Boolean):[Q({config:e.config,handleIllegal:true,id:s.id,operation:s})]).join(".");mm({context:e,operation:s,plugin:t,queryFn:c,state:n}),im({context:e,operation:s,plugin:t,queryFn:c,state:n}),pm({context:e,operation:s,plugin:t,queryFn:c,state:n}),n.hasUsedQueryFn&&r.import({module:r.relativePathToFile({context:e,id:ye}),name:c.split(".")[0]});}),e.subscribe("after",()=>{(n.hasQueries||n.hasInfiniteQueries)&&r.import({alias:"_heyApiClient",module:r.relativePathToFile({context:e,id:He}),name:"client"});});};var eg=e=>`${Q({config:S(),id:e.name,operation:e})}InfiniteOptions`,tg=e=>`${Q({config:S(),id:e.name,operation:e})}Mutation`,rg=({config:e,id:t,operation:r})=>`${Q({config:e,id:t,operation:r})}Options`,ls=({config:e,id:t,isInfinite:r,operation:n})=>`${Q({config:e,id:t,operation:n})}${r?"Infinite":""}QueryKey`,ng=e=>{switch(e.in){case "formData":return "body";case "header":return "headers";default:return e.in}},sg="createInfiniteParams",bm="createQueryKey",lm="infiniteQueryOptions",fm="mutationOptions",No="QueryKey",um="queryOptions",Wr="TOptions",og=({file:e})=>{let t=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:p.typeNode(`QueryKey<${U.OptionsLegacyParser.name}>`)},{name:"page",type:p.typeNode("K")}],statements:[p.constVariable({expression:p.identifier({text:"queryKey[0]"}),name:"params"}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].path"},{spread:"page.path"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].query"},{spread:"page.query"}]})})})]})}),p.returnVariable({expression:b__default.default.factory.createAsExpression(b__default.default.factory.createAsExpression(p.identifier({text:"params"}),b__default.default.factory.createKeywordTypeNode(b__default.default.SyntaxKind.UnknownKeyword)),b__default.default.factory.createTypeQueryNode(p.identifier({text:"page"})))})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:`Pick<QueryKey<${U.OptionsLegacyParser.name}>[0], 'body' | 'headers' | 'path' | 'query'>`})}),name:"K"}]}),name:sg});e.add(t);},dm=({file:e})=>{let t=p.indexedAccessTypeNode({indexType:p.typeNode(0),objectType:p.typeNode(No,[p.typeNode(Wr)])}),r=p.identifier({text:"infinite"}),n=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"id",type:p.typeNode("string")},{isRequired:false,name:"options",type:p.typeNode(Wr)},{isRequired:false,name:"infinite",type:p.typeNode("boolean")}],returnType:t,statements:[p.constVariable({assertion:t,expression:p.objectExpression({multiLine:false,obj:[{key:"_id",value:p.identifier({text:"id"})},{key:he(S()),value:p.identifier({text:`(options?.client ?? _heyApiClient).getConfig().${he(S())}`})}]}),name:"params",typeName:t}),p.ifStatement({expression:r,thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"_infinite"}),right:r})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.propertyAccessExpression({expression:"options",name:"body"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.propertyAccessExpression({expression:"options",name:"path"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.propertyAccessExpression({expression:"options",name:"query"})})})]})}),p.returnVariable({expression:"params"})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:U.OptionsLegacyParser.name})}),name:Wr}]}),name:bm});e.add(n);},ym=({file:e})=>{let t=[{name:"_id",type:p.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:p.keywordTypeNode({keyword:"boolean"})}],r=p.typeAliasDeclaration({name:No,type:p.typeTupleNode({types:[p.typeIntersectionNode({types:[p.typeReferenceNode({typeName:`Pick<${Wr}, '${he(S())}' | 'body' | 'headers' | 'path' | 'query'>`}),p.typeInterfaceNode({properties:t,useLegacyResolution:true})]})]}),typeParameters:[{extends:p.typeReferenceNode({typeName:p.identifier({text:U.OptionsLegacyParser.name})}),name:Wr}]});e.add(r);},ko=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:s}=zt({client:e,meta:r.parameters.length?{$ref:r.name,name:r.name}:void 0,nameTransformer:Qt,onImport:a=>{t.import({asType:true,module:n,name:a});}});return {typeData:Oo({importedType:s})}},gm=({client:e,file:t,operation:r,pluginName:n,typesModulePath:s})=>{let o=S(),{name:a}=zt({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:Tr,onImport:m=>{t.import({asType:true,module:s,name:m});}}),i={asType:true,name:a};if(i.name||(i=t.import({asType:true,module:n,name:"DefaultError"})),A(o).name==="@hey-api/client-axios"){let m=t.import({asType:true,module:"axios",name:"AxiosError"});i={...m,name:`${m.name}<${i.name}>`};}return {typeError:i}},hm=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:s}=zt({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:st,onImport:a=>{t.import({asType:true,module:n,name:a});}});return {typeResponse:s||"void"}},xm=({id:e,isInfinite:t})=>p.arrayLiteralExpression({elements:[p.callExpression({functionName:bm,parameters:[p.ots.string(e),"options",t?p.ots.boolean(true):void 0]})],multiLine:false}),it=({client:e,files:t,plugin:r})=>{let n=S();if(D(n))throw new Error("TanStack Query plugin does not support legacy clients");let s=t[r.name];s.import({...U.OptionsLegacyParser,module:te({config:n,sourceOutput:r.output})});let o=Gt({moduleOutput:t.types.nameWithoutExtension(),sourceOutput:r.output}),a=r.name==="@tanstack/angular-query-experimental"||r.name==="@tanstack/svelte-query"||r.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",i,c=false,m=false,l=false,f=false,u=false,d=new Map;for(let y of e.services)for(let g of y.operations){let R=q(g);if(d.has(R))continue;d.set(R,true);let O=[n.plugins["@hey-api/sdk"]?.asClass&&jt({config:n,name:y.name}),Q({config:n,handleIllegal:!n.plugins["@hey-api/sdk"]?.asClass,id:g.name,operation:g})].filter(Boolean).join("."),j=false;if(r.queryOptions&&["GET","POST"].includes(g.method)){u||(u=true,m||(ym({file:s}),dm({file:s}),m=true),s.import({module:r.name,name:um})),j=true;let{typeData:P}=ko({client:e,file:s,operation:g,typesModulePath:o}),$=rt(g.parameters),L=p.constVariable({exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:$,name:"options",type:P}],statements:xm({id:g.name})}),name:ls({config:n,id:g.name,operation:g})});s.add(L);let ee=p.constVariable({comment:[],exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:$,name:"options",type:P}],statements:[p.returnFunctionCall({args:[p.objectExpression({obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:[p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:O,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})},{key:"queryKey",value:p.callExpression({functionName:ls({config:n,id:g.name,operation:g}),parameters:["options"]})}]})],name:um})]}),name:rg({config:n,id:g.name,operation:g})});s.add(ee);}if(r.infiniteQueryOptions&&["GET","POST"].includes(g.method)){let P,$=g.parameters.find(L=>{if(Oe(n.input.pagination).test(L.name))return P=L,true;if(L.in==="body"){if(L.export==="reference"){let at=L.$refs[0];return e.models.find(Rt=>Rt.meta?.$ref===at)?.properties.find(Rt=>{if(Oe(n.input.pagination).test(Rt.name))return P=Rt,true})}return L.properties.find(at=>{if(Oe(n.input.pagination).test(at.name))return P=at,true})}});if($&&P){l||(l=true,m||(ym({file:s}),dm({file:s}),m=true),c||(og({file:s}),c=true),s.import({module:r.name,name:lm}),i=s.import({asType:true,module:r.name,name:"InfiniteData"})),j=true;let{typeData:L}=ko({client:e,file:s,operation:g,typesModulePath:o}),{typeError:ee}=gm({client:e,file:s,operation:g,pluginName:r.name,typesModulePath:o}),{typeResponse:at}=hm({client:e,file:s,operation:g,typesModulePath:o}),Gr=rt(g.parameters),Rt=`${No}<${L}>`,fs=`Pick<${Rt}[0], 'body' | 'headers' | 'path' | 'query'>`,xl=`${P.base} | ${fs}`,bl=p.constVariable({exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:Gr,name:"options",type:L}],returnType:Rt,statements:xm({id:g.name,isInfinite:true})}),name:ls({config:n,id:g.name,isInfinite:true,operation:g})});s.add(bl);let Ol=p.constVariable({comment:[],exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:Gr,name:"options",type:L}],statements:[p.returnFunctionCall({args:[p.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:[p.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:p.conditionalExpression({condition:p.binaryExpression({left:p.typeOfExpression({text:"pageParam"}),operator:"===",right:p.ots.string("object")}),whenFalse:p.objectExpression({multiLine:true,obj:[{key:ng($),value:p.objectExpression({multiLine:true,obj:[{key:P.name,value:p.identifier({text:"pageParam"})}]})}]}),whenTrue:p.identifier({text:"pageParam"})}),name:"page",typeName:fs}),p.constVariable({expression:p.callExpression({functionName:"createInfiniteParams",parameters:["queryKey","page"]}),name:"params"}),p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:O,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})},{key:"queryKey",value:p.callExpression({functionName:ls({config:n,id:g.name,isInfinite:true,operation:g}),parameters:["options"]})}]})],name:lm,types:[at,ee.name,`${typeof i=="string"?i:i.name}<${at}>`,Rt,xl]})]}),name:eg(g)});s.add(Ol);}}if(r.mutationOptions&&["DELETE","PATCH","POST","PUT"].includes(g.method)){f||(f=true,s.import({asType:true,module:r.name,name:a})),j=true;let{typeData:P}=ko({client:e,file:s,operation:g,typesModulePath:o}),{typeError:$}=gm({client:e,file:s,operation:g,pluginName:r.name,typesModulePath:o}),{typeResponse:L}=hm({client:e,file:s,operation:g,typesModulePath:o}),ee=p.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${P}>`}],statements:[p.constVariable({expression:p.objectExpression({obj:[{key:"mutationFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{name:"localOptions"}],statements:[p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:O,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"localOptions"},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})}]}),name:fm,typeName:`${a}<${L}, ${$.name}, ${P}>`}),p.returnVariable({expression:fm})]}),at=p.constVariable({comment:[],exportConst:true,expression:ee,name:tg(g)});s.add(at);}(u||l)&&s.import({alias:"_heyApiClient",module:Gt({moduleOutput:t.client.nameWithoutExtension(),sourceOutput:r.output}),name:"client"}),j&&s.import({module:Gt({moduleOutput:t.sdk.nameWithoutExtension(),sourceOutput:r.output}),name:O.split(".")[0]});}};var qo={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:ot,_handlerLegacy:it,comments:true,exportFromIndex:false,infiniteQueryKeyNameBuilder:"{{name}}InfiniteQueryKey",infiniteQueryOptions:true,infiniteQueryOptionsNameBuilder:"{{name}}InfiniteOptions",mutationOptions:true,mutationOptionsNameBuilder:"{{name}}Mutation",name:"@tanstack/angular-query-experimental",output:"@tanstack/angular-query-experimental",queryKeyNameBuilder:"{{name}}QueryKey",queryOptions:true,queryOptionsNameBuilder:"{{name}}Options"};var wo={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:ot,_handlerLegacy:it,comments:true,exportFromIndex:false,infiniteQueryKeyNameBuilder:"{{name}}InfiniteQueryKey",infiniteQueryOptions:true,infiniteQueryOptionsNameBuilder:"{{name}}InfiniteOptions",mutationOptions:true,mutationOptionsNameBuilder:"{{name}}Mutation",name:"@tanstack/react-query",output:"@tanstack/react-query",queryKeyNameBuilder:"{{name}}QueryKey",queryOptions:true,queryOptionsNameBuilder:"{{name}}Options"};var $o={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:ot,_handlerLegacy:it,comments:true,exportFromIndex:false,infiniteQueryKeyNameBuilder:"{{name}}InfiniteQueryKey",infiniteQueryOptions:true,infiniteQueryOptionsNameBuilder:"{{name}}InfiniteOptions",mutationOptions:true,mutationOptionsNameBuilder:"{{name}}Mutation",name:"@tanstack/solid-query",output:"@tanstack/solid-query",queryKeyNameBuilder:"{{name}}QueryKey",queryOptions:true,queryOptionsNameBuilder:"{{name}}Options"};var Do={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:ot,_handlerLegacy:it,comments:true,exportFromIndex:false,infiniteQueryKeyNameBuilder:"{{name}}InfiniteQueryKey",infiniteQueryOptions:true,infiniteQueryOptionsNameBuilder:"{{name}}InfiniteOptions",mutationOptions:true,mutationOptionsNameBuilder:"{{name}}Mutation",name:"@tanstack/svelte-query",output:"@tanstack/svelte-query",queryKeyNameBuilder:"{{name}}QueryKey",queryOptions:true,queryOptionsNameBuilder:"{{name}}Options"};var Mo={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:ot,_handlerLegacy:it,comments:true,exportFromIndex:false,infiniteQueryKeyNameBuilder:"{{name}}InfiniteQueryKey",infiniteQueryOptions:true,infiniteQueryOptionsNameBuilder:"{{name}}InfiniteOptions",mutationOptions:true,mutationOptionsNameBuilder:"{{name}}Mutation",name:"@tanstack/vue-query",output:"@tanstack/vue-query",queryKeyNameBuilder:"{{name}}QueryKey",queryOptions:true,queryOptionsNameBuilder:"{{name}}Options"};var Om="fastify",ig=({context:e,operation:t})=>{let r=e.file({id:Om}),n=e.file({id:k}),s=[],o=n.identifier({$ref:M({config:e.config,id:t.id,type:"data"}),namespace:"type"});o.name&&(t.body&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:o.name}),s.push({isRequired:t.body.required,name:"Body",type:`${o.name}['body']`})),t.parameters&&(t.parameters.header&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:o.name}),s.push({isRequired:It(t.parameters.header),name:"Headers",type:`${o.name}['headers']`})),t.parameters.path&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:o.name}),s.push({isRequired:It(t.parameters.path),name:"Params",type:`${o.name}['path']`})),t.parameters.query&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:o.name}),s.push({isRequired:It(t.parameters.query),name:"Querystring",type:`${o.name}['query']`}))));let{errors:a,responses:i}=Qe(t),c,m=n.identifier({$ref:M({config:e.config,id:t.id,type:"errors"}),namespace:"type"});if(m.name&&a&&a.properties){let y=Object.keys(a.properties);if(y.length){if(!y.includes("default"))r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:m.name}),c=p.typeReferenceNode({typeName:m.name});else if(y.length>1){r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:m.name});let R=p.typeReferenceNode({typeName:m.name}),O=p.literalTypeNode({literal:p.stringLiteral({text:"default"})});c=p.typeReferenceNode({typeArguments:[R,O],typeName:"Omit"});}}}let l,f=n.identifier({$ref:M({config:e.config,id:t.id,type:"responses"}),namespace:"type"});if(f.name&&i&&i.properties){let y=Object.keys(i.properties);if(y.length){if(!y.includes("default"))r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:f.name}),l=p.typeReferenceNode({typeName:f.name});else if(y.length>1){r.import({asType:true,module:r.relativePathToFile({context:e,id:k}),name:f.name});let R=p.typeReferenceNode({typeName:f.name}),O=p.literalTypeNode({literal:p.stringLiteral({text:"default"})});l=p.typeReferenceNode({typeArguments:[R,O],typeName:"Omit"});}}}let u=[c,l].filter(Boolean);return u.length&&s.push({name:"Reply",type:p.typeIntersectionNode({types:u})}),s.length?{name:t.id,type:p.typeNode("RouteHandler",[p.typeInterfaceNode({properties:s,useLegacyResolution:false})])}:void 0},Rm=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:Om,path:t.output}),n=[];e.subscribe("operation",({operation:s})=>{let o=ig({context:e,operation:s});o&&n.push(o);}),e.subscribe("after",()=>{let s=r.identifier({$ref:"RouteHandlers",create:true,namespace:"type"});s.name&&(n.length&&r.import({asType:true,module:"fastify",name:"RouteHandler"}),r.add(p.typeAliasDeclaration({exportType:true,name:s.name,type:p.typeInterfaceNode({properties:n,useLegacyResolution:false})})));});};var Fo={_dependencies:["@hey-api/typescript"],_handler:Rm,_handlerLegacy:()=>{},exportFromIndex:false,name:"fastify",output:"fastify"};var _o=e=>`v-${e}`,Ot=e=>e.length===1?e[0]:p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.methods.pipe}),parameters:e}),ag=({context:e,plugin:t,result:r,schema:n})=>{let s=p.propertyAccessExpression({expression:h.v,name:h.schemas.array}),o;if(!n.items)o=p.callExpression({functionName:s,parameters:[zr({schema:{}})]});else {n=be({schema:n});let a=n.items.map(i=>{let c=qe({context:e,plugin:t,result:r,schema:i});return Ot(c)});a.length===1?o=p.callExpression({functionName:s,parameters:a}):(n.logicalOperator,o=p.callExpression({functionName:s,parameters:[zr({schema:{}})]}));}return n.minItems===n.maxItems&&n.minItems!==void 0?o=p.callExpression({functionName:p.propertyAccessExpression({expression:o,name:h.actions.length}),parameters:[p.valueToExpression({value:n.minItems})]}):(n.minItems!==void 0&&(o=p.callExpression({functionName:p.propertyAccessExpression({expression:o,name:p.identifier({text:"min"})}),parameters:[p.valueToExpression({value:n.minItems})]})),n.maxItems!==void 0&&(o=p.callExpression({functionName:p.propertyAccessExpression({expression:o,name:p.identifier({text:"max"})}),parameters:[p.valueToExpression({value:n.maxItems})]}))),o},pg=({schema:e})=>typeof e.const=="boolean"?p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.literal}),parameters:[p.ots.boolean(e.const)]}):p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.boolean})}),cg=({context:e,schema:t})=>{let r=[],n=false;for(let o of t.items??[])o.type==="string"&&typeof o.const=="string"?r.push(p.stringLiteral({text:o.const})):(o.type==="null"||o.const===null)&&(n=true);if(!r.length)return zr({schema:{}});let s=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.picklist}),parameters:[p.arrayLiteralExpression({elements:r,multiLine:false})]});return n&&(s=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.nullable}),parameters:[s]})),s},mg=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.never})}),lg=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.null})}),Ur=({isBigInt:e,value:t})=>{let r=p.valueToExpression({value:t});return e&&(typeof t=="bigint"||typeof t=="number"||typeof t=="string"||typeof t=="boolean")?p.callExpression({functionName:"BigInt",parameters:[r]}):r},fg=({schema:e})=>{let t=e.type==="integer"&&e.format==="int64";if(typeof e.const=="number")return p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.literal}),parameters:[p.ots.number(e.const)]});let r=[],n=p.callExpression({functionName:t?p.propertyAccessExpression({expression:h.v,name:h.schemas.bigInt}):p.propertyAccessExpression({expression:h.v,name:h.schemas.number})});if(r.push(n),!t&&e.type==="integer"){let s=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.integer})});r.push(s);}if(e.exclusiveMinimum!==void 0){let s=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.gtValue}),parameters:[Ur({isBigInt:t,value:e.exclusiveMinimum})]});r.push(s);}else if(e.minimum!==void 0){let s=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.minValue}),parameters:[Ur({isBigInt:t,value:e.minimum})]});r.push(s);}if(e.exclusiveMaximum!==void 0){let s=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.ltValue}),parameters:[Ur({isBigInt:t,value:e.exclusiveMaximum})]});r.push(s);}else if(e.maximum!==void 0){let s=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.maxValue}),parameters:[Ur({isBigInt:t,value:e.maximum})]});r.push(s);}return Ot(r)},ug=({context:e,plugin:t,result:r,schema:n})=>{let s=[],o=n.required??[];for(let i in n.properties){let c=n.properties[i],m=o.includes(i),l=qe({context:e,optional:!m,plugin:t,result:r,schema:c});Ce.lastIndex=0;let f;Ce.test(i)?f=i.startsWith("-")?b__default.default.factory.createStringLiteral(i):b__default.default.factory.createNumericLiteral(i):f=i,(i.match(/^[0-9]/)&&i.match(/\D+/g)||i.match(/\W/g))&&!i.startsWith("'")&&!i.endsWith("'")&&(f=`'${i}'`),s.push(p.propertyAssignment({initializer:Ot(l),name:f}));}let a=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.object}),parameters:[b__default.default.factory.createObjectLiteralExpression(s,true)]});return {anyType:h.types.GenericSchema.text,expression:a}},dg=({schema:e})=>{if(typeof e.const=="string")return p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.literal}),parameters:[p.ots.string(e.const)]});let t=[],r=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.string})});if(t.push(r),e.format)switch(e.format){case "date":t.push(p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.isoDate})}));break;case "date-time":t.push(p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.isoDateTime})}));break;case "ipv4":case "ipv6":t.push(p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.ip})}));break;case "uri":t.push(p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.url})}));break;case "email":case "time":case "uuid":t.push(p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:p.identifier({text:e.format})})}));break}if(e.minLength===e.maxLength&&e.minLength!==void 0){let n=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.length}),parameters:[p.valueToExpression({value:e.minLength})]});t.push(n);}else {if(e.minLength!==void 0){let n=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.minLength}),parameters:[p.valueToExpression({value:e.minLength})]});t.push(n);}if(e.maxLength!==void 0){let n=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.maxLength}),parameters:[p.valueToExpression({value:e.maxLength})]});t.push(n);}}if(e.pattern){let n=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.regex}),parameters:[p.regularExpressionLiteral({text:e.pattern})]});t.push(n);}return Ot(t)},yg=({context:e,plugin:t,result:r,schema:n})=>{if(n.const&&Array.isArray(n.const)){let s=n.const.map(a=>p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.literal}),parameters:[p.valueToExpression({value:a})]}));return p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.tuple}),parameters:[p.arrayLiteralExpression({elements:s})]})}if(n.items){let s=n.items.map(a=>{let i=qe({context:e,plugin:t,result:r,schema:a});return Ot(i)});return p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.tuple}),parameters:[p.arrayLiteralExpression({elements:s})]})}return zr({schema:{}})},gg=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.undefined})}),zr=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.unknown})}),hg=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.void})}),Sm=({context:e,plugin:t,result:r,schema:n})=>{switch(n.type){case "array":return {expression:ag({context:e,plugin:t,result:r,schema:n})};case "boolean":return {expression:pg({schema:n})};case "enum":return {expression:cg({context:e,schema:n})};case "integer":case "number":return {expression:fg({schema:n})};case "never":return {expression:mg({schema:n})};case "null":return {expression:lg({schema:n})};case "object":return ug({context:e,plugin:t,result:r,schema:n});case "string":return {expression:dg({schema:n})};case "tuple":return {expression:yg({context:e,plugin:t,result:r,schema:n})};case "undefined":return {expression:gg({schema:n})};case "unknown":return {expression:zr({schema:n})};case "void":return {expression:hg({schema:n})}}},xg=({context:e,operation:t,plugin:r,result:n})=>{if(t.body&&qe({$ref:M({case:"camelCase",config:e.config,id:t.id,type:"data"}),context:e,plugin:r,result:n,schema:t.body.schema}),t.parameters)for(let s in t.parameters){let o=t.parameters[s];for(let a in o){let i=o[a];qe({$ref:M({case:"camelCase",config:e.config,id:t.id,parameterId:i.name,type:"parameter"}),context:e,plugin:r,result:n,schema:i.schema});}}if(t.responses){let{response:s}=Qe(t);s&&qe({$ref:M({case:"camelCase",config:e.config,id:t.id,type:"response"}),context:e,plugin:r,result:n,schema:s});}},qe=({$ref:e,context:t,optional:r,plugin:n,result:s,schema:o})=>{let a=t.file({id:Sr}),i,c,m=[];if(e&&(s.circularReferenceTracker.add(e),c=a.identifier({$ref:e,create:true,nameTransformer:_o,namespace:"value"})),o.$ref){let l=s.circularReferenceTracker.has(o.$ref),f=a.identifier({$ref:o.$ref,nameTransformer:_o,namespace:"value"});if(!f.name){let u=t.resolveIrRef(o.$ref),d=qe({$ref:o.$ref,context:t,plugin:n,result:s,schema:u});m.push(...d),f=a.identifier({$ref:o.$ref,nameTransformer:_o,namespace:"value"});}if(f.name){let u=p.identifier({text:f.name});if(l){let d=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.lazy}),parameters:[p.arrowFunction({statements:[p.returnStatement({expression:u})]})]});m.push(d),s.hasCircularReference=true;}else m.push(u);}}else if(o.type){let l=Sm({context:t,plugin:n,result:s,schema:o});i=l.anyType,m.push(l.expression);}else if(o.items)if(o=be({schema:o}),o.items){let l=o.items.map(f=>{let u=qe({context:t,plugin:n,result:s,schema:f});return Ot(u)});if(o.logicalOperator==="and"){let f=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.intersect}),parameters:[p.arrayLiteralExpression({elements:l})]});m.push(f);}else {let f=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.union}),parameters:[p.arrayLiteralExpression({elements:l})]});m.push(f);}}else {let l=qe({context:t,plugin:n,result:s,schema:o});m.push(...l);}else {let l=Sm({context:t,plugin:n,result:s,schema:{type:"unknown"}});i=l.anyType,m.push(l.expression);}if(e&&s.circularReferenceTracker.delete(e),m.length&&o.accessScope==="read"){let l=p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.actions.readonly})});m.push(l);}if(m.length){let l;if(o.default!==void 0){let f=o.type==="integer"&&o.format==="int64";l=Ur({isBigInt:f,value:o.default}),l&&(m=[p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.optional}),parameters:[Ot(m),l]})]);}r&&!l&&(m=[p.callExpression({functionName:p.propertyAccessExpression({expression:h.v,name:h.schemas.optional}),parameters:[Ot(m)]})]);}if(c&&c.name&&c.created){let l=p.constVariable({comment:n.comments?_e({schema:o}):void 0,exportConst:true,expression:Ot(m),name:c.name,typeName:s.hasCircularReference?p.propertyAccessExpression({expression:h.v,name:i||h.types.GenericSchema.text}):void 0});return a.add(l),[]}return m},Cm=({context:e,plugin:t})=>{e.createFile({exportFromIndex:t.exportFromIndex,id:Sr,identifierCase:"camelCase",path:t.output}).import({alias:h.v.text,module:"valibot",name:"*"}),e.subscribe("operation",({operation:n})=>{xg({context:e,operation:n,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false}});}),e.subscribe("parameter",({$ref:n,parameter:s})=>{qe({$ref:n,context:e,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:s.schema});}),e.subscribe("requestBody",({$ref:n,requestBody:s})=>{qe({$ref:n,context:e,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:s.schema});}),e.subscribe("schema",({$ref:n,schema:s})=>{qe({$ref:n,context:e,plugin:t,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:s});});};var Lo={_handler:Cm,_handlerLegacy:()=>{},_tags:["validator"],comments:true,exportFromIndex:false,name:"valibot",output:"valibot"};var Ho={_handler:jc,_handlerLegacy:()=>{},_tags:["validator"],comments:true,exportFromIndex:false,metadata:false,name:"zod",output:"zod"};var Qr={"@hey-api/client-axios":eo,"@hey-api/client-fetch":to,"@hey-api/client-next":ro,"@hey-api/client-nuxt":no,"@hey-api/schemas":fo,"@hey-api/sdk":Ro,"@hey-api/transformers":So,"@hey-api/typescript":Eo,"@tanstack/angular-query-experimental":qo,"@tanstack/react-query":wo,"@tanstack/solid-query":$o,"@tanstack/svelte-query":Do,"@tanstack/vue-query":Mo,fastify:Fo,"legacy/angular":so,"legacy/axios":oo,"legacy/fetch":io,"legacy/node":ao,"legacy/xhr":po,valibot:Lo,zod:Ho};var Vo=["@hey-api/typescript","@hey-api/sdk"],Xr={enabled:false,interval:1e3,timeout:6e4},Rg=e=>{let t={path:"",validate_EXPERIMENTAL:false,watch:Xr};return typeof e.input=="string"?t.path=e.input:e.input&&(e.input.path!==void 0||e.input.organization!==void 0)?(t={...t,path:"https://get.heyapi.dev",...e.input},t.watch!==void 0&&(t.watch=Tm(t))):t={...t,path:e.input},t.validate_EXPERIMENTAL===true&&(t.validate_EXPERIMENTAL="warn"),e.watch!==void 0&&t.watch.enabled===Xr.enabled&&t.watch.interval===Xr.interval&&t.watch.timeout===Xr.timeout&&(t.watch=Tm({path:t.path,watch:e.watch})),t},Sg=({pluginConfigs:e,userPlugins:t,userPluginsConfig:r})=>{let n=new Set,s=new Set,o={},a=i=>{if(n.has(i))throw new Error(`Circular reference detected at '${i}'`);if(!s.has(i)){if(n.add(i),!e[i])throw new Error(`unknown plugin dependency "${i}" - do you need to register a custom plugin with this name?`);let m=Qr[i],l=r[i];if(l&&m){let u=Object.keys(l).find(d=>d.startsWith("_"));if(u)throw new Error(`cannot register plugin "${i}" - attempting to override a native plugin option "${u}"`)}let f={_dependencies:[],...m,...l};if(f._infer){let u={ensureDependency:d=>{typeof d=="string"&&!f._dependencies.includes(d)&&(f._dependencies=[...f._dependencies,d]);},pluginByTag:({defaultPlugin:d,errorMessage:y,tag:g})=>{for(let R of t){let O=Qr[R]||e[R];if(O&&O._tags?.includes(g)&&R!==i)return R}if(d){let R=Qr[d]||e[d];if(R&&R._tags?.includes(g)&&d!==i)return d}throw new Error(y||`missing plugin - no plugin with tag "${g}" found`)}};f._infer(f,u);}for(let u of f._dependencies)a(u);n.delete(i),s.add(i),o[i]=f;}};for(let i of t)a(i);return {pluginOrder:Array.from(s),plugins:o}},Cg=e=>{let t={clean:true,format:false,indexFile:true,lint:false,path:"",tsConfigPath:""};return typeof e.output=="string"?t.path=e.output:t={...t,...e.output},t},Tg=e=>typeof e=="string"?e.startsWith("@hey-api/client")||e.startsWith("legacy/"):e.name.startsWith("@hey-api/client")||e.name.startsWith("legacy/")||e._tags&&e._tags.includes("client"),Ig=e=>{let t={},r=Vo;e.plugins&&(e.plugins=e.plugins.filter(s=>typeof s=="string"&&s||typeof s!="string"&&s.name),e.plugins.length===1&&Tg(e.plugins[0])?r=[...Vo,...e.plugins]:r=e.plugins);let n=r.map(s=>typeof s=="string"?s:(s.name&&(t[s.name]=s),s.name)).filter(Boolean);return Sg({pluginConfigs:{...t,...Qr},userPlugins:n,userPluginsConfig:t})},Tm=e=>{let t={...Xr};return typeof e.path!="string"||(typeof e.watch=="boolean"?t.enabled=e.watch:typeof e.watch=="number"?(t.enabled=true,t.interval=e.watch):e.watch&&(t={...t,...e.watch})),t},Pg=(e,t)=>({...e||{},...t||{}}),Im=(e,t)=>{let r=e||{},n=t||{},s={...r,...n};return typeof s.logs=="object"&&(s.logs=Pg(r.logs,n.logs)),s},Pm=async e=>{let t;if(e?.configFile){let o=e.configFile.split(".");t=o.slice(0,o.length-1).join(".");}let{config:r}=await c12.loadConfig({configFile:t,name:"openapi-ts"}),n=Array.isArray(e)?e:Array.isArray(r)?r.map(o=>Im(o,e)):[Im(r,e)],s=[];for(let o of n){let{base:a,configFile:i="",dryRun:c=false,experimentalParser:m=true,exportCore:l=true,name:f,request:u,useOptions:d=true}=o,y=[],g=Xn(o);g.level==="debug"&&console.warn("userConfig:",o);let R=Rg(o),O=Cg(o);R.path||y.push(new Error("missing input - which OpenAPI specification should we use to generate your output?")),O.path||y.push(new Error("missing output - where should we generate your output?")),d||console.warn("\u2757\uFE0F Deprecation warning: useOptions set to false. This setting will be removed in future versions. Please migrate useOptions to true https://heyapi.dev/openapi-ts/migrating.html#v0-27-38"),O.path=X__default.default.resolve(process.cwd(),O.path);let j;try{j=Ig(o);}catch($){y.push($),j={pluginOrder:[],plugins:{}};}let P=Uo({...j,base:a,configFile:i,dryRun:c,experimentalParser:m,exportCore:false,input:R,logs:g,name:f,output:O,request:u,useOptions:d});P.exportCore=D(P)?l:false,g.level==="debug"&&console.warn("config:",P),s.push({config:P,errors:y});}return s};var Am={1:function(e,t,r,n,s){return `import { NgModule} from '@angular/core';
import { HttpClientModule } from '@angular/common/http';

import { AngularHttpRequest } from './core/AngularHttpRequest';
import { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { OpenAPI } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
`},3:function(e,t,r,n,s){var o,a=e.strict,i=e.lambda;return `import type { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
import { `+((o=i(a(t,"httpRequest",{start:{line:14,column:12},end:{line:14,column:23}}),t))!=null?o:"")+" } from './core/"+((o=i(a(t,"httpRequest",{start:{line:14,column:45},end:{line:14,column:56}}),t))!=null?o:"")+`';
`},5:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return (o=a(r,"each").call(t??(e.nullContext||{}),a(t,"services"),{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s,loc:{start:{line:18,column:0},end:{line:20,column:9}}}))!=null?o:""},6:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return "import { "+((o=a(r,"transformServiceName").call(t??(e.nullContext||{}),a(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:19,column:9},end:{line:19,column:40}}}))!=null?o:"")+` } from './sdk.gen';
`},8:function(e,t,r,n,s){var o,a=e.strict,i=e.lambda,c=e.lookupProperty||function(m,l){if(Object.prototype.hasOwnProperty.call(m,l))return m[l]};return `@NgModule({
	imports: [HttpClientModule],
	providers: [
		{
			provide: OpenAPI,
			useValue: {
				BASE: OpenAPI?.BASE ?? '`+((o=i(a(t,"server",{start:{line:30,column:31},end:{line:30,column:37}}),t))!=null?o:"")+`',
				VERSION: OpenAPI?.VERSION ?? '`+((o=i(a(t,"version",{start:{line:31,column:37},end:{line:31,column:44}}),t))!=null?o:"")+`',
				WITH_CREDENTIALS: OpenAPI?.WITH_CREDENTIALS ?? false,
				CREDENTIALS: OpenAPI?.CREDENTIALS ?? 'include',
				TOKEN: OpenAPI?.TOKEN,
				USERNAME: OpenAPI?.USERNAME,
				PASSWORD: OpenAPI?.PASSWORD,
				HEADERS: OpenAPI?.HEADERS,
				ENCODE_PATH: OpenAPI?.ENCODE_PATH,
				interceptors: {
					response: OpenAPI?.interceptors?.response ?? new Interceptors(),
				},
			} as OpenAPIConfig,
		},
		{
			provide: BaseHttpRequest,
			useClass: AngularHttpRequest,
		},
`+((o=c(r,"each").call(t??(e.nullContext||{}),c(t,"services"),{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s,loc:{start:{line:48,column:2},end:{line:50,column:11}}}))!=null?o:"")+`	]
})
export class `+((o=i(a(c(c(s,"root"),"$config"),"name",{start:{line:53,column:16},end:{line:53,column:34}}),t))!=null?o:"")+` {}
`},9:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return "		"+((o=a(r,"transformServiceName").call(t??(e.nullContext||{}),a(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:49,column:2},end:{line:49,column:33}}}))!=null?o:"")+`,
`},11:function(e,t,r,n,s){var o,a=e.strict,i=e.lambda,c=t??(e.nullContext||{}),m=e.lookupProperty||function(l,f){if(Object.prototype.hasOwnProperty.call(l,f))return l[f]};return `type HttpRequestConstructor = new (config: OpenAPIConfig) => BaseHttpRequest;

export class `+((o=i(a(m(m(s,"root"),"$config"),"name",{start:{line:57,column:16},end:{line:57,column:34}}),t))!=null?o:"")+` {

`+((o=m(r,"each").call(c,m(t,"services"),{name:"each",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s,loc:{start:{line:59,column:1},end:{line:61,column:10}}}))!=null?o:"")+`
	public readonly request: BaseHttpRequest;

	constructor(config?: Partial<OpenAPIConfig>, HttpRequest: HttpRequestConstructor = `+((o=i(a(t,"httpRequest",{start:{line:65,column:87},end:{line:65,column:98}}),t))!=null?o:"")+`) {
		this.request = new HttpRequest({
			BASE: config?.BASE ?? '`+((o=i(a(t,"server",{start:{line:67,column:29},end:{line:67,column:35}}),t))!=null?o:"")+`',
			VERSION: config?.VERSION ?? '`+((o=i(a(t,"version",{start:{line:68,column:35},end:{line:68,column:42}}),t))!=null?o:"")+`',
			WITH_CREDENTIALS: config?.WITH_CREDENTIALS ?? false,
			CREDENTIALS: config?.CREDENTIALS ?? 'include',
			TOKEN: config?.TOKEN,
			USERNAME: config?.USERNAME,
			PASSWORD: config?.PASSWORD,
			HEADERS: config?.HEADERS,
			ENCODE_PATH: config?.ENCODE_PATH,
			interceptors: {
				request: config?.interceptors?.request ?? new Interceptors(),
				response: config?.interceptors?.response ?? new Interceptors(),
      },
		});

`+((o=m(r,"each").call(c,m(t,"services"),{name:"each",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s,loc:{start:{line:82,column:2},end:{line:84,column:11}}}))!=null?o:"")+`	}
}
`},12:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return "	public readonly "+((o=i(r,"camelCase").call(a,i(t,"name"),{name:"camelCase",hash:{},data:s,loc:{start:{line:60,column:17},end:{line:60,column:37}}}))!=null?o:"")+": "+((o=i(r,"transformServiceName").call(a,i(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:60,column:39},end:{line:60,column:70}}}))!=null?o:"")+`;
`},14:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return "		this."+((o=i(r,"camelCase").call(a,i(t,"name"),{name:"camelCase",hash:{},data:s,loc:{start:{line:83,column:7},end:{line:83,column:27}}}))!=null?o:"")+" = new "+((o=i(r,"transformServiceName").call(a,i(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:83,column:34},end:{line:83,column:65}}}))!=null?o:"")+`(this.request);
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:15,column:11}}}))!=null?o:"")+`
`+((o=i(r,"if").call(a,i(t,"services"),{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:17,column:0},end:{line:21,column:7}}}))!=null?o:"")+`
`+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(8,s,0),inverse:e.program(11,s,0),data:s,loc:{start:{line:23,column:0},end:{line:87,column:11}}}))!=null?o:"")},useData:true};var Em={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Observable<HttpHeaders> => {
	return forkJoin({
		// @ts-ignore
		token: resolve(options, config.TOKEN),
		// @ts-ignore
		username: resolve(options, config.USERNAME),
		// @ts-ignore
		password: resolve(options, config.PASSWORD),
		// @ts-ignore
		additionalHeaders: resolve(options, config.HEADERS),
	}).pipe(
		map(({ token, username, password, additionalHeaders }) => {
			const headers = Object.entries({
				Accept: 'application/json',
				...additionalHeaders,
				...options.headers,
			})
				.filter(([, value]) => value !== undefined && value !== null)
				.reduce((headers, [key, value]) => ({
					...headers,
					[key]: String(value),
				}), {} as Record<string, string>);

			if (isStringWithValue(token)) {
				headers['Authorization'] = \`Bearer \${token}\`;
			}

			if (isStringWithValue(username) && isStringWithValue(password)) {
				const credentials = base64(\`\${username}:\${password}\`);
				headers['Authorization'] = \`Basic \${credentials}\`;
			}

			if (options.body !== undefined) {
				if (options.mediaType) {
					headers['Content-Type'] = options.mediaType;
				} else if (isBlob(options.body)) {
					headers['Content-Type'] = options.body.type || 'application/octet-stream';
				} else if (isString(options.body)) {
					headers['Content-Type'] = 'text/plain';
				} else if (!isFormData(options.body)) {
					headers['Content-Type'] = 'application/json';
				}
			}

			return new HttpHeaders(headers);
		}),
	);
};`},useData:true};var vm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var jm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = <T>(response: HttpResponse<T>): T | undefined => {
	if (response.status !== 204 && response.body !== null) {
		return response.body;
	}
	return undefined;
};`},useData:true};var km={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = <T>(response: HttpResponse<T>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const value = response.headers.get(responseHeader);
		if (isString(value)) {
			return value;
		}
	}
	return undefined;
};`},useData:true};var Nm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return `import { HttpClient, HttpHeaders } from '@angular/common/http';
import type { HttpResponse, HttpErrorResponse } from '@angular/common/http';
import { forkJoin, of, throwError } from 'rxjs';
import { catchError, map, switchMap } from 'rxjs/operators';
import type { Observable } from 'rxjs';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"angular/getHeaders"),t,{name:"angular/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"angular/getRequestBody"),t,{name:"angular/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"angular/sendRequest"),t,{name:"angular/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"angular/getResponseHeader"),t,{name:"angular/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"angular/getResponseBody"),t,{name:"angular/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param http The Angular HTTP client
 * @param options The request options from the service
 * @returns Observable<T>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, http: HttpClient, options: ApiRequestOptions<T>): Observable<T> => {
	const url = getUrl(config, options);
	const formData = getFormData(options);
	const body = getRequestBody(options);

	return getHeaders(config, options).pipe(
		switchMap(headers => {
			return sendRequest<T>(config, options, http, url, body, formData, headers);
		}),
		switchMap(async response => {
			for (const fn of config.interceptors.response._fns) {
				response = await fn(response);
			}
			const responseBody = getResponseBody(response);
			const responseHeader = getResponseHeader(response, options.responseHeader);

			let transformedBody = responseBody;
			if (options.responseTransformer && response.ok) {
				transformedBody = await options.responseTransformer(responseBody)
			}

			return {
				url,
				ok: response.ok,
				status: response.status,
				statusText: response.statusText,
				body: responseHeader ?? transformedBody,
			} as ApiResult;
		}),
		catchError((error: HttpErrorResponse) => {
			if (!error.status) {
				return throwError(() => error);
			}
			return of({
				url,
				ok: error.ok,
				status: error.status,
				statusText: error.statusText,
				body: error.error ?? error.statusText,
			} as ApiResult);
		}),
		map(result => {
			catchErrorCodes(options, result);
			return result.body as T;
		}),
		catchError((error: ApiError) => {
			return throwError(() => error);
		}),
	);
};`},usePartial:true,useData:true};var qm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const sendRequest = <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	http: HttpClient,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: HttpHeaders
): Observable<HttpResponse<T>> => {
	return http.request<T>(options.method, url, {
		headers,
		body: body ?? formData,
		withCredentials: config.WITH_CREDENTIALS,
		observe: 'response',
	});
};`},useData:true};var wm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';

export class ApiError extends Error {
	public readonly url: string;
	public readonly status: number;
	public readonly statusText: string;
	public readonly body: unknown;
	public readonly request: ApiRequestOptions;

	constructor(request: ApiRequestOptions, response: ApiResult, message: string) {
		super(message);

		this.name = 'ApiError';
		this.url = response.url;
		this.status = response.status;
		this.statusText = response.statusText;
		this.body = response.body;
		this.request = request;
	}
}`},useData:true};var $m={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export type ApiRequestOptions<T = unknown> = {
	readonly body?: any;
	readonly cookies?: Record<string, unknown>;
	readonly errors?: Record<number | string, string>;
	readonly formData?: Record<string, unknown> | any[] | Blob | File;
	readonly headers?: Record<string, unknown>;
	readonly mediaType?: string;
	readonly method:
		| 'DELETE'
		| 'GET'
		| 'HEAD'
		| 'OPTIONS'
		| 'PATCH'
		| 'POST'
		| 'PUT';
	readonly path?: Record<string, unknown>;
	readonly query?: Record<string, unknown>;
	readonly responseHeader?: string;
	readonly responseTransformer?: (data: unknown) => Promise<T>;
	readonly url: string;
};`},useData:true};var Dm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export type ApiResult<TData = any> = {
	readonly body: TData;
	readonly ok: boolean;
	readonly status: number;
	readonly statusText: string;
	readonly url: string;
};`},useData:true};var Mm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Record<string, string>> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
	.filter(([, value]) => value !== undefined && value !== null)
	.reduce((headers, [key, value]) => ({
		...headers,
		[key]: String(value),
	}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	} else if (options.formData !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		}
	}

	return headers;
};`},useData:true};var Fm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		return options.body;
	}
	return undefined;
};`},useData:true};var Bm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = (response: AxiosResponse<unknown>): unknown => {
	if (response.status !== 204) {
		return response.data;
	}
	return undefined;
};`},useData:true};var _m={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = (response: AxiosResponse<unknown>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers[responseHeader];
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var Lm={1:function(e,t,r,n,s){return "ApiResult<T>"},3:function(e,t,r,n,s){return "T"},5:function(e,t,r,n,s){return "result.body"},7:function(e,t,r,n,s){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return `import axios from 'axios';
import type { AxiosError, AxiosRequestConfig, AxiosResponse, AxiosInstance } from 'axios';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(i(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"axios/getHeaders"),t,{name:"axios/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"axios/getRequestBody"),t,{name:"axios/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"axios/sendRequest"),t,{name:"axios/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"axios/getResponseHeader"),t,{name:"axios/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"axios/getResponseBody"),t,{name:"axios/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @param axiosClient The axios client instance to use
 * @returns CancelablePromise<`+((o=i(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:64,column:30},end:{line:64,column:108}}}))!=null?o:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>, axiosClient: AxiosInstance = axios): CancelablePromise<`+((o=i(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:67,column:136},end:{line:67,column:214}}}))!=null?o:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest<T>(config, options, url, body, formData, headers, onCancel, axiosClient);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((o=i(r,"ifServicesResponse").call(a,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:100,column:12},end:{line:100,column:90}}}))!=null?o:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var Hm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const sendRequest = async <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: Record<string, string>,
	onCancel: OnCancel,
	axiosClient: AxiosInstance
): Promise<AxiosResponse<T>> => {
	const controller = new AbortController();

	let requestConfig: AxiosRequestConfig = {
		data: body ?? formData,
		headers,
		method: options.method,
		signal: controller.signal,
		url,
		withCredentials: config.WITH_CREDENTIALS,
	};

	onCancel(() => controller.abort());

	for (const fn of config.interceptors.request._fns) {
		requestConfig = await fn(requestConfig);
	}

	try {
		return await axiosClient.request(requestConfig);
	} catch (error) {
		const axiosError = error as AxiosError<T>;
		if (axiosError.response) {
			return axiosError.response;
		}
		throw error;
	}
};`},useData:true};var Vm={1:function(e,t,r,n,s){return `import type { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import type { OpenAPIConfig } from './OpenAPI';
`},3:function(e,t,r,n,s){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
`},5:function(e,t,r,n,s){return `	constructor(
		public readonly config: OpenAPIConfig,
		public readonly http: HttpClient,
	) {}
`},7:function(e,t,r,n,s){return `	constructor(public readonly config: OpenAPIConfig) {}
`},9:function(e,t,r,n,s){return `	public abstract request<T>(options: ApiRequestOptions<T>): Observable<T>;
`},11:function(e,t,r,n,s){return `	public abstract request<T>(options: ApiRequestOptions<T>): CancelablePromise<T>;
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:11,column:11}}}))!=null?o:"")+`
export abstract class BaseHttpRequest {

`+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:15,column:1},end:{line:22,column:12}}}))!=null?o:"")+`
`+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s,loc:{start:{line:24,column:1},end:{line:28,column:12}}}))!=null?o:"")+"}"},useData:true};var Km={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export class CancelError extends Error {
	constructor(message: string) {
		super(message);
		this.name = 'CancelError';
	}

	public get isCancelled(): boolean {
		return true;
	}
}

export interface OnCancel {
	readonly isResolved: boolean;
	readonly isRejected: boolean;
	readonly isCancelled: boolean;

	(cancelHandler: () => void): void;
}

export class CancelablePromise<T> implements Promise<T> {
	private _isResolved: boolean;
	private _isRejected: boolean;
	private _isCancelled: boolean;
	readonly cancelHandlers: (() => void)[];
	readonly promise: Promise<T>;
	private _resolve?: (value: T | PromiseLike<T>) => void;
	private _reject?: (reason?: unknown) => void;

	constructor(
		executor: (
			resolve: (value: T | PromiseLike<T>) => void,
			reject: (reason?: unknown) => void,
			onCancel: OnCancel
		) => void
	) {
		this._isResolved = false;
		this._isRejected = false;
		this._isCancelled = false;
		this.cancelHandlers = [];
		this.promise = new Promise<T>((resolve, reject) => {
			this._resolve = resolve;
			this._reject = reject;

			const onResolve = (value: T | PromiseLike<T>): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isResolved = true;
				if (this._resolve) this._resolve(value);
			};

			const onReject = (reason?: unknown): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isRejected = true;
				if (this._reject) this._reject(reason);
			};

			const onCancel = (cancelHandler: () => void): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this.cancelHandlers.push(cancelHandler);
			};

			Object.defineProperty(onCancel, 'isResolved', {
				get: (): boolean => this._isResolved,
			});

			Object.defineProperty(onCancel, 'isRejected', {
				get: (): boolean => this._isRejected,
			});

			Object.defineProperty(onCancel, 'isCancelled', {
				get: (): boolean => this._isCancelled,
			});

			return executor(onResolve, onReject, onCancel as OnCancel);
		});
	}

	get [Symbol.toStringTag]() {
		return "Cancellable Promise";
	}

	public then<TResult1 = T, TResult2 = never>(
		onFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,
		onRejected?: ((reason: unknown) => TResult2 | PromiseLike<TResult2>) | null
	): Promise<TResult1 | TResult2> {
		return this.promise.then(onFulfilled, onRejected);
	}

	public catch<TResult = never>(
		onRejected?: ((reason: unknown) => TResult | PromiseLike<TResult>) | null
	): Promise<T | TResult> {
		return this.promise.catch(onRejected);
	}

	public finally(onFinally?: (() => void) | null): Promise<T> {
		return this.promise.finally(onFinally);
	}

	public cancel(): void {
		if (this._isResolved || this._isRejected || this._isCancelled) {
			return;
		}
		this._isCancelled = true;
		if (this.cancelHandlers.length) {
			try {
				for (const cancelHandler of this.cancelHandlers) {
					cancelHandler();
				}
			} catch (error) {
				console.warn('Cancellation threw an error', error);
				return;
			}
		}
		this.cancelHandlers.length = 0;
		if (this._reject) this._reject(new CancelError('Request aborted'));
	}

	public get isCancelled(): boolean {
		return this._isCancelled;
	}
}`},useData:true};var Wm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var Um={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var zm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = async (response: Response): Promise<unknown> => {
	if (response.status !== 204) {
		try {
			const contentType = response.headers.get('Content-Type');
			if (contentType) {
				const binaryTypes = ['application/octet-stream', 'application/pdf', 'application/zip', 'audio/', 'image/', 'video/'];
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return await response.json();
				} else if (binaryTypes.some(type => contentType.includes(type))) {
					return await response.blob();
				} else if (contentType.includes('multipart/form-data')) {
					return await response.formData();
				} else if (contentType.includes('text/')) {
					return await response.text();
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var Qm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = (response: Response, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers.get(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var Xm={1:function(e,t,r,n,s){return `import fetch, { FormData, Headers } from 'node-fetch';
import type { RequestInit, Response } from 'node-fetch';

`},3:function(e,t,r,n,s){return "ApiResult<T>"},5:function(e,t,r,n,s){return "T"},7:function(e,t,r,n,s){return "result.body"},9:function(e,t,r,n,s){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:5,column:11}}}))!=null?o:"")+`import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(i(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"fetch/getRequestBody"),t,{name:"fetch/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"fetch/sendRequest"),t,{name:"fetch/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"fetch/getResponseHeader"),t,{name:"fetch/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"fetch/getResponseBody"),t,{name:"fetch/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((o=i(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s,loc:{start:{line:62,column:30},end:{line:62,column:108}}}))!=null?o:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((o=i(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s,loc:{start:{line:65,column:100},end:{line:65,column:178}}}))!=null?o:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = await getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && response.ok) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: response.ok,
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((o=i(r,"ifServicesResponse").call(a,"body",{name:"ifServicesResponse",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s,loc:{start:{line:98,column:12},end:{line:98,column:90}}}))!=null?o:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var Gm={1:function(e,t,r,n,s){return `	if (config.WITH_CREDENTIALS) {
		request.credentials = config.CREDENTIALS;
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<Response> => {
	const controller = new AbortController();

	let request: RequestInit = {
		headers,
		body: body ?? formData,
		method: options.method,
		signal: controller.signal,
	};

`+((o=a(r,"equals").call(t??(e.nullContext||{}),a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:19,column:1},end:{line:23,column:12}}}))!=null?o:"")+`
	for (const fn of config.interceptors.request._fns) {
		request = await fn(request);
	}

	onCancel(() => controller.abort());

	return await fetch(url, request);
};`},useData:true};var Jm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const base64 = (str: string): string => {
	try {
		return btoa(str);
	} catch (err) {
		// @ts-ignore
		return Buffer.from(str).toString('base64');
	}
};`},useData:true};var Zm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const catchErrorCodes = (options: ApiRequestOptions, result: ApiResult): void => {
	const errors: Record<number, string> = {
		400: 'Bad Request',
		401: 'Unauthorized',
		402: 'Payment Required',
		403: 'Forbidden',
		404: 'Not Found',
		405: 'Method Not Allowed',
		406: 'Not Acceptable',
		407: 'Proxy Authentication Required',
		408: 'Request Timeout',
		409: 'Conflict',
		410: 'Gone',
		411: 'Length Required',
		412: 'Precondition Failed',
		413: 'Payload Too Large',
		414: 'URI Too Long',
		415: 'Unsupported Media Type',
		416: 'Range Not Satisfiable',
		417: 'Expectation Failed',
		418: 'Im a teapot',
		421: 'Misdirected Request',
		422: 'Unprocessable Content',
		423: 'Locked',
		424: 'Failed Dependency',
		425: 'Too Early',
		426: 'Upgrade Required',
		428: 'Precondition Required',
		429: 'Too Many Requests',
		431: 'Request Header Fields Too Large',
		451: 'Unavailable For Legal Reasons',
		500: 'Internal Server Error',
		501: 'Not Implemented',
		502: 'Bad Gateway',
		503: 'Service Unavailable',
		504: 'Gateway Timeout',
		505: 'HTTP Version Not Supported',
		506: 'Variant Also Negotiates',
		507: 'Insufficient Storage',
		508: 'Loop Detected',
		510: 'Not Extended',
		511: 'Network Authentication Required',
		...options.errors,
	}

	const error = errors[result.status];
	if (error) {
		throw new ApiError(options, result, error);
	}

	if (!result.ok) {
		const errorStatus = result.status ?? 'unknown';
		const errorStatusText = result.statusText ?? 'unknown';
		const errorBody = (() => {
			try {
				return JSON.stringify(result.body, null, 2);
			} catch (e) {
				return undefined;
			}
		})();

		throw new ApiError(options, result,
			\`Generic Error: status: \${errorStatus}; status text: \${errorStatusText}; body: \${errorBody}\`
		);
	}
};`},useData:true};var Ym={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getFormData = (options: ApiRequestOptions): FormData | undefined => {
	if (options.formData) {
		const formData = new FormData();

		const process = (key: string, value: unknown) => {
			if (isString(value) || isBlob(value)) {
				formData.append(key, value);
			} else {
				formData.append(key, JSON.stringify(value));
			}
		};

		Object.entries(options.formData)
			.filter(([, value]) => value !== undefined && value !== null)
			.forEach(([key, value]) => {
				if (Array.isArray(value)) {
					value.forEach(v => process(key, v));
				} else {
					process(key, value);
				}
			});

		return formData;
	}
	return undefined;
};`},useData:true};var el={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getQueryString = (params: Record<string, unknown>): string => {
	const qs: string[] = [];

	const append = (key: string, value: unknown) => {
		qs.push(\`\${encodeURIComponent(key)}=\${encodeURIComponent(String(value))}\`);
	};

	const encodePair = (key: string, value: unknown) => {
		if (value === undefined || value === null) {
			return;
		}

		if (value instanceof Date) {
			append(key, value.toISOString());
		} else if (Array.isArray(value)) {
			value.forEach(v => encodePair(key, v));
		} else if (typeof value === 'object') {
			Object.entries(value).forEach(([k, v]) => encodePair(\`\${key}[\${k}]\`, v));
		} else {
			append(key, value);
		}
	};

	Object.entries(params).forEach(([key, value]) => encodePair(key, value));

	return qs.length ? \`?\${qs.join('&')}\` : '';
};`},useData:true};var tl={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `const getUrl = (config: OpenAPIConfig, options: ApiRequestOptions): string => {
	const encoder = config.ENCODE_PATH || encodeURI;

	const path = options.url
		.replace('{api-version}', config.VERSION)
		.replace(/{(.*?)}/g, (substring: string, group: string) => {
			if (options.path?.hasOwnProperty(group)) {
				return encoder(String(options.path[group]));
			}
			return substring;
		});

	const url = config.BASE + path;
	return options.query ? url + getQueryString(options.query) : url;
};`},useData:true};var rl={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isBlob = (value: any): value is Blob => {
	return value instanceof Blob;
};`},useData:true};var nl={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isFormData = (value: unknown): value is FormData => {
	return value instanceof FormData;
};`},useData:true};var sl={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isString = (value: unknown): value is string => {
	return typeof value === 'string';
};`},useData:true};var ol={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isStringWithValue = (value: unknown): value is string => {
	return isString(value) && value !== '';
};`},useData:true};var il={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isSuccess = (status: number): boolean => {
	return status >= 200 && status < 300;
};`},useData:true};var al={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export const resolve = async <T>(options: ApiRequestOptions<T>, resolver?: T | Resolver<T>): Promise<T | undefined> => {
	if (typeof resolver === 'function') {
		return (resolver as Resolver<T>)(options);
	}
	return resolver;
};`},useData:true};var pl={1:function(e,t,r,n,s){return `import { Inject, Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { OpenAPIConfig } from './OpenAPI';
import { OpenAPI } from './OpenAPI';
import { request as __request } from './request';
`},3:function(e,t,r,n,s){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
import { request as __request } from './request';
`},5:function(e,t,r,n,s){return `@Injectable()
`},7:function(e,t,r,n,s){return `	constructor(
		@Inject(OpenAPI)
		config: OpenAPIConfig,
		http: HttpClient,
	) {
		super(config, http);
	}
`},9:function(e,t,r,n,s){return `	constructor(config: OpenAPIConfig) {
		super(config);
	}
`},11:function(e,t,r,n,s){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns Observable<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): Observable<T> {
		return __request(this.config, this.http, options);
	}
`},13:function(e,t,r,n,s){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns CancelablePromise<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): CancelablePromise<T> {
		return __request(this.config, options);
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:17,column:11}}}))!=null?o:"")+`
`+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:19,column:0},end:{line:21,column:11}}}))!=null?o:"")+"export class "+((o=e.lambda(e.strict(t,"httpRequest",{start:{line:22,column:15},end:{line:22,column:26}}),t))!=null?o:"")+` extends BaseHttpRequest {

`+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s,loc:{start:{line:24,column:1},end:{line:36,column:12}}}))!=null?o:"")+`
`+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s,loc:{start:{line:38,column:1},end:{line:58,column:12}}}))!=null?o:"")+"}"},useData:true};var cl={1:function(e,t,r,n,s){return `import type { HttpResponse } from '@angular/common/http';
`},3:function(e,t,r,n,s){return `import type { AxiosRequestConfig, AxiosResponse } from 'axios';
`},5:function(e,t,r,n,s){return `import type { RequestInit, Response } from 'node-fetch';
`},7:function(e,t,r,n,s){return `		response: Interceptors<HttpResponse<any>>;
`},9:function(e,t,r,n,s){return `		request: Interceptors<AxiosRequestConfig>;
		response: Interceptors<AxiosResponse>;
`},11:function(e,t,r,n,s){return `		request: Interceptors<RequestInit>;
		response: Interceptors<Response>;
`},13:function(e,t,r,n,s){return `		request: Interceptors<XMLHttpRequest>;
		response: Interceptors<XMLHttpRequest>;
`},15:function(e,t,r,n,s){return `		request: new Interceptors(),
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.strict,c=e.lambda,m=e.lookupProperty||function(l,f){if(Object.prototype.hasOwnProperty.call(l,f))return l[f]};return ((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:3,column:11}}}))!=null?o:"")+((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s,loc:{start:{line:4,column:0},end:{line:6,column:11}}}))!=null?o:"")+((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:7,column:0},end:{line:9,column:11}}}))!=null?o:"")+`import type { ApiRequestOptions } from './ApiRequestOptions';

type Headers = Record<string, string>;
type Middleware<T> = (value: T) => T | Promise<T>;
type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export class Interceptors<T> {
  _fns: Middleware<T>[];

  constructor() {
    this._fns = [];
  }

  eject(fn: Middleware<T>): void {
    const index = this._fns.indexOf(fn);
    if (index !== -1) {
      this._fns = [...this._fns.slice(0, index), ...this._fns.slice(index + 1)];
    }
  }

  use(fn: Middleware<T>): void {
    this._fns = [...this._fns, fn];
  }
}

export type OpenAPIConfig = {
	BASE: string;
	CREDENTIALS: 'include' | 'omit' | 'same-origin';
	ENCODE_PATH?: ((path: string) => string) | undefined;
	HEADERS?: Headers | Resolver<Headers> | undefined;
	PASSWORD?: string | Resolver<string> | undefined;
	TOKEN?: string | Resolver<string> | undefined;
	USERNAME?: string | Resolver<string> | undefined;
	VERSION: string;
	WITH_CREDENTIALS: boolean;
	interceptors: {
`+((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s,loc:{start:{line:46,column:2},end:{line:48,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s,loc:{start:{line:49,column:2},end:{line:52,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s,loc:{start:{line:53,column:2},end:{line:56,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s,loc:{start:{line:57,column:2},end:{line:60,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s,loc:{start:{line:61,column:2},end:{line:64,column:13}}}))!=null?o:"")+`	};
};

export const OpenAPI: OpenAPIConfig = {
	BASE: '`+((o=c(i(t,"server",{start:{line:69,column:11},end:{line:69,column:17}}),t))!=null?o:"")+`',
	CREDENTIALS: 'include',
	ENCODE_PATH: undefined,
	HEADERS: undefined,
	PASSWORD: undefined,
	TOKEN: undefined,
	USERNAME: undefined,
	VERSION: '`+((o=c(i(t,"version",{start:{line:76,column:14},end:{line:76,column:21}}),t))!=null?o:"")+`',
	WITH_CREDENTIALS: false,
	interceptors: {
`+((o=m(r,"notEquals").call(a,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"notEquals",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s,loc:{start:{line:79,column:2},end:{line:81,column:16}}}))!=null?o:"")+`		response: new Interceptors(),
	},
};`},useData:true};var ml={1:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return (o=e.invokePartial(a(n,"angular/request"),t,{name:"angular/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},3:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return (o=e.invokePartial(a(n,"axios/request"),t,{name:"axios/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},5:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return (o=e.invokePartial(a(n,"fetch/request"),t,{name:"fetch/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},7:function(e,t,r,n,s){var o,a=e.lookupProperty||function(i,c){if(Object.prototype.hasOwnProperty.call(i,c))return i[c]};return (o=e.invokePartial(a(n,"xhr/request"),t,{name:"xhr/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:1,column:87}}}))!=null?o:"")+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s,loc:{start:{line:2,column:0},end:{line:2,column:83}}}))!=null?o:"")+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:3,column:0},end:{line:3,column:83}}}))!=null?o:"")+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:4,column:0},end:{line:4,column:82}}}))!=null?o:"")+((o=i(r,"equals").call(a,i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s,loc:{start:{line:5,column:0},end:{line:5,column:79}}}))!=null?o:"")},usePartial:true,useData:true};var ll={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var fl={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var ul={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = (xhr: XMLHttpRequest): unknown => {
	if (xhr.status !== 204) {
		try {
			const contentType = xhr.getResponseHeader('Content-Type');
			if (contentType) {
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return JSON.parse(xhr.responseText);
				} else {
					return xhr.responseText;
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var dl={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = (xhr: XMLHttpRequest, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = xhr.getResponseHeader(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var yl={1:function(e,t,r,n,s){return "ApiResult<T>"},3:function(e,t,r,n,s){return "T"},5:function(e,t,r,n,s){return "result.body"},7:function(e,t,r,n,s){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,a=t??(e.nullContext||{}),i=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return `import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(i(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"xhr/getRequestBody"),t,{name:"xhr/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"xhr/sendRequest"),t,{name:"xhr/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"xhr/getResponseHeader"),t,{name:"xhr/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"xhr/getResponseBody"),t,{name:"xhr/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((o=i(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:60,column:30},end:{line:60,column:108}}}))!=null?o:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((o=i(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:63,column:100},end:{line:63,column:178}}}))!=null?o:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((o=i(r,"ifServicesResponse").call(a,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:96,column:12},end:{line:96,column:90}}}))!=null?o:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var gl={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<XMLHttpRequest> => {
	let xhr = new XMLHttpRequest();
	xhr.open(options.method, url, true);
	xhr.withCredentials = config.WITH_CREDENTIALS;

	headers.forEach((value, key) => {
		xhr.setRequestHeader(key, value);
	});

	return new Promise<XMLHttpRequest>(async (resolve, reject) => {
		xhr.onload = () => resolve(xhr);
		xhr.onabort = () => reject(new Error('Request aborted'));
		xhr.onerror = () => reject(new Error('Network error'));

		for (const fn of config.interceptors.request._fns) {
			xhr = await fn(xhr);
		}

		xhr.send(body ?? formData);

		onCancel(() => xhr.abort());
	});
};`},useData:true};var Ag=()=>{x__default.default.registerHelper("camelCase",function(e){return E({case:"camelCase",value:e})}),x__default.default.registerHelper("equals",function(e,t,r){return e===t?r.fn(this):r.inverse(this)}),x__default.default.registerHelper("ifServicesResponse",function(e,t){return S().plugins["@hey-api/sdk"]?.response===e?t.fn(this):t.inverse(this)}),x__default.default.registerHelper("ifdef",function(...e){let t=e.pop();return e.every(r=>!r)?t.inverse(this):t.fn(this)}),x__default.default.registerHelper("notEquals",function(e,t,r){return e!==t?r.fn(this):r.inverse(this)}),x__default.default.registerHelper("transformServiceName",function(e){return jt({config:S(),name:e})});},hl=()=>{Ag();let e={client:x__default.default.template(Am),core:{apiError:x__default.default.template(wm),apiRequestOptions:x__default.default.template($m),apiResult:x__default.default.template(Dm),baseHttpRequest:x__default.default.template(Vm),cancelablePromise:x__default.default.template(Km),httpRequest:x__default.default.template(pl),request:x__default.default.template(ml),settings:x__default.default.template(cl)}};return x__default.default.registerPartial("functions/base64",x__default.default.template(Jm)),x__default.default.registerPartial("functions/catchErrorCodes",x__default.default.template(Zm)),x__default.default.registerPartial("functions/getFormData",x__default.default.template(Ym)),x__default.default.registerPartial("functions/getQueryString",x__default.default.template(el)),x__default.default.registerPartial("functions/getUrl",x__default.default.template(tl)),x__default.default.registerPartial("functions/isBlob",x__default.default.template(rl)),x__default.default.registerPartial("functions/isFormData",x__default.default.template(nl)),x__default.default.registerPartial("functions/isString",x__default.default.template(sl)),x__default.default.registerPartial("functions/isStringWithValue",x__default.default.template(ol)),x__default.default.registerPartial("functions/isSuccess",x__default.default.template(il)),x__default.default.registerPartial("functions/resolve",x__default.default.template(al)),x__default.default.registerPartial("fetch/getHeaders",x__default.default.template(Wm)),x__default.default.registerPartial("fetch/getRequestBody",x__default.default.template(Um)),x__default.default.registerPartial("fetch/getResponseBody",x__default.default.template(zm)),x__default.default.registerPartial("fetch/getResponseHeader",x__default.default.template(Qm)),x__default.default.registerPartial("fetch/request",x__default.default.template(Xm)),x__default.default.registerPartial("fetch/sendRequest",x__default.default.template(Gm)),x__default.default.registerPartial("xhr/getHeaders",x__default.default.template(ll)),x__default.default.registerPartial("xhr/getRequestBody",x__default.default.template(fl)),x__default.default.registerPartial("xhr/getResponseBody",x__default.default.template(ul)),x__default.default.registerPartial("xhr/getResponseHeader",x__default.default.template(dl)),x__default.default.registerPartial("xhr/request",x__default.default.template(yl)),x__default.default.registerPartial("xhr/sendRequest",x__default.default.template(gl)),x__default.default.registerPartial("axios/getHeaders",x__default.default.template(Mm)),x__default.default.registerPartial("axios/getRequestBody",x__default.default.template(Fm)),x__default.default.registerPartial("axios/getResponseBody",x__default.default.template(Bm)),x__default.default.registerPartial("axios/getResponseHeader",x__default.default.template(_m)),x__default.default.registerPartial("axios/request",x__default.default.template(Lm)),x__default.default.registerPartial("axios/sendRequest",x__default.default.template(Hm)),x__default.default.registerPartial("angular/getHeaders",x__default.default.template(Em)),x__default.default.registerPartial("angular/getRequestBody",x__default.default.template(vm)),x__default.default.registerPartial("angular/getResponseBody",x__default.default.template(jm)),x__default.default.registerPartial("angular/getResponseHeader",x__default.default.template(km)),x__default.default.registerPartial("angular/request",x__default.default.template(Nm)),x__default.default.registerPartial("angular/sendRequest",x__default.default.template(qm)),e};var Eg={stringCase:E};ke__default.default.enabled=jg__default.default().hasBasic;var d$=async e=>{let t=typeof e=="function"?await e():e,r=[];try{G.start("createClient"),G.start("config");for(let i of await Pm(t))if(r.push(i.config),i.errors.length)throw i.errors[0];G.end("config"),G.start("handlebars");let n=hl();G.end("handlebars");let o=(await Promise.all(r.map(i=>Ys({config:i,templates:n})))).filter(i=>!!i);G.end("createClient");let a=r[0];return a&&a.logs.level==="debug"&&new Qn({totalMark:"createClient"}).report({marks:["config","openapi","handlebars","parser","generator","postprocess"]}),o}catch(n){let s=r[0],o=s?s.dryRun:t?.dryRun,a=s?.logs??Xn(t),i;throw a.level!=="silent"&&a.file&&!o&&(i=ra(n,a.path??"")),a.level!=="silent"&&(sa({error:n,logPath:i}),await oa()&&await na(n)),n}},y$=async e=>typeof e=="function"?await e():e;exports.clientDefaultConfig=yt;exports.clientPluginHandler=gt;exports.createClient=d$;exports.defaultPaginationKeywords=Ns;exports.defaultPlugins=Vo;exports.defineConfig=y$;exports.utils=Eg;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map